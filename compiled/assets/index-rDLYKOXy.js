function Ew(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Jm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eg={exports:{}},Gl={},tg={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=Symbol.for("react.element"),Sw=Symbol.for("react.portal"),Cw=Symbol.for("react.fragment"),xw=Symbol.for("react.strict_mode"),Tw=Symbol.for("react.profiler"),Nw=Symbol.for("react.provider"),Aw=Symbol.for("react.context"),kw=Symbol.for("react.forward_ref"),Mw=Symbol.for("react.suspense"),Rw=Symbol.for("react.memo"),Ow=Symbol.for("react.lazy"),Rh=Symbol.iterator;function Iw(t){return t===null||typeof t!="object"?null:(t=Rh&&t[Rh]||t["@@iterator"],typeof t=="function"?t:null)}var ng={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rg=Object.assign,sg={};function ei(t,e,n){this.props=t,this.context=e,this.refs=sg,this.updater=n||ng}ei.prototype.isReactComponent={};ei.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ei.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ig(){}ig.prototype=ei.prototype;function Bd(t,e,n){this.props=t,this.context=e,this.refs=sg,this.updater=n||ng}var jd=Bd.prototype=new ig;jd.constructor=Bd;rg(jd,ei.prototype);jd.isPureReactComponent=!0;var Oh=Array.isArray,og=Object.prototype.hasOwnProperty,zd={current:null},ag={key:!0,ref:!0,__self:!0,__source:!0};function lg(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)og.call(e,r)&&!ag.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ao,type:t,key:i,ref:o,props:s,_owner:zd.current}}function Pw(t,e){return{$$typeof:Ao,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ao}function Dw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ih=/\/+/g;function Oc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dw(""+t.key):e.toString(36)}function Sa(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ao:case Sw:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Oc(o,0):r,Oh(s)?(n="",t!=null&&(n=t.replace(Ih,"$&/")+"/"),Sa(s,e,n,"",function(c){return c})):s!=null&&(Wd(s)&&(s=Pw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ih,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Oh(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Oc(i,a);o+=Sa(i,e,n,l,s)}else if(l=Iw(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Oc(i,a++),o+=Sa(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ho(t,e,n){if(t==null)return t;var r=[],s=0;return Sa(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $w(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pt={current:null},Ca={transition:null},Fw={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:Ca,ReactCurrentOwner:zd};se.Children={map:Ho,forEach:function(t,e,n){Ho(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ho(t,function(){e++}),e},toArray:function(t){return Ho(t,function(e){return e})||[]},only:function(t){if(!Wd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=ei;se.Fragment=Cw;se.Profiler=Tw;se.PureComponent=Bd;se.StrictMode=xw;se.Suspense=Mw;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fw;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rg({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)og.call(e,l)&&!ag.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ao,type:t.type,key:s,ref:i,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:Aw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Nw,_context:t},t.Consumer=t};se.createElement=lg;se.createFactory=function(t){var e=lg.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:kw,render:t}};se.isValidElement=Wd;se.lazy=function(t){return{$$typeof:Ow,_payload:{_status:-1,_result:t},_init:$w}};se.memo=function(t,e){return{$$typeof:Rw,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Ca.transition;Ca.transition={};try{t()}finally{Ca.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return pt.current.useCallback(t,e)};se.useContext=function(t){return pt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return pt.current.useDeferredValue(t)};se.useEffect=function(t,e){return pt.current.useEffect(t,e)};se.useId=function(){return pt.current.useId()};se.useImperativeHandle=function(t,e,n){return pt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return pt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return pt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return pt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return pt.current.useReducer(t,e,n)};se.useRef=function(t){return pt.current.useRef(t)};se.useState=function(t){return pt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return pt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return pt.current.useTransition()};se.version="18.2.0";tg.exports=se;var y=tg.exports;const pe=Jm(y),cg=Ew({__proto__:null,default:pe},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw=y,Vw=Symbol.for("react.element"),Uw=Symbol.for("react.fragment"),Bw=Object.prototype.hasOwnProperty,jw=Lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zw={key:!0,ref:!0,__self:!0,__source:!0};function ug(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Bw.call(e,r)&&!zw.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Vw,type:t,key:i,ref:o,props:s,_owner:jw.current}}Gl.Fragment=Uw;Gl.jsx=ug;Gl.jsxs=ug;eg.exports=Gl;var D=eg.exports,vu={},dg={exports:{}},It={},fg={exports:{}},hg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,M){var $=O.length;O.push(M);e:for(;0<$;){var U=$-1>>>1,H=O[U];if(0<s(H,M))O[U]=M,O[$]=H,$=U;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var M=O[0],$=O.pop();if($!==M){O[0]=$;e:for(var U=0,H=O.length,ae=H>>>1;U<ae;){var le=2*(U+1)-1,X=O[le],Z=le+1,ce=O[Z];if(0>s(X,$))Z<H&&0>s(ce,X)?(O[U]=ce,O[Z]=$,U=Z):(O[U]=X,O[le]=$,U=le);else if(Z<H&&0>s(ce,$))O[U]=ce,O[Z]=$,U=Z;else break e}}return M}function s(O,M){var $=O.sortIndex-M.sortIndex;return $!==0?$:O.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,p=!1,m=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=O)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function E(O){if(m=!1,w(O),!p)if(n(l)!==null)p=!0,I(b);else{var M=n(c);M!==null&&V(E,M.startTime-O)}}function b(O,M){p=!1,m&&(m=!1,g(C),C=-1),h=!0;var $=f;try{for(w(M),d=n(l);d!==null&&(!(d.expirationTime>M)||O&&!R());){var U=d.callback;if(typeof U=="function"){d.callback=null,f=d.priorityLevel;var H=U(d.expirationTime<=M);M=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),w(M)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var le=n(c);le!==null&&V(E,le.startTime-M),ae=!1}return ae}finally{d=null,f=$,h=!1}}var S=!1,x=null,C=-1,A=5,N=-1;function R(){return!(t.unstable_now()-N<A)}function T(){if(x!==null){var O=t.unstable_now();N=O;var M=!0;try{M=x(!0,O)}finally{M?F():(S=!1,x=null)}}else S=!1}var F;if(typeof v=="function")F=function(){v(T)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,L=k.port2;k.port1.onmessage=T,F=function(){L.postMessage(null)}}else F=function(){_(T,0)};function I(O){x=O,S||(S=!0,F())}function V(O,M){C=_(function(){O(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,I(b))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var $=f;f=M;try{return O()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,M){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=f;f=O;try{return M()}finally{f=$}},t.unstable_scheduleCallback=function(O,M,$){var U=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?U+$:U):$=U,O){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=$+H,O={id:u++,callback:M,priorityLevel:O,startTime:$,expirationTime:H,sortIndex:-1},$>U?(O.sortIndex=$,e(c,O),n(l)===null&&O===n(c)&&(m?(g(C),C=-1):m=!0,V(E,$-U))):(O.sortIndex=H,e(l,O),p||h||(p=!0,I(b))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var M=f;return function(){var $=f;f=M;try{return O.apply(this,arguments)}finally{f=$}}}})(hg);fg.exports=hg;var Ww=fg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=y,Rt=Ww;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mg=new Set,Wi={};function ss(t,e){Us(t,e),Us(t+"Capture",e)}function Us(t,e){for(Wi[t]=e,t=0;t<e.length;t++)mg.add(e[t])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=Object.prototype.hasOwnProperty,qw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ph={},Dh={};function Gw(t){return yu.call(Dh,t)?!0:yu.call(Ph,t)?!1:qw.test(t)?Dh[t]=!0:(Ph[t]=!0,!1)}function Hw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qw(t,e,n,r){if(e===null||typeof e>"u"||Hw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new mt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new mt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new mt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new mt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new mt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new mt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new mt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new mt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new mt(t,5,!1,t.toLowerCase(),null,!1,!1)});var qd=/[\-:]([a-z])/g;function Gd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qd,Gd);et[e]=new mt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qd,Gd);et[e]=new mt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qd,Gd);et[e]=new mt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new mt(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new mt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hd(t,e,n,r){var s=et.hasOwnProperty(e)?et[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qw(e,n,s,r)&&(n=null),r||s===null?Gw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jn=pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qo=Symbol.for("react.element"),gs=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Qd=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),gg=Symbol.for("react.provider"),vg=Symbol.for("react.context"),Kd=Symbol.for("react.forward_ref"),wu=Symbol.for("react.suspense"),bu=Symbol.for("react.suspense_list"),Yd=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),yg=Symbol.for("react.offscreen"),$h=Symbol.iterator;function yi(t){return t===null||typeof t!="object"?null:(t=$h&&t[$h]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,Ic;function Ai(t){if(Ic===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ic=e&&e[1]||""}return`
`+Ic+t}var Pc=!1;function Dc(t,e){if(!t||Pc)return"";Pc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ai(t):""}function Kw(t){switch(t.tag){case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 2:case 15:return t=Dc(t.type,!1),t;case 11:return t=Dc(t.type.render,!1),t;case 1:return t=Dc(t.type,!0),t;default:return""}}function Eu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case gs:return"Portal";case _u:return"Profiler";case Qd:return"StrictMode";case wu:return"Suspense";case bu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vg:return(t.displayName||"Context")+".Consumer";case gg:return(t._context.displayName||"Context")+".Provider";case Kd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yd:return e=t.displayName||null,e!==null?e:Eu(t.type)||"Memo";case tr:e=t._payload,t=t._init;try{return Eu(t(e))}catch{}}return null}function Yw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eu(e);case 8:return e===Qd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _r(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _g(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xw(t){var e=_g(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ko(t){t._valueTracker||(t._valueTracker=Xw(t))}function wg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_g(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ga(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Su(t,e){var n=e.checked;return Ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=_r(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bg(t,e){e=e.checked,e!=null&&Hd(t,"checked",e,!1)}function Cu(t,e){bg(t,e);var n=_r(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xu(t,e.type,n):e.hasOwnProperty("defaultValue")&&xu(t,e.type,_r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xu(t,e,n){(e!=="number"||Ga(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ki=Array.isArray;function Ms(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+_r(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(ki(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_r(n)}}function Eg(t,e){var n=_r(e.value),r=_r(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Uh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yo,Cg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yo=Yo||document.createElement("div"),Yo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zw=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(t){Zw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oi[e]=Oi[t]})});function xg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oi.hasOwnProperty(t)&&Oi[t]?(""+e).trim():e+"px"}function Tg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Jw=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(t,e){if(e){if(Jw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function ku(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=null;function Xd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ru=null,Rs=null,Os=null;function Bh(t){if(t=Ro(t)){if(typeof Ru!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Xl(e),Ru(t.stateNode,t.type,e))}}function Ng(t){Rs?Os?Os.push(t):Os=[t]:Rs=t}function Ag(){if(Rs){var t=Rs,e=Os;if(Os=Rs=null,Bh(t),e)for(t=0;t<e.length;t++)Bh(e[t])}}function kg(t,e){return t(e)}function Mg(){}var $c=!1;function Rg(t,e,n){if($c)return t(e,n);$c=!0;try{return kg(t,e,n)}finally{$c=!1,(Rs!==null||Os!==null)&&(Mg(),Ag())}}function Gi(t,e){var n=t.stateNode;if(n===null)return null;var r=Xl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Ou=!1;if(Pn)try{var _i={};Object.defineProperty(_i,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",_i,_i),window.removeEventListener("test",_i,_i)}catch{Ou=!1}function e1(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ii=!1,Ha=null,Qa=!1,Iu=null,t1={onError:function(t){Ii=!0,Ha=t}};function n1(t,e,n,r,s,i,o,a,l){Ii=!1,Ha=null,e1.apply(t1,arguments)}function r1(t,e,n,r,s,i,o,a,l){if(n1.apply(this,arguments),Ii){if(Ii){var c=Ha;Ii=!1,Ha=null}else throw Error(B(198));Qa||(Qa=!0,Iu=c)}}function is(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Og(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jh(t){if(is(t)!==t)throw Error(B(188))}function s1(t){var e=t.alternate;if(!e){if(e=is(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return jh(s),t;if(i===r)return jh(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Ig(t){return t=s1(t),t!==null?Pg(t):null}function Pg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pg(t);if(e!==null)return e;t=t.sibling}return null}var Dg=Rt.unstable_scheduleCallback,zh=Rt.unstable_cancelCallback,i1=Rt.unstable_shouldYield,o1=Rt.unstable_requestPaint,Fe=Rt.unstable_now,a1=Rt.unstable_getCurrentPriorityLevel,Zd=Rt.unstable_ImmediatePriority,$g=Rt.unstable_UserBlockingPriority,Ka=Rt.unstable_NormalPriority,l1=Rt.unstable_LowPriority,Fg=Rt.unstable_IdlePriority,Hl=null,mn=null;function c1(t){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Hl,t,void 0,(t.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:f1,u1=Math.log,d1=Math.LN2;function f1(t){return t>>>=0,t===0?32:31-(u1(t)/d1|0)|0}var Xo=64,Zo=4194304;function Mi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ya(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Mi(a):(i&=o,i!==0&&(r=Mi(i)))}else o=n&~s,o!==0?r=Mi(o):i!==0&&(r=Mi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-en(e),s=1<<n,r|=t[n],e&=~s;return r}function h1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-en(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=h1(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Pu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lg(){var t=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),t}function Fc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ko(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-en(e),t[e]=n}function m1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-en(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Jd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-en(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ue=0;function Vg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ug,ef,Bg,jg,zg,Du=!1,Jo=[],ur=null,dr=null,fr=null,Hi=new Map,Qi=new Map,ir=[],g1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wh(t,e){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Hi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(e.pointerId)}}function wi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ro(e),e!==null&&ef(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function v1(t,e,n,r,s){switch(e){case"focusin":return ur=wi(ur,t,e,n,r,s),!0;case"dragenter":return dr=wi(dr,t,e,n,r,s),!0;case"mouseover":return fr=wi(fr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hi.set(i,wi(Hi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qi.set(i,wi(Qi.get(i)||null,t,e,n,r,s)),!0}return!1}function Wg(t){var e=Pr(t.target);if(e!==null){var n=is(e);if(n!==null){if(e=n.tag,e===13){if(e=Og(n),e!==null){t.blockedOn=e,zg(t.priority,function(){Bg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$u(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mu=r,n.target.dispatchEvent(r),Mu=null}else return e=Ro(n),e!==null&&ef(e),t.blockedOn=n,!1;e.shift()}return!0}function qh(t,e,n){xa(t)&&n.delete(e)}function y1(){Du=!1,ur!==null&&xa(ur)&&(ur=null),dr!==null&&xa(dr)&&(dr=null),fr!==null&&xa(fr)&&(fr=null),Hi.forEach(qh),Qi.forEach(qh)}function bi(t,e){t.blockedOn===e&&(t.blockedOn=null,Du||(Du=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,y1)))}function Ki(t){function e(s){return bi(s,t)}if(0<Jo.length){bi(Jo[0],t);for(var n=1;n<Jo.length;n++){var r=Jo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ur!==null&&bi(ur,t),dr!==null&&bi(dr,t),fr!==null&&bi(fr,t),Hi.forEach(e),Qi.forEach(e),n=0;n<ir.length;n++)r=ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)Wg(n),n.blockedOn===null&&ir.shift()}var Is=jn.ReactCurrentBatchConfig,Xa=!0;function _1(t,e,n,r){var s=ue,i=Is.transition;Is.transition=null;try{ue=1,tf(t,e,n,r)}finally{ue=s,Is.transition=i}}function w1(t,e,n,r){var s=ue,i=Is.transition;Is.transition=null;try{ue=4,tf(t,e,n,r)}finally{ue=s,Is.transition=i}}function tf(t,e,n,r){if(Xa){var s=$u(t,e,n,r);if(s===null)Hc(t,e,r,Za,n),Wh(t,r);else if(v1(s,t,e,n,r))r.stopPropagation();else if(Wh(t,r),e&4&&-1<g1.indexOf(t)){for(;s!==null;){var i=Ro(s);if(i!==null&&Ug(i),i=$u(t,e,n,r),i===null&&Hc(t,e,r,Za,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Hc(t,e,r,null,n)}}var Za=null;function $u(t,e,n,r){if(Za=null,t=Xd(r),t=Pr(t),t!==null)if(e=is(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Og(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Za=t,null}function qg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a1()){case Zd:return 1;case $g:return 4;case Ka:case l1:return 16;case Fg:return 536870912;default:return 16}default:return 16}}var ar=null,nf=null,Ta=null;function Gg(){if(Ta)return Ta;var t,e=nf,n=e.length,r,s="value"in ar?ar.value:ar.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ta=s.slice(t,1<r?1-r:void 0)}function Na(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ea(){return!0}function Gh(){return!1}function Pt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ea:Gh,this.isPropagationStopped=Gh,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),e}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rf=Pt(ti),Mo=Ae({},ti,{view:0,detail:0}),b1=Pt(Mo),Lc,Vc,Ei,Ql=Ae({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Lc=t.screenX-Ei.screenX,Vc=t.screenY-Ei.screenY):Vc=Lc=0,Ei=t),Lc)},movementY:function(t){return"movementY"in t?t.movementY:Vc}}),Hh=Pt(Ql),E1=Ae({},Ql,{dataTransfer:0}),S1=Pt(E1),C1=Ae({},Mo,{relatedTarget:0}),Uc=Pt(C1),x1=Ae({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),T1=Pt(x1),N1=Ae({},ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A1=Pt(N1),k1=Ae({},ti,{data:0}),Qh=Pt(k1),M1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=O1[t])?!!e[t]:!1}function sf(){return I1}var P1=Ae({},Mo,{key:function(t){if(t.key){var e=M1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Na(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sf,charCode:function(t){return t.type==="keypress"?Na(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Na(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D1=Pt(P1),$1=Ae({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kh=Pt($1),F1=Ae({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sf}),L1=Pt(F1),V1=Ae({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),U1=Pt(V1),B1=Ae({},Ql,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),j1=Pt(B1),z1=[9,13,27,32],of=Pn&&"CompositionEvent"in window,Pi=null;Pn&&"documentMode"in document&&(Pi=document.documentMode);var W1=Pn&&"TextEvent"in window&&!Pi,Hg=Pn&&(!of||Pi&&8<Pi&&11>=Pi),Yh=" ",Xh=!1;function Qg(t,e){switch(t){case"keyup":return z1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function q1(t,e){switch(t){case"compositionend":return Kg(e);case"keypress":return e.which!==32?null:(Xh=!0,Yh);case"textInput":return t=e.data,t===Yh&&Xh?null:t;default:return null}}function G1(t,e){if(ys)return t==="compositionend"||!of&&Qg(t,e)?(t=Gg(),Ta=nf=ar=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hg&&e.locale!=="ko"?null:e.data;default:return null}}var H1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!H1[t.type]:e==="textarea"}function Yg(t,e,n,r){Ng(r),e=Ja(e,"onChange"),0<e.length&&(n=new rf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Di=null,Yi=null;function Q1(t){av(t,0)}function Kl(t){var e=bs(t);if(wg(e))return t}function K1(t,e){if(t==="change")return e}var Xg=!1;if(Pn){var Bc;if(Pn){var jc="oninput"in document;if(!jc){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),jc=typeof Jh.oninput=="function"}Bc=jc}else Bc=!1;Xg=Bc&&(!document.documentMode||9<document.documentMode)}function ep(){Di&&(Di.detachEvent("onpropertychange",Zg),Yi=Di=null)}function Zg(t){if(t.propertyName==="value"&&Kl(Yi)){var e=[];Yg(e,Yi,t,Xd(t)),Rg(Q1,e)}}function Y1(t,e,n){t==="focusin"?(ep(),Di=e,Yi=n,Di.attachEvent("onpropertychange",Zg)):t==="focusout"&&ep()}function X1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kl(Yi)}function Z1(t,e){if(t==="click")return Kl(e)}function J1(t,e){if(t==="input"||t==="change")return Kl(e)}function eb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sn=typeof Object.is=="function"?Object.is:eb;function Xi(t,e){if(sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yu.call(e,s)||!sn(t[s],e[s]))return!1}return!0}function tp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function np(t,e){var n=tp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tp(n)}}function Jg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Jg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ev(){for(var t=window,e=Ga();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ga(t.document)}return e}function af(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tb(t){var e=ev(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Jg(n.ownerDocument.documentElement,n)){if(r!==null&&af(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=np(n,i);var o=np(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nb=Pn&&"documentMode"in document&&11>=document.documentMode,_s=null,Fu=null,$i=null,Lu=!1;function rp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lu||_s==null||_s!==Ga(r)||(r=_s,"selectionStart"in r&&af(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$i&&Xi($i,r)||($i=r,r=Ja(Fu,"onSelect"),0<r.length&&(e=new rf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_s)))}function ta(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ws={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},zc={},tv={};Pn&&(tv=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Yl(t){if(zc[t])return zc[t];if(!ws[t])return t;var e=ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tv)return zc[t]=e[n];return t}var nv=Yl("animationend"),rv=Yl("animationiteration"),sv=Yl("animationstart"),iv=Yl("transitionend"),ov=new Map,sp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(t,e){ov.set(t,e),ss(e,[t])}for(var Wc=0;Wc<sp.length;Wc++){var qc=sp[Wc],rb=qc.toLowerCase(),sb=qc[0].toUpperCase()+qc.slice(1);Tr(rb,"on"+sb)}Tr(nv,"onAnimationEnd");Tr(rv,"onAnimationIteration");Tr(sv,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(iv,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ib=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function ip(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,r1(r,e,void 0,t),t.currentTarget=null}function av(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ip(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ip(s,a,c),i=l}}}if(Qa)throw t=Iu,Qa=!1,Iu=null,t}function _e(t,e){var n=e[zu];n===void 0&&(n=e[zu]=new Set);var r=t+"__bubble";n.has(r)||(lv(e,t,2,!1),n.add(r))}function Gc(t,e,n){var r=0;e&&(r|=4),lv(n,t,r,e)}var na="_reactListening"+Math.random().toString(36).slice(2);function Zi(t){if(!t[na]){t[na]=!0,mg.forEach(function(n){n!=="selectionchange"&&(ib.has(n)||Gc(n,!1,t),Gc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[na]||(e[na]=!0,Gc("selectionchange",!1,e))}}function lv(t,e,n,r){switch(qg(e)){case 1:var s=_1;break;case 4:s=w1;break;default:s=tf}n=s.bind(null,e,n,t),s=void 0,!Ou||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Hc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Pr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Rg(function(){var c=i,u=Xd(n),d=[];e:{var f=ov.get(t);if(f!==void 0){var h=rf,p=t;switch(t){case"keypress":if(Na(n)===0)break e;case"keydown":case"keyup":h=D1;break;case"focusin":p="focus",h=Uc;break;case"focusout":p="blur",h=Uc;break;case"beforeblur":case"afterblur":h=Uc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=S1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=L1;break;case nv:case rv:case sv:h=T1;break;case iv:h=U1;break;case"scroll":h=b1;break;case"wheel":h=j1;break;case"copy":case"cut":case"paste":h=A1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Kh}var m=(e&4)!==0,_=!m&&t==="scroll",g=m?f!==null?f+"Capture":null:f;m=[];for(var v=c,w;v!==null;){w=v;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,g!==null&&(E=Gi(v,g),E!=null&&m.push(Ji(v,E,w)))),_)break;v=v.return}0<m.length&&(f=new h(f,p,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Mu&&(p=n.relatedTarget||n.fromElement)&&(Pr(p)||p[Dn]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Pr(p):null,p!==null&&(_=is(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(m=Hh,E="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=Kh,E="onPointerLeave",g="onPointerEnter",v="pointer"),_=h==null?f:bs(h),w=p==null?f:bs(p),f=new m(E,v+"leave",h,n,u),f.target=_,f.relatedTarget=w,E=null,Pr(u)===c&&(m=new m(g,v+"enter",p,n,u),m.target=w,m.relatedTarget=_,E=m),_=E,h&&p)t:{for(m=h,g=p,v=0,w=m;w;w=ds(w))v++;for(w=0,E=g;E;E=ds(E))w++;for(;0<v-w;)m=ds(m),v--;for(;0<w-v;)g=ds(g),w--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=ds(m),g=ds(g)}m=null}else m=null;h!==null&&op(d,f,h,m,!1),p!==null&&_!==null&&op(d,_,p,m,!0)}}e:{if(f=c?bs(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var b=K1;else if(Zh(f))if(Xg)b=J1;else{b=X1;var S=Y1}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=Z1);if(b&&(b=b(t,c))){Yg(d,b,n,u);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&xu(f,"number",f.value)}switch(S=c?bs(c):window,t){case"focusin":(Zh(S)||S.contentEditable==="true")&&(_s=S,Fu=c,$i=null);break;case"focusout":$i=Fu=_s=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,rp(d,n,u);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":rp(d,n,u)}var x;if(of)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ys?Qg(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Hg&&n.locale!=="ko"&&(ys||C!=="onCompositionStart"?C==="onCompositionEnd"&&ys&&(x=Gg()):(ar=u,nf="value"in ar?ar.value:ar.textContent,ys=!0)),S=Ja(c,C),0<S.length&&(C=new Qh(C,t,null,n,u),d.push({event:C,listeners:S}),x?C.data=x:(x=Kg(n),x!==null&&(C.data=x)))),(x=W1?q1(t,n):G1(t,n))&&(c=Ja(c,"onBeforeInput"),0<c.length&&(u=new Qh("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=x))}av(d,e)})}function Ji(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ja(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gi(t,n),i!=null&&r.unshift(Ji(t,i,s)),i=Gi(t,e),i!=null&&r.push(Ji(t,i,s))),t=t.return}return r}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function op(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Gi(n,i),l!=null&&o.unshift(Ji(n,l,a))):s||(l=Gi(n,i),l!=null&&o.push(Ji(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ob=/\r\n?/g,ab=/\u0000|\uFFFD/g;function ap(t){return(typeof t=="string"?t:""+t).replace(ob,`
`).replace(ab,"")}function ra(t,e,n){if(e=ap(e),ap(t)!==e&&n)throw Error(B(425))}function el(){}var Vu=null,Uu=null;function Bu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ju=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,cb=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(t){return lp.resolve(null).then(t).catch(ub)}:ju;function ub(t){setTimeout(function(){throw t})}function Qc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ki(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ki(e)}function hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ni=Math.random().toString(36).slice(2),hn="__reactFiber$"+ni,eo="__reactProps$"+ni,Dn="__reactContainer$"+ni,zu="__reactEvents$"+ni,db="__reactListeners$"+ni,fb="__reactHandles$"+ni;function Pr(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dn]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cp(t);t!==null;){if(n=t[hn])return n;t=cp(t)}return e}t=n,n=t.parentNode}return null}function Ro(t){return t=t[hn]||t[Dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Xl(t){return t[eo]||null}var Wu=[],Es=-1;function Nr(t){return{current:t}}function we(t){0>Es||(t.current=Wu[Es],Wu[Es]=null,Es--)}function me(t,e){Es++,Wu[Es]=t.current,t.current=e}var wr={},ot=Nr(wr),wt=Nr(!1),Wr=wr;function Bs(t,e){var n=t.type.contextTypes;if(!n)return wr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function bt(t){return t=t.childContextTypes,t!=null}function tl(){we(wt),we(ot)}function up(t,e,n){if(ot.current!==wr)throw Error(B(168));me(ot,e),me(wt,n)}function cv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,Yw(t)||"Unknown",s));return Ae({},n,r)}function nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wr,Wr=ot.current,me(ot,t),me(wt,wt.current),!0}function dp(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=cv(t,e,Wr),r.__reactInternalMemoizedMergedChildContext=t,we(wt),we(ot),me(ot,t)):we(wt),me(wt,n)}var Nn=null,Zl=!1,Kc=!1;function uv(t){Nn===null?Nn=[t]:Nn.push(t)}function hb(t){Zl=!0,uv(t)}function Ar(){if(!Kc&&Nn!==null){Kc=!0;var t=0,e=ue;try{var n=Nn;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nn=null,Zl=!1}catch(s){throw Nn!==null&&(Nn=Nn.slice(t+1)),Dg(Zd,Ar),s}finally{ue=e,Kc=!1}}return null}var Ss=[],Cs=0,rl=null,sl=0,$t=[],Ft=0,qr=null,kn=1,Mn="";function Rr(t,e){Ss[Cs++]=sl,Ss[Cs++]=rl,rl=t,sl=e}function dv(t,e,n){$t[Ft++]=kn,$t[Ft++]=Mn,$t[Ft++]=qr,qr=t;var r=kn;t=Mn;var s=32-en(r)-1;r&=~(1<<s),n+=1;var i=32-en(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kn=1<<32-en(e)+s|n<<s|r,Mn=i+t}else kn=1<<i|n<<s|r,Mn=t}function lf(t){t.return!==null&&(Rr(t,1),dv(t,1,0))}function cf(t){for(;t===rl;)rl=Ss[--Cs],Ss[Cs]=null,sl=Ss[--Cs],Ss[Cs]=null;for(;t===qr;)qr=$t[--Ft],$t[Ft]=null,Mn=$t[--Ft],$t[Ft]=null,kn=$t[--Ft],$t[Ft]=null}var kt=null,At=null,xe=!1,Kt=null;function fv(t,e){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,At=hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qr!==null?{id:kn,overflow:Mn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kt=t,At=null,!0):!1;default:return!1}}function qu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gu(t){if(xe){var e=At;if(e){var n=e;if(!fp(t,e)){if(qu(t))throw Error(B(418));e=hr(n.nextSibling);var r=kt;e&&fp(t,e)?fv(r,n):(t.flags=t.flags&-4097|2,xe=!1,kt=t)}}else{if(qu(t))throw Error(B(418));t.flags=t.flags&-4097|2,xe=!1,kt=t}}}function hp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function sa(t){if(t!==kt)return!1;if(!xe)return hp(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bu(t.type,t.memoizedProps)),e&&(e=At)){if(qu(t))throw hv(),Error(B(418));for(;e;)fv(t,e),e=hr(e.nextSibling)}if(hp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){At=hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}At=null}}else At=kt?hr(t.stateNode.nextSibling):null;return!0}function hv(){for(var t=At;t;)t=hr(t.nextSibling)}function js(){At=kt=null,xe=!1}function uf(t){Kt===null?Kt=[t]:Kt.push(t)}var pb=jn.ReactCurrentBatchConfig;function Ht(t,e){if(t&&t.defaultProps){e=Ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var il=Nr(null),ol=null,xs=null,df=null;function ff(){df=xs=ol=null}function hf(t){var e=il.current;we(il),t._currentValue=e}function Hu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ps(t,e){ol=t,df=xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function jt(t){var e=t._currentValue;if(df!==t)if(t={context:t,memoizedValue:e,next:null},xs===null){if(ol===null)throw Error(B(308));xs=t,ol.dependencies={lanes:0,firstContext:t}}else xs=xs.next=t;return e}var Dr=null;function pf(t){Dr===null?Dr=[t]:Dr.push(t)}function pv(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,pf(e)):(n.next=s.next,s.next=n),e.interleaved=n,$n(t,r)}function $n(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nr=!1;function mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function On(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,$n(t,n)}return s=r.interleaved,s===null?(e.next=e,pf(r)):(e.next=s.next,s.next=e),r.interleaved=e,$n(t,n)}function Aa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jd(t,n)}}function pp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function al(t,e,n,r){var s=t.updateQueue;nr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(f=e,h=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Ae({},d,f);break e;case 2:nr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Hr|=o,t.lanes=o,t.memoizedState=d}}function mp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var gv=new pg.Component().refs;function Qu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jl={isMounted:function(t){return(t=t._reactInternals)?is(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ft(),s=gr(t),i=On(r,s);i.payload=e,n!=null&&(i.callback=n),e=pr(t,i,s),e!==null&&(tn(e,t,s,r),Aa(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ft(),s=gr(t),i=On(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=pr(t,i,s),e!==null&&(tn(e,t,s,r),Aa(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ft(),r=gr(t),s=On(n,r);s.tag=2,e!=null&&(s.callback=e),e=pr(t,s,r),e!==null&&(tn(e,t,r,n),Aa(e,t,r))}};function gp(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Xi(n,r)||!Xi(s,i):!0}function vv(t,e,n){var r=!1,s=wr,i=e.contextType;return typeof i=="object"&&i!==null?i=jt(i):(s=bt(e)?Wr:ot.current,r=e.contextTypes,i=(r=r!=null)?Bs(t,s):wr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jl.enqueueReplaceState(e,e.state,null)}function Ku(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=gv,mf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jt(i):(i=bt(e)?Wr:ot.current,s.context=Bs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Jl.enqueueReplaceState(s,s.state,null),al(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Si(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===gv&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function ia(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yp(t){var e=t._init;return e(t._payload)}function yv(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=vr(g,v),g.index=0,g.sibling=null,g}function i(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,w,E){return v===null||v.tag!==6?(v=nu(w,g.mode,E),v.return=g,v):(v=s(v,w),v.return=g,v)}function l(g,v,w,E){var b=w.type;return b===vs?u(g,v,w.props.children,E,w.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===tr&&yp(b)===v.type)?(E=s(v,w.props),E.ref=Si(g,v,w),E.return=g,E):(E=Pa(w.type,w.key,w.props,null,g.mode,E),E.ref=Si(g,v,w),E.return=g,E)}function c(g,v,w,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=ru(w,g.mode,E),v.return=g,v):(v=s(v,w.children||[]),v.return=g,v)}function u(g,v,w,E,b){return v===null||v.tag!==7?(v=Ur(w,g.mode,E,b),v.return=g,v):(v=s(v,w),v.return=g,v)}function d(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=nu(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qo:return w=Pa(v.type,v.key,v.props,null,g.mode,w),w.ref=Si(g,null,v),w.return=g,w;case gs:return v=ru(v,g.mode,w),v.return=g,v;case tr:var E=v._init;return d(g,E(v._payload),w)}if(ki(v)||yi(v))return v=Ur(v,g.mode,w,null),v.return=g,v;ia(g,v)}return null}function f(g,v,w,E){var b=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(g,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qo:return w.key===b?l(g,v,w,E):null;case gs:return w.key===b?c(g,v,w,E):null;case tr:return b=w._init,f(g,v,b(w._payload),E)}if(ki(w)||yi(w))return b!==null?null:u(g,v,w,E,null);ia(g,w)}return null}function h(g,v,w,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(w)||null,a(v,g,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qo:return g=g.get(E.key===null?w:E.key)||null,l(v,g,E,b);case gs:return g=g.get(E.key===null?w:E.key)||null,c(v,g,E,b);case tr:var S=E._init;return h(g,v,w,S(E._payload),b)}if(ki(E)||yi(E))return g=g.get(w)||null,u(v,g,E,b,null);ia(v,E)}return null}function p(g,v,w,E){for(var b=null,S=null,x=v,C=v=0,A=null;x!==null&&C<w.length;C++){x.index>C?(A=x,x=null):A=x.sibling;var N=f(g,x,w[C],E);if(N===null){x===null&&(x=A);break}t&&x&&N.alternate===null&&e(g,x),v=i(N,v,C),S===null?b=N:S.sibling=N,S=N,x=A}if(C===w.length)return n(g,x),xe&&Rr(g,C),b;if(x===null){for(;C<w.length;C++)x=d(g,w[C],E),x!==null&&(v=i(x,v,C),S===null?b=x:S.sibling=x,S=x);return xe&&Rr(g,C),b}for(x=r(g,x);C<w.length;C++)A=h(x,g,C,w[C],E),A!==null&&(t&&A.alternate!==null&&x.delete(A.key===null?C:A.key),v=i(A,v,C),S===null?b=A:S.sibling=A,S=A);return t&&x.forEach(function(R){return e(g,R)}),xe&&Rr(g,C),b}function m(g,v,w,E){var b=yi(w);if(typeof b!="function")throw Error(B(150));if(w=b.call(w),w==null)throw Error(B(151));for(var S=b=null,x=v,C=v=0,A=null,N=w.next();x!==null&&!N.done;C++,N=w.next()){x.index>C?(A=x,x=null):A=x.sibling;var R=f(g,x,N.value,E);if(R===null){x===null&&(x=A);break}t&&x&&R.alternate===null&&e(g,x),v=i(R,v,C),S===null?b=R:S.sibling=R,S=R,x=A}if(N.done)return n(g,x),xe&&Rr(g,C),b;if(x===null){for(;!N.done;C++,N=w.next())N=d(g,N.value,E),N!==null&&(v=i(N,v,C),S===null?b=N:S.sibling=N,S=N);return xe&&Rr(g,C),b}for(x=r(g,x);!N.done;C++,N=w.next())N=h(x,g,C,N.value,E),N!==null&&(t&&N.alternate!==null&&x.delete(N.key===null?C:N.key),v=i(N,v,C),S===null?b=N:S.sibling=N,S=N);return t&&x.forEach(function(T){return e(g,T)}),xe&&Rr(g,C),b}function _(g,v,w,E){if(typeof w=="object"&&w!==null&&w.type===vs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qo:e:{for(var b=w.key,S=v;S!==null;){if(S.key===b){if(b=w.type,b===vs){if(S.tag===7){n(g,S.sibling),v=s(S,w.props.children),v.return=g,g=v;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===tr&&yp(b)===S.type){n(g,S.sibling),v=s(S,w.props),v.ref=Si(g,S,w),v.return=g,g=v;break e}n(g,S);break}else e(g,S);S=S.sibling}w.type===vs?(v=Ur(w.props.children,g.mode,E,w.key),v.return=g,g=v):(E=Pa(w.type,w.key,w.props,null,g.mode,E),E.ref=Si(g,v,w),E.return=g,g=E)}return o(g);case gs:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(g,v.sibling),v=s(v,w.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=ru(w,g.mode,E),v.return=g,g=v}return o(g);case tr:return S=w._init,_(g,v,S(w._payload),E)}if(ki(w))return p(g,v,w,E);if(yi(w))return m(g,v,w,E);ia(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(g,v.sibling),v=s(v,w),v.return=g,g=v):(n(g,v),v=nu(w,g.mode,E),v.return=g,g=v),o(g)):n(g,v)}return _}var zs=yv(!0),_v=yv(!1),Oo={},gn=Nr(Oo),to=Nr(Oo),no=Nr(Oo);function $r(t){if(t===Oo)throw Error(B(174));return t}function gf(t,e){switch(me(no,e),me(to,t),me(gn,Oo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nu(e,t)}we(gn),me(gn,e)}function Ws(){we(gn),we(to),we(no)}function wv(t){$r(no.current);var e=$r(gn.current),n=Nu(e,t.type);e!==n&&(me(to,t),me(gn,n))}function vf(t){to.current===t&&(we(gn),we(to))}var Te=Nr(0);function ll(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yc=[];function yf(){for(var t=0;t<Yc.length;t++)Yc[t]._workInProgressVersionPrimary=null;Yc.length=0}var ka=jn.ReactCurrentDispatcher,Xc=jn.ReactCurrentBatchConfig,Gr=0,Ne=null,je=null,Qe=null,cl=!1,Fi=!1,ro=0,mb=0;function nt(){throw Error(B(321))}function _f(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sn(t[n],e[n]))return!1;return!0}function wf(t,e,n,r,s,i){if(Gr=i,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ka.current=t===null||t.memoizedState===null?_b:wb,t=n(r,s),Fi){i=0;do{if(Fi=!1,ro=0,25<=i)throw Error(B(301));i+=1,Qe=je=null,e.updateQueue=null,ka.current=bb,t=n(r,s)}while(Fi)}if(ka.current=ul,e=je!==null&&je.next!==null,Gr=0,Qe=je=Ne=null,cl=!1,e)throw Error(B(300));return t}function bf(){var t=ro!==0;return ro=0,t}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ne.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function zt(){if(je===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=Qe===null?Ne.memoizedState:Qe.next;if(e!==null)Qe=e,je=t;else{if(t===null)throw Error(B(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Qe===null?Ne.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function so(t,e){return typeof e=="function"?e(t):e}function Zc(t){var e=zt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Gr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ne.lanes|=u,Hr|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,sn(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ne.lanes|=i,Hr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jc(t){var e=zt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);sn(i,e.memoizedState)||(_t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bv(){}function Ev(t,e){var n=Ne,r=zt(),s=e(),i=!sn(r.memoizedState,s);if(i&&(r.memoizedState=s,_t=!0),r=r.queue,Ef(xv.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,io(9,Cv.bind(null,n,r,s,e),void 0,null),Ke===null)throw Error(B(349));Gr&30||Sv(n,e,s)}return s}function Sv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Cv(t,e,n,r){e.value=n,e.getSnapshot=r,Tv(e)&&Nv(t)}function xv(t,e,n){return n(function(){Tv(e)&&Nv(t)})}function Tv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sn(t,n)}catch{return!0}}function Nv(t){var e=$n(t,1);e!==null&&tn(e,t,1,-1)}function _p(t){var e=fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},e.queue=t,t=t.dispatch=yb.bind(null,Ne,t),[e.memoizedState,t]}function io(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Av(){return zt().memoizedState}function Ma(t,e,n,r){var s=fn();Ne.flags|=t,s.memoizedState=io(1|e,n,void 0,r===void 0?null:r)}function ec(t,e,n,r){var s=zt();r=r===void 0?null:r;var i=void 0;if(je!==null){var o=je.memoizedState;if(i=o.destroy,r!==null&&_f(r,o.deps)){s.memoizedState=io(e,n,i,r);return}}Ne.flags|=t,s.memoizedState=io(1|e,n,i,r)}function wp(t,e){return Ma(8390656,8,t,e)}function Ef(t,e){return ec(2048,8,t,e)}function kv(t,e){return ec(4,2,t,e)}function Mv(t,e){return ec(4,4,t,e)}function Rv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ov(t,e,n){return n=n!=null?n.concat([t]):null,ec(4,4,Rv.bind(null,e,t),n)}function Sf(){}function Iv(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_f(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pv(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_f(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Dv(t,e,n){return Gr&21?(sn(n,e)||(n=Lg(),Ne.lanes|=n,Hr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function gb(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=Xc.transition;Xc.transition={};try{t(!1),e()}finally{ue=n,Xc.transition=r}}function $v(){return zt().memoizedState}function vb(t,e,n){var r=gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fv(t))Lv(e,n);else if(n=pv(t,e,n,r),n!==null){var s=ft();tn(n,t,r,s),Vv(n,e,r)}}function yb(t,e,n){var r=gr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fv(t))Lv(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,sn(a,o)){var l=e.interleaved;l===null?(s.next=s,pf(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=pv(t,e,s,r),n!==null&&(s=ft(),tn(n,t,r,s),Vv(n,e,r))}}function Fv(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function Lv(t,e){Fi=cl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jd(t,n)}}var ul={readContext:jt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},_b={readContext:jt,useCallback:function(t,e){return fn().memoizedState=[t,e===void 0?null:e],t},useContext:jt,useEffect:wp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ma(4194308,4,Rv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ma(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ma(4,2,t,e)},useMemo:function(t,e){var n=fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vb.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=fn();return t={current:t},e.memoizedState=t},useState:_p,useDebugValue:Sf,useDeferredValue:function(t){return fn().memoizedState=t},useTransition:function(){var t=_p(!1),e=t[0];return t=gb.bind(null,t[1]),fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,s=fn();if(xe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ke===null)throw Error(B(349));Gr&30||Sv(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,wp(xv.bind(null,r,i,t),[t]),r.flags|=2048,io(9,Cv.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=fn(),e=Ke.identifierPrefix;if(xe){var n=Mn,r=kn;n=(r&~(1<<32-en(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ro++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wb={readContext:jt,useCallback:Iv,useContext:jt,useEffect:Ef,useImperativeHandle:Ov,useInsertionEffect:kv,useLayoutEffect:Mv,useMemo:Pv,useReducer:Zc,useRef:Av,useState:function(){return Zc(so)},useDebugValue:Sf,useDeferredValue:function(t){var e=zt();return Dv(e,je.memoizedState,t)},useTransition:function(){var t=Zc(so)[0],e=zt().memoizedState;return[t,e]},useMutableSource:bv,useSyncExternalStore:Ev,useId:$v,unstable_isNewReconciler:!1},bb={readContext:jt,useCallback:Iv,useContext:jt,useEffect:Ef,useImperativeHandle:Ov,useInsertionEffect:kv,useLayoutEffect:Mv,useMemo:Pv,useReducer:Jc,useRef:Av,useState:function(){return Jc(so)},useDebugValue:Sf,useDeferredValue:function(t){var e=zt();return je===null?e.memoizedState=t:Dv(e,je.memoizedState,t)},useTransition:function(){var t=Jc(so)[0],e=zt().memoizedState;return[t,e]},useMutableSource:bv,useSyncExternalStore:Ev,useId:$v,unstable_isNewReconciler:!1};function qs(t,e){try{var n="",r=e;do n+=Kw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function eu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Eb=typeof WeakMap=="function"?WeakMap:Map;function Uv(t,e,n){n=On(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fl||(fl=!0,od=r),Yu(t,e)},n}function Bv(t,e,n){n=On(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Yu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yu(t,e),typeof r!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function bp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Eb;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=$b.bind(null,t,e,n),e.then(t,t))}function Ep(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=On(-1,1),e.tag=2,pr(n,e,1))),n.lanes|=1),t)}var Sb=jn.ReactCurrentOwner,_t=!1;function ct(t,e,n,r){e.child=t===null?_v(e,null,n,r):zs(e,t.child,n,r)}function Cp(t,e,n,r,s){n=n.render;var i=e.ref;return Ps(e,s),r=wf(t,e,n,r,i,s),n=bf(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fn(t,e,s)):(xe&&n&&lf(e),e.flags|=1,ct(t,e,r,s),e.child)}function xp(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Rf(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,jv(t,e,i,r,s)):(t=Pa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xi,n(o,r)&&t.ref===e.ref)return Fn(t,e,s)}return e.flags|=1,t=vr(i,r),t.ref=e.ref,t.return=e,e.child=t}function jv(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Xi(i,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Fn(t,e,s)}return Xu(t,e,n,r,s)}function zv(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Ns,Tt),Tt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(Ns,Tt),Tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(Ns,Tt),Tt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,me(Ns,Tt),Tt|=r;return ct(t,e,s,n),e.child}function Wv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xu(t,e,n,r,s){var i=bt(n)?Wr:ot.current;return i=Bs(e,i),Ps(e,s),n=wf(t,e,n,r,i,s),r=bf(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fn(t,e,s)):(xe&&r&&lf(e),e.flags|=1,ct(t,e,n,s),e.child)}function Tp(t,e,n,r,s){if(bt(n)){var i=!0;nl(e)}else i=!1;if(Ps(e,s),e.stateNode===null)Ra(t,e),vv(e,n,r),Ku(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jt(c):(c=bt(n)?Wr:ot.current,c=Bs(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&vp(e,o,r,c),nr=!1;var f=e.memoizedState;o.state=f,al(e,r,o,s),l=e.memoizedState,a!==r||f!==l||wt.current||nr?(typeof u=="function"&&(Qu(e,n,u,r),l=e.memoizedState),(a=nr||gp(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mv(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ht(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jt(l):(l=bt(n)?Wr:ot.current,l=Bs(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&vp(e,o,r,l),nr=!1,f=e.memoizedState,o.state=f,al(e,r,o,s);var p=e.memoizedState;a!==d||f!==p||wt.current||nr?(typeof h=="function"&&(Qu(e,n,h,r),p=e.memoizedState),(c=nr||gp(e,n,c,r,f,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Zu(t,e,n,r,i,s)}function Zu(t,e,n,r,s,i){Wv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&dp(e,n,!1),Fn(t,e,i);r=e.stateNode,Sb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zs(e,t.child,null,i),e.child=zs(e,null,a,i)):ct(t,e,a,i),e.memoizedState=r.state,s&&dp(e,n,!0),e.child}function qv(t){var e=t.stateNode;e.pendingContext?up(t,e.pendingContext,e.pendingContext!==e.context):e.context&&up(t,e.context,!1),gf(t,e.containerInfo)}function Np(t,e,n,r,s){return js(),uf(s),e.flags|=256,ct(t,e,n,r),e.child}var Ju={dehydrated:null,treeContext:null,retryLane:0};function ed(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gv(t,e,n){var r=e.pendingProps,s=Te.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),me(Te,s&1),t===null)return Gu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=rc(o,r,0,null),t=Ur(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ed(n),e.memoizedState=Ju,t):Cf(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Cb(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=vr(a,i):(i=Ur(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ed(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ju,r}return i=t.child,t=i.sibling,r=vr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Cf(t,e){return e=rc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oa(t,e,n,r){return r!==null&&uf(r),zs(e,t.child,null,n),t=Cf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cb(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=eu(Error(B(422))),oa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=rc({mode:"visible",children:r.children},s,0,null),i=Ur(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&zs(e,t.child,null,o),e.child.memoizedState=ed(o),e.memoizedState=Ju,i);if(!(e.mode&1))return oa(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=eu(i,r,void 0),oa(t,e,o,r)}if(a=(o&t.childLanes)!==0,_t||a){if(r=Ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$n(t,s),tn(r,t,s,-1))}return Mf(),r=eu(Error(B(421))),oa(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Fb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,At=hr(s.nextSibling),kt=e,xe=!0,Kt=null,t!==null&&($t[Ft++]=kn,$t[Ft++]=Mn,$t[Ft++]=qr,kn=t.id,Mn=t.overflow,qr=e),e=Cf(e,r.children),e.flags|=4096,e)}function Ap(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hu(t.return,e,n)}function tu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Hv(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ct(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ap(t,n,e);else if(t.tag===19)Ap(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(Te,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ll(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),tu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ll(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}tu(e,!0,n,null,i);break;case"together":tu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ra(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=vr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xb(t,e,n){switch(e.tag){case 3:qv(e),js();break;case 5:wv(e);break;case 1:bt(e.type)&&nl(e);break;case 4:gf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;me(il,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?Gv(t,e,n):(me(Te,Te.current&1),t=Fn(t,e,n),t!==null?t.sibling:null);me(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Hv(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,zv(t,e,n)}return Fn(t,e,n)}var Qv,td,Kv,Yv;Qv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};td=function(){};Kv=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,$r(gn.current);var i=null;switch(n){case"input":s=Su(t,s),r=Su(t,r),i=[];break;case"select":s=Ae({},s,{value:void 0}),r=Ae({},r,{value:void 0}),i=[];break;case"textarea":s=Tu(t,s),r=Tu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=el)}Au(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_e("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Yv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ci(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Tb(t,e,n){var r=e.pendingProps;switch(cf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return bt(e.type)&&tl(),rt(e),null;case 3:return r=e.stateNode,Ws(),we(wt),we(ot),yf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kt!==null&&(cd(Kt),Kt=null))),td(t,e),rt(e),null;case 5:vf(e);var s=$r(no.current);if(n=e.type,t!==null&&e.stateNode!=null)Kv(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return rt(e),null}if(t=$r(gn.current),sa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hn]=e,r[eo]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<Ri.length;s++)_e(Ri[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Fh(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":Vh(r,i),_e("invalid",r)}Au(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ra(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ra(r.textContent,a,t),s=["children",""+a]):Wi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":Ko(r),Lh(r,i,!0);break;case"textarea":Ko(r),Uh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=el)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hn]=e,t[eo]=r,Qv(t,e,!1,!1),e.stateNode=t;e:{switch(o=ku(n,r),n){case"dialog":_e("cancel",t),_e("close",t),s=r;break;case"iframe":case"object":case"embed":_e("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ri.length;s++)_e(Ri[s],t);s=r;break;case"source":_e("error",t),s=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=r;break;case"details":_e("toggle",t),s=r;break;case"input":Fh(t,r),s=Su(t,r),_e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ae({},r,{value:void 0}),_e("invalid",t);break;case"textarea":Vh(t,r),s=Tu(t,r),_e("invalid",t);break;default:s=r}Au(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Tg(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cg(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&qi(t,l):typeof l=="number"&&qi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",t):l!=null&&Hd(t,i,l,o))}switch(n){case"input":Ko(t),Lh(t,r,!1);break;case"textarea":Ko(t),Uh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+_r(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ms(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ms(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=el)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rt(e),null;case 6:if(t&&e.stateNode!=null)Yv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=$r(no.current),$r(gn.current),sa(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(i=r.nodeValue!==n)&&(t=kt,t!==null))switch(t.tag){case 3:ra(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ra(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return rt(e),null;case 13:if(we(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&At!==null&&e.mode&1&&!(e.flags&128))hv(),js(),e.flags|=98560,i=!1;else if(i=sa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[hn]=e}else js(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),i=!1}else Kt!==null&&(cd(Kt),Kt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?ze===0&&(ze=3):Mf())),e.updateQueue!==null&&(e.flags|=4),rt(e),null);case 4:return Ws(),td(t,e),t===null&&Zi(e.stateNode.containerInfo),rt(e),null;case 10:return hf(e.type._context),rt(e),null;case 17:return bt(e.type)&&tl(),rt(e),null;case 19:if(we(Te),i=e.memoizedState,i===null)return rt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ci(i,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ll(t),o!==null){for(e.flags|=128,Ci(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Te,Te.current&1|2),e.child}t=t.sibling}i.tail!==null&&Fe()>Gs&&(e.flags|=128,r=!0,Ci(i,!1),e.lanes=4194304)}else{if(!r)if(t=ll(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ci(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xe)return rt(e),null}else 2*Fe()-i.renderingStartTime>Gs&&n!==1073741824&&(e.flags|=128,r=!0,Ci(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Fe(),e.sibling=null,n=Te.current,me(Te,r?n&1|2:n&1),e):(rt(e),null);case 22:case 23:return kf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tt&1073741824&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function Nb(t,e){switch(cf(e),e.tag){case 1:return bt(e.type)&&tl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ws(),we(wt),we(ot),yf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vf(e),null;case 13:if(we(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Te),null;case 4:return Ws(),null;case 10:return hf(e.type._context),null;case 22:case 23:return kf(),null;case 24:return null;default:return null}}var aa=!1,it=!1,Ab=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Ts(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function nd(t,e,n){try{n()}catch(r){Me(t,e,r)}}var kp=!1;function kb(t,e){if(Vu=Xa,t=ev(),af(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uu={focusedElem:t,selectionRange:n},Xa=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,_=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Ht(e.type,m),_);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(E){Me(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return p=kp,kp=!1,p}function Li(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nd(e,n,i)}s=s.next}while(s!==r)}}function tc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xv(t){var e=t.alternate;e!==null&&(t.alternate=null,Xv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[eo],delete e[zu],delete e[db],delete e[fb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zv(t){return t.tag===5||t.tag===3||t.tag===4}function Mp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=el));else if(r!==4&&(t=t.child,t!==null))for(sd(t,e,n),t=t.sibling;t!==null;)sd(t,e,n),t=t.sibling}function id(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(id(t,e,n),t=t.sibling;t!==null;)id(t,e,n),t=t.sibling}var Ze=null,Qt=!1;function Yn(t,e,n){for(n=n.child;n!==null;)Jv(t,e,n),n=n.sibling}function Jv(t,e,n){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Hl,n)}catch{}switch(n.tag){case 5:it||Ts(n,e);case 6:var r=Ze,s=Qt;Ze=null,Yn(t,e,n),Ze=r,Qt=s,Ze!==null&&(Qt?(t=Ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(Qt?(t=Ze,n=n.stateNode,t.nodeType===8?Qc(t.parentNode,n):t.nodeType===1&&Qc(t,n),Ki(t)):Qc(Ze,n.stateNode));break;case 4:r=Ze,s=Qt,Ze=n.stateNode.containerInfo,Qt=!0,Yn(t,e,n),Ze=r,Qt=s;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nd(n,e,o),s=s.next}while(s!==r)}Yn(t,e,n);break;case 1:if(!it&&(Ts(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}Yn(t,e,n);break;case 21:Yn(t,e,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,Yn(t,e,n),it=r):Yn(t,e,n);break;default:Yn(t,e,n)}}function Rp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ab),e.forEach(function(r){var s=Lb.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,Qt=!1;break e;case 3:Ze=a.stateNode.containerInfo,Qt=!0;break e;case 4:Ze=a.stateNode.containerInfo,Qt=!0;break e}a=a.return}if(Ze===null)throw Error(B(160));Jv(i,o,s),Ze=null,Qt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Me(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ey(e,t),e=e.sibling}function ey(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gt(e,t),dn(t),r&4){try{Li(3,t,t.return),tc(3,t)}catch(m){Me(t,t.return,m)}try{Li(5,t,t.return)}catch(m){Me(t,t.return,m)}}break;case 1:Gt(e,t),dn(t),r&512&&n!==null&&Ts(n,n.return);break;case 5:if(Gt(e,t),dn(t),r&512&&n!==null&&Ts(n,n.return),t.flags&32){var s=t.stateNode;try{qi(s,"")}catch(m){Me(t,t.return,m)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bg(s,i),ku(a,o);var c=ku(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Tg(s,d):u==="dangerouslySetInnerHTML"?Cg(s,d):u==="children"?qi(s,d):Hd(s,u,d,c)}switch(a){case"input":Cu(s,i);break;case"textarea":Eg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Ms(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ms(s,!!i.multiple,i.defaultValue,!0):Ms(s,!!i.multiple,i.multiple?[]:"",!1))}s[eo]=i}catch(m){Me(t,t.return,m)}}break;case 6:if(Gt(e,t),dn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){Me(t,t.return,m)}}break;case 3:if(Gt(e,t),dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ki(e.containerInfo)}catch(m){Me(t,t.return,m)}break;case 4:Gt(e,t),dn(t);break;case 13:Gt(e,t),dn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Nf=Fe())),r&4&&Rp(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(it=(c=it)||u,Gt(e,t),it=c):Gt(e,t),dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Q=t,u=t.child;u!==null;){for(d=Q=u;Q!==null;){switch(f=Q,h=f.child,f.tag){case 0:case 11:case 14:case 15:Li(4,f,f.return);break;case 1:Ts(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Me(r,n,m)}}break;case 5:Ts(f,f.return);break;case 22:if(f.memoizedState!==null){Ip(d);continue}}h!==null?(h.return=f,Q=h):Ip(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xg("display",o))}catch(m){Me(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Me(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Gt(e,t),dn(t),r&4&&Rp(t);break;case 21:break;default:Gt(e,t),dn(t)}}function dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zv(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qi(s,""),r.flags&=-33);var i=Mp(t);id(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Mp(t);sd(t,a,o);break;default:throw Error(B(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mb(t,e,n){Q=t,ty(t)}function ty(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||aa;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||it;a=aa;var c=it;if(aa=o,(it=l)&&!c)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?Pp(s):l!==null?(l.return=o,Q=l):Pp(s);for(;i!==null;)Q=i,ty(i),i=i.sibling;Q=s,aa=a,it=c}Op(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):Op(t)}}function Op(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:it||tc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!it)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ht(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mp(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ki(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}it||e.flags&512&&rd(e)}catch(f){Me(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Ip(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Pp(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{tc(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Me(e,s,l)}}var i=e.return;try{rd(e)}catch(l){Me(e,i,l)}break;case 5:var o=e.return;try{rd(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var Rb=Math.ceil,dl=jn.ReactCurrentDispatcher,xf=jn.ReactCurrentOwner,Ut=jn.ReactCurrentBatchConfig,oe=0,Ke=null,Ve=null,Je=0,Tt=0,Ns=Nr(0),ze=0,oo=null,Hr=0,nc=0,Tf=0,Vi=null,vt=null,Nf=0,Gs=1/0,xn=null,fl=!1,od=null,mr=null,la=!1,lr=null,hl=0,Ui=0,ad=null,Oa=-1,Ia=0;function ft(){return oe&6?Fe():Oa!==-1?Oa:Oa=Fe()}function gr(t){return t.mode&1?oe&2&&Je!==0?Je&-Je:pb.transition!==null?(Ia===0&&(Ia=Lg()),Ia):(t=ue,t!==0||(t=window.event,t=t===void 0?16:qg(t.type)),t):1}function tn(t,e,n,r){if(50<Ui)throw Ui=0,ad=null,Error(B(185));ko(t,n,r),(!(oe&2)||t!==Ke)&&(t===Ke&&(!(oe&2)&&(nc|=n),ze===4&&or(t,Je)),Et(t,r),n===1&&oe===0&&!(e.mode&1)&&(Gs=Fe()+500,Zl&&Ar()))}function Et(t,e){var n=t.callbackNode;p1(t,e);var r=Ya(t,t===Ke?Je:0);if(r===0)n!==null&&zh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zh(n),e===1)t.tag===0?hb(Dp.bind(null,t)):uv(Dp.bind(null,t)),cb(function(){!(oe&6)&&Ar()}),n=null;else{switch(Vg(r)){case 1:n=Zd;break;case 4:n=$g;break;case 16:n=Ka;break;case 536870912:n=Fg;break;default:n=Ka}n=cy(n,ny.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ny(t,e){if(Oa=-1,Ia=0,oe&6)throw Error(B(327));var n=t.callbackNode;if(Ds()&&t.callbackNode!==n)return null;var r=Ya(t,t===Ke?Je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pl(t,r);else{e=r;var s=oe;oe|=2;var i=sy();(Ke!==t||Je!==e)&&(xn=null,Gs=Fe()+500,Vr(t,e));do try{Pb();break}catch(a){ry(t,a)}while(!0);ff(),dl.current=i,oe=s,Ve!==null?e=0:(Ke=null,Je=0,e=ze)}if(e!==0){if(e===2&&(s=Pu(t),s!==0&&(r=s,e=ld(t,s))),e===1)throw n=oo,Vr(t,0),or(t,r),Et(t,Fe()),n;if(e===6)or(t,r);else{if(s=t.current.alternate,!(r&30)&&!Ob(s)&&(e=pl(t,r),e===2&&(i=Pu(t),i!==0&&(r=i,e=ld(t,i))),e===1))throw n=oo,Vr(t,0),or(t,r),Et(t,Fe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Or(t,vt,xn);break;case 3:if(or(t,r),(r&130023424)===r&&(e=Nf+500-Fe(),10<e)){if(Ya(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ft(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ju(Or.bind(null,t,vt,xn),e);break}Or(t,vt,xn);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-en(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rb(r/1960))-r,10<r){t.timeoutHandle=ju(Or.bind(null,t,vt,xn),r);break}Or(t,vt,xn);break;case 5:Or(t,vt,xn);break;default:throw Error(B(329))}}}return Et(t,Fe()),t.callbackNode===n?ny.bind(null,t):null}function ld(t,e){var n=Vi;return t.current.memoizedState.isDehydrated&&(Vr(t,e).flags|=256),t=pl(t,e),t!==2&&(e=vt,vt=n,e!==null&&cd(e)),t}function cd(t){vt===null?vt=t:vt.push.apply(vt,t)}function Ob(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!sn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~Tf,e&=~nc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-en(e),r=1<<n;t[n]=-1,e&=~r}}function Dp(t){if(oe&6)throw Error(B(327));Ds();var e=Ya(t,0);if(!(e&1))return Et(t,Fe()),null;var n=pl(t,e);if(t.tag!==0&&n===2){var r=Pu(t);r!==0&&(e=r,n=ld(t,r))}if(n===1)throw n=oo,Vr(t,0),or(t,e),Et(t,Fe()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Or(t,vt,xn),Et(t,Fe()),null}function Af(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(Gs=Fe()+500,Zl&&Ar())}}function Qr(t){lr!==null&&lr.tag===0&&!(oe&6)&&Ds();var e=oe;oe|=1;var n=Ut.transition,r=ue;try{if(Ut.transition=null,ue=1,t)return t()}finally{ue=r,Ut.transition=n,oe=e,!(oe&6)&&Ar()}}function kf(){Tt=Ns.current,we(Ns)}function Vr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lb(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(cf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tl();break;case 3:Ws(),we(wt),we(ot),yf();break;case 5:vf(r);break;case 4:Ws();break;case 13:we(Te);break;case 19:we(Te);break;case 10:hf(r.type._context);break;case 22:case 23:kf()}n=n.return}if(Ke=t,Ve=t=vr(t.current,null),Je=Tt=e,ze=0,oo=null,Tf=nc=Hr=0,vt=Vi=null,Dr!==null){for(e=0;e<Dr.length;e++)if(n=Dr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Dr=null}return t}function ry(t,e){do{var n=Ve;try{if(ff(),ka.current=ul,cl){for(var r=Ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}cl=!1}if(Gr=0,Qe=je=Ne=null,Fi=!1,ro=0,xf.current=null,n===null||n.return===null){ze=1,oo=e,Ve=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Ep(o);if(h!==null){h.flags&=-257,Sp(h,o,a,i,e),h.mode&1&&bp(i,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){bp(i,c,e),Mf();break e}l=Error(B(426))}}else if(xe&&a.mode&1){var _=Ep(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Sp(_,o,a,i,e),uf(qs(l,a));break e}}i=l=qs(l,a),ze!==4&&(ze=2),Vi===null?Vi=[i]:Vi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Uv(i,l,e);pp(i,g);break e;case 1:a=l;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(mr===null||!mr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=Bv(i,a,e);pp(i,E);break e}}i=i.return}while(i!==null)}oy(n)}catch(b){e=b,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function sy(){var t=dl.current;return dl.current=ul,t===null?ul:t}function Mf(){(ze===0||ze===3||ze===2)&&(ze=4),Ke===null||!(Hr&268435455)&&!(nc&268435455)||or(Ke,Je)}function pl(t,e){var n=oe;oe|=2;var r=sy();(Ke!==t||Je!==e)&&(xn=null,Vr(t,e));do try{Ib();break}catch(s){ry(t,s)}while(!0);if(ff(),oe=n,dl.current=r,Ve!==null)throw Error(B(261));return Ke=null,Je=0,ze}function Ib(){for(;Ve!==null;)iy(Ve)}function Pb(){for(;Ve!==null&&!i1();)iy(Ve)}function iy(t){var e=ly(t.alternate,t,Tt);t.memoizedProps=t.pendingProps,e===null?oy(t):Ve=e,xf.current=null}function oy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Nb(n,e),n!==null){n.flags&=32767,Ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,Ve=null;return}}else if(n=Tb(n,e,Tt),n!==null){Ve=n;return}if(e=e.sibling,e!==null){Ve=e;return}Ve=e=t}while(e!==null);ze===0&&(ze=5)}function Or(t,e,n){var r=ue,s=Ut.transition;try{Ut.transition=null,ue=1,Db(t,e,n,r)}finally{Ut.transition=s,ue=r}return null}function Db(t,e,n,r){do Ds();while(lr!==null);if(oe&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(m1(t,i),t===Ke&&(Ve=Ke=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||la||(la=!0,cy(Ka,function(){return Ds(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ut.transition,Ut.transition=null;var o=ue;ue=1;var a=oe;oe|=4,xf.current=null,kb(t,n),ey(n,t),tb(Uu),Xa=!!Vu,Uu=Vu=null,t.current=n,Mb(n),o1(),oe=a,ue=o,Ut.transition=i}else t.current=n;if(la&&(la=!1,lr=t,hl=s),i=t.pendingLanes,i===0&&(mr=null),c1(n.stateNode),Et(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fl)throw fl=!1,t=od,od=null,t;return hl&1&&t.tag!==0&&Ds(),i=t.pendingLanes,i&1?t===ad?Ui++:(Ui=0,ad=t):Ui=0,Ar(),null}function Ds(){if(lr!==null){var t=Vg(hl),e=Ut.transition,n=ue;try{if(Ut.transition=null,ue=16>t?16:t,lr===null)var r=!1;else{if(t=lr,lr=null,hl=0,oe&6)throw Error(B(331));var s=oe;for(oe|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var u=Q;switch(u.tag){case 0:case 11:case 15:Li(8,u,i)}var d=u.child;if(d!==null)d.return=u,Q=d;else for(;Q!==null;){u=Q;var f=u.sibling,h=u.return;if(Xv(u),u===c){Q=null;break}if(f!==null){f.return=h,Q=f;break}Q=h}}}var p=i.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var _=m.sibling;m.sibling=null,m=_}while(m!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Li(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Q=g;break e}Q=i.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:tc(9,a)}}catch(b){Me(a,a.return,b)}if(a===o){Q=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Q=E;break e}Q=a.return}}if(oe=s,Ar(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Hl,t)}catch{}r=!0}return r}finally{ue=n,Ut.transition=e}}return!1}function $p(t,e,n){e=qs(n,e),e=Uv(t,e,1),t=pr(t,e,1),e=ft(),t!==null&&(ko(t,1,e),Et(t,e))}function Me(t,e,n){if(t.tag===3)$p(t,t,n);else for(;e!==null;){if(e.tag===3){$p(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mr===null||!mr.has(r))){t=qs(n,t),t=Bv(e,t,1),e=pr(e,t,1),t=ft(),e!==null&&(ko(e,1,t),Et(e,t));break}}e=e.return}}function $b(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ft(),t.pingedLanes|=t.suspendedLanes&n,Ke===t&&(Je&n)===n&&(ze===4||ze===3&&(Je&130023424)===Je&&500>Fe()-Nf?Vr(t,0):Tf|=n),Et(t,e)}function ay(t,e){e===0&&(t.mode&1?(e=Zo,Zo<<=1,!(Zo&130023424)&&(Zo=4194304)):e=1);var n=ft();t=$n(t,e),t!==null&&(ko(t,e,n),Et(t,n))}function Fb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ay(t,n)}function Lb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),ay(t,n)}var ly;ly=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wt.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,xb(t,e,n);_t=!!(t.flags&131072)}else _t=!1,xe&&e.flags&1048576&&dv(e,sl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ra(t,e),t=e.pendingProps;var s=Bs(e,ot.current);Ps(e,n),s=wf(null,e,r,t,s,n);var i=bf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(i=!0,nl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mf(e),s.updater=Jl,e.stateNode=s,s._reactInternals=e,Ku(e,r,t,n),e=Zu(null,e,r,!0,i,n)):(e.tag=0,xe&&i&&lf(e),ct(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ra(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Ub(r),t=Ht(r,t),s){case 0:e=Xu(null,e,r,t,n);break e;case 1:e=Tp(null,e,r,t,n);break e;case 11:e=Cp(null,e,r,t,n);break e;case 14:e=xp(null,e,r,Ht(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),Xu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),Tp(t,e,r,s,n);case 3:e:{if(qv(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,mv(t,e),al(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=qs(Error(B(423)),e),e=Np(t,e,r,n,s);break e}else if(r!==s){s=qs(Error(B(424)),e),e=Np(t,e,r,n,s);break e}else for(At=hr(e.stateNode.containerInfo.firstChild),kt=e,xe=!0,Kt=null,n=_v(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(js(),r===s){e=Fn(t,e,n);break e}ct(t,e,r,n)}e=e.child}return e;case 5:return wv(e),t===null&&Gu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bu(r,s)?o=null:i!==null&&Bu(r,i)&&(e.flags|=32),Wv(t,e),ct(t,e,o,n),e.child;case 6:return t===null&&Gu(e),null;case 13:return Gv(t,e,n);case 4:return gf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zs(e,null,r,n):ct(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),Cp(t,e,r,s,n);case 7:return ct(t,e,e.pendingProps,n),e.child;case 8:return ct(t,e,e.pendingProps.children,n),e.child;case 12:return ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,me(il,r._currentValue),r._currentValue=o,i!==null)if(sn(i.value,o)){if(i.children===s.children&&!wt.current){e=Fn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=On(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Hu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ct(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ps(e,n),s=jt(s),r=r(s),e.flags|=1,ct(t,e,r,n),e.child;case 14:return r=e.type,s=Ht(r,e.pendingProps),s=Ht(r.type,s),xp(t,e,r,s,n);case 15:return jv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),Ra(t,e),e.tag=1,bt(r)?(t=!0,nl(e)):t=!1,Ps(e,n),vv(e,r,s),Ku(e,r,s,n),Zu(null,e,r,!0,t,n);case 19:return Hv(t,e,n);case 22:return zv(t,e,n)}throw Error(B(156,e.tag))};function cy(t,e){return Dg(t,e)}function Vb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,e,n,r){return new Vb(t,e,n,r)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ub(t){if(typeof t=="function")return Rf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kd)return 11;if(t===Yd)return 14}return 2}function vr(t,e){var n=t.alternate;return n===null?(n=Lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pa(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Rf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vs:return Ur(n.children,s,i,e);case Qd:o=8,s|=8;break;case _u:return t=Lt(12,n,e,s|2),t.elementType=_u,t.lanes=i,t;case wu:return t=Lt(13,n,e,s),t.elementType=wu,t.lanes=i,t;case bu:return t=Lt(19,n,e,s),t.elementType=bu,t.lanes=i,t;case yg:return rc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gg:o=10;break e;case vg:o=9;break e;case Kd:o=11;break e;case Yd:o=14;break e;case tr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Lt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ur(t,e,n,r){return t=Lt(7,t,r,e),t.lanes=n,t}function rc(t,e,n,r){return t=Lt(22,t,r,e),t.elementType=yg,t.lanes=n,t.stateNode={isHidden:!1},t}function nu(t,e,n){return t=Lt(6,t,null,e),t.lanes=n,t}function ru(t,e,n){return e=Lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bb(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fc(0),this.expirationTimes=Fc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Of(t,e,n,r,s,i,o,a,l){return t=new Bb(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Lt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mf(i),t}function jb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uy(t){if(!t)return wr;t=t._reactInternals;e:{if(is(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(bt(n))return cv(t,n,e)}return e}function dy(t,e,n,r,s,i,o,a,l){return t=Of(n,r,!0,t,s,i,o,a,l),t.context=uy(null),n=t.current,r=ft(),s=gr(n),i=On(r,s),i.callback=e??null,pr(n,i,s),t.current.lanes=s,ko(t,s,r),Et(t,r),t}function sc(t,e,n,r){var s=e.current,i=ft(),o=gr(s);return n=uy(n),e.context===null?e.context=n:e.pendingContext=n,e=On(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=pr(s,e,o),t!==null&&(tn(t,s,o,i),Aa(t,s,o)),o}function ml(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function If(t,e){Fp(t,e),(t=t.alternate)&&Fp(t,e)}function zb(){return null}var fy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pf(t){this._internalRoot=t}ic.prototype.render=Pf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));sc(t,e,null,null)};ic.prototype.unmount=Pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){sc(null,t,null,null)}),e[Dn]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var e=jg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ir.length&&e!==0&&e<ir[n].priority;n++);ir.splice(n,0,t),n===0&&Wg(t)}};function Df(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lp(){}function Wb(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ml(o);i.call(c)}}var o=dy(e,r,t,0,null,!1,!1,"",Lp);return t._reactRootContainer=o,t[Dn]=o.current,Zi(t.nodeType===8?t.parentNode:t),Qr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ml(l);a.call(c)}}var l=Of(t,0,!1,null,null,!1,!1,"",Lp);return t._reactRootContainer=l,t[Dn]=l.current,Zi(t.nodeType===8?t.parentNode:t),Qr(function(){sc(e,l,n,r)}),l}function ac(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ml(o);a.call(l)}}sc(e,o,t,s)}else o=Wb(n,e,t,s,r);return ml(o)}Ug=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mi(e.pendingLanes);n!==0&&(Jd(e,n|1),Et(e,Fe()),!(oe&6)&&(Gs=Fe()+500,Ar()))}break;case 13:Qr(function(){var r=$n(t,1);if(r!==null){var s=ft();tn(r,t,1,s)}}),If(t,1)}};ef=function(t){if(t.tag===13){var e=$n(t,134217728);if(e!==null){var n=ft();tn(e,t,134217728,n)}If(t,134217728)}};Bg=function(t){if(t.tag===13){var e=gr(t),n=$n(t,e);if(n!==null){var r=ft();tn(n,t,e,r)}If(t,e)}};jg=function(){return ue};zg=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};Ru=function(t,e,n){switch(e){case"input":if(Cu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Xl(r);if(!s)throw Error(B(90));wg(r),Cu(r,s)}}}break;case"textarea":Eg(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};kg=Af;Mg=Qr;var qb={usingClientEntryPoint:!1,Events:[Ro,bs,Xl,Ng,Ag,Af]},xi={findFiberByHostInstance:Pr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Gb={bundleType:xi.bundleType,version:xi.version,rendererPackageName:xi.rendererPackageName,rendererConfig:xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ig(t),t===null?null:t.stateNode},findFiberByHostInstance:xi.findFiberByHostInstance||zb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ca.isDisabled&&ca.supportsFiber)try{Hl=ca.inject(Gb),mn=ca}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qb;It.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Df(e))throw Error(B(200));return jb(t,e,null,n)};It.createRoot=function(t,e){if(!Df(t))throw Error(B(299));var n=!1,r="",s=fy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Of(t,1,!1,null,null,n,!1,r,s),t[Dn]=e.current,Zi(t.nodeType===8?t.parentNode:t),new Pf(e)};It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Ig(e),t=t===null?null:t.stateNode,t};It.flushSync=function(t){return Qr(t)};It.hydrate=function(t,e,n){if(!oc(e))throw Error(B(200));return ac(null,t,e,!0,n)};It.hydrateRoot=function(t,e,n){if(!Df(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=fy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dy(e,null,t,1,n??null,s,!1,i,o),t[Dn]=e.current,Zi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ic(e)};It.render=function(t,e,n){if(!oc(e))throw Error(B(200));return ac(null,t,e,!1,n)};It.unmountComponentAtNode=function(t){if(!oc(t))throw Error(B(40));return t._reactRootContainer?(Qr(function(){ac(null,null,t,!1,function(){t._reactRootContainer=null,t[Dn]=null})}),!0):!1};It.unstable_batchedUpdates=Af;It.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!oc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return ac(t,e,n,!1,r)};It.version="18.2.0-next-9e3b772b8-20220608";function hy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hy)}catch(t){console.error(t)}}hy(),dg.exports=It;var ri=dg.exports;const py=Jm(ri);var Vp=ri;vu.createRoot=Vp.createRoot,vu.hydrateRoot=Vp.hydrateRoot;const Hb={theme:"system",setTheme:()=>null},my=y.createContext(Hb);function Qb({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[s,i]=y.useState(()=>localStorage.getItem(n)||e);y.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),s==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(s)},[s]);const o={theme:s,setTheme:a=>{localStorage.setItem(n,a),i(a)}};return D.jsx(my.Provider,{...r,value:o,children:t})}const Kb=()=>{const t=y.useContext(my);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),an=(t,e)=>{const n=y.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>y.createElement("svg",{ref:u,...Yb,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Xb(t)}`,a].join(" "),...c},[...e.map(([d,f])=>y.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=an("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=an("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=an("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=an("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=an("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=an("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=an("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=an("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=an("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=an("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=an("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function W(){return W=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W.apply(this,arguments)}function cE(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function lc(...t){return e=>t.forEach(n=>cE(n,e))}function at(...t){return y.useCallback(lc(...t),t)}const Hs=y.forwardRef((t,e)=>{const{children:n,...r}=t,s=y.Children.toArray(n),i=s.find(dE);if(i){const o=i.props.children,a=s.map(l=>l===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:l);return y.createElement(ud,W({},r,{ref:e}),y.isValidElement(o)?y.cloneElement(o,void 0,a):null)}return y.createElement(ud,W({},r,{ref:e}),n)});Hs.displayName="Slot";const ud=y.forwardRef((t,e)=>{const{children:n,...r}=t;return y.isValidElement(n)?y.cloneElement(n,{...fE(r,n.props),ref:e?lc(e,n.ref):n.ref}):y.Children.count(n)>1?y.Children.only(null):null});ud.displayName="SlotClone";const uE=({children:t})=>y.createElement(y.Fragment,null,t);function dE(t){return y.isValidElement(t)&&t.type===uE}function fE(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function gy(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=gy(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function hE(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=gy(t))&&(r&&(r+=" "),r+=e);return r}const Up=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Bp=hE,vy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Bp(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=n==null?void 0:n[c],d=i==null?void 0:i[c];if(u===null)return null;const f=Up(u)||Up(d);return s[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(p=>{let[m,_]=p;return Array.isArray(_)?_.includes({...i,...a}[m]):{...i,...a}[m]===_})?[...c,d,f]:c},[]);return Bp(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};function yy(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=yy(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pE(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=yy(t))&&(r&&(r+=" "),r+=e);return r}const $f="-";function mE(t){const e=vE(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function s(o){const a=o.split($f);return a[0]===""&&a.length!==1&&a.shift(),_y(a,e)||gE(o)}function i(o,a){const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}return{getClassGroupId:s,getConflictingClassGroupIds:i}}function _y(t,e){var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?_y(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join($f);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId}const jp=/^\[(.+)\]$/;function gE(t){if(jp.test(t)){const e=jp.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function vE(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return _E(Object.entries(t.classGroups),n).forEach(([i,o])=>{dd(o,r,i,e)}),r}function dd(t,e,n,r){t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:zp(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(yE(s)){dd(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{dd(o,zp(e,i),n,r)})})}function zp(t,e){let n=t;return e.split($f).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function yE(t){return t.isThemeGetter}function _E(t,e){return e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t}function wE(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function s(i,o){n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}}const wy="!";function bE(t){const e=t.separator,n=e.length===1,r=e[0],s=e.length;return function(o){const a=[];let l=0,c=0,u;for(let m=0;m<o.length;m++){let _=o[m];if(l===0){if(_===r&&(n||o.slice(m,m+s)===e)){a.push(o.slice(c,m)),c=m+s;continue}if(_==="/"){u=m;continue}}_==="["?l++:_==="]"&&l--}const d=a.length===0?o:o.substring(c),f=d.startsWith(wy),h=f?d.substring(1):d,p=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}}}function EE(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function SE(t){return{cache:wE(t.cacheSize),splitModifiers:bE(t),...mE(t)}}const CE=/\s+/;function xE(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=new Set;return t.trim().split(CE).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:u}=n(o);let d=r(u?c.substring(0,u):c),f=!!u;if(!d){if(!u)return{isTailwindClass:!1,originalClassName:o};if(d=r(c),!d)return{isTailwindClass:!1,originalClassName:o};f=!1}const h=EE(a).join(":");return{isTailwindClass:!0,modifierId:l?h+wy:h,classGroupId:d,originalClassName:o,hasPostfixModifier:f}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=o,u=a+l;return i.has(u)?!1:(i.add(u),s(l,c).forEach(d=>i.add(a+d)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function TE(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=by(e))&&(r&&(r+=" "),r+=n);return r}function by(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=by(t[r]))&&(n&&(n+=" "),n+=e);return n}function NE(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=SE(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=xE(l,n);return s(l,u),u}return function(){return i(TE.apply(null,arguments))}}function ye(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const Ey=/^\[(?:([a-z-]+):)?(.+)\]$/i,AE=/^\d+\/\d+$/,kE=new Set(["px","full","screen"]),ME=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,RE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OE=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Cn(t){return Fr(t)||kE.has(t)||AE.test(t)}function Xn(t){return si(t,"length",BE)}function Fr(t){return!!t&&!Number.isNaN(Number(t))}function ua(t){return si(t,"number",Fr)}function Ti(t){return!!t&&Number.isInteger(Number(t))}function PE(t){return t.endsWith("%")&&Fr(t.slice(0,-1))}function ee(t){return Ey.test(t)}function Zn(t){return ME.test(t)}const DE=new Set(["length","size","percentage"]);function $E(t){return si(t,DE,Sy)}function FE(t){return si(t,"position",Sy)}const LE=new Set(["image","url"]);function VE(t){return si(t,LE,zE)}function UE(t){return si(t,"",jE)}function Ni(){return!0}function si(t,e,n){const r=Ey.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function BE(t){return RE.test(t)}function Sy(){return!1}function jE(t){return OE.test(t)}function zE(t){return IE.test(t)}function WE(){const t=ye("colors"),e=ye("spacing"),n=ye("blur"),r=ye("brightness"),s=ye("borderColor"),i=ye("borderRadius"),o=ye("borderSpacing"),a=ye("borderWidth"),l=ye("contrast"),c=ye("grayscale"),u=ye("hueRotate"),d=ye("invert"),f=ye("gap"),h=ye("gradientColorStops"),p=ye("gradientColorStopPositions"),m=ye("inset"),_=ye("margin"),g=ye("opacity"),v=ye("padding"),w=ye("saturate"),E=ye("scale"),b=ye("sepia"),S=ye("skew"),x=ye("space"),C=ye("translate"),A=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",ee,e],T=()=>[ee,e],F=()=>["",Cn,Xn],k=()=>["auto",Fr,ee],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],O=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",ee],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Fr,ua],H=()=>[Fr,ee];return{cacheSize:500,separator:":",theme:{colors:[Ni],spacing:[Cn,Xn],blur:["none","",Zn,ee],brightness:U(),borderColor:[t],borderRadius:["none","","full",Zn,ee],borderSpacing:T(),borderWidth:F(),contrast:U(),grayscale:M(),hueRotate:H(),invert:M(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[PE,Xn],inset:R(),margin:R(),opacity:U(),padding:T(),saturate:U(),scale:U(),sepia:M(),skew:H(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",ee]}],container:["container"],columns:[{columns:[Zn]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),ee]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ti,ee]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ee]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Ti,ee]}],"grid-cols":[{"grid-cols":[Ni]}],"col-start-end":[{col:["auto",{span:["full",Ti,ee]},ee]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[Ni]}],"row-start-end":[{row:["auto",{span:[Ti,ee]},ee]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ee,e]}],"min-w":[{"min-w":[ee,e,"min","max","fit"]}],"max-w":[{"max-w":[ee,e,"none","full","min","max","fit","prose",{screen:[Zn]},Zn]}],h:[{h:[ee,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ee,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ee,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zn,Xn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ua]}],"font-family":[{font:[Ni]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ee]}],"line-clamp":[{"line-clamp":["none",Fr,ua]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cn,ee]}],"list-image":[{"list-image":["none",ee]}],"list-style-type":[{list:["none","disc","decimal",ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cn,Xn]}],"underline-offset":[{"underline-offset":["auto",Cn,ee]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),FE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$E]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},VE]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:I()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Cn,ee]}],"outline-w":[{outline:[Cn,Xn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Cn,Xn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zn,UE]}],"shadow-color":[{shadow:[Ni]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":V()}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Zn,ee]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ee]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",ee]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Ti,ee]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ee]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ee]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ee]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cn,Xn,ua]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const qE=NE(WE);function qe(...t){return qE(pE(t))}const GE=vy("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Rn=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Hs:"button";return D.jsx(o,{className:qe(GE({variant:e,size:n,className:t})),ref:i,...s})});Rn.displayName="Button";function J(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function ii(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:f,children:h,...p}=d,m=(f==null?void 0:f[t][l])||a,_=y.useMemo(()=>p,Object.values(p));return y.createElement(m.Provider,{value:_},h)}function u(d,f){const h=(f==null?void 0:f[t][l])||a,p=y.useContext(h);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,u]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,HE(s,...e)]}function HE(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(i)[`__scope${c}`];return{...a,...d}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ct(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Ff({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=QE({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Ct(n),l=y.useCallback(c=>{if(i){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else s(c)},[i,t,s,a]);return[o,l]}function QE({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,s=y.useRef(r),i=Ct(e);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}const KE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Be=KE.reduce((t,e)=>{const n=y.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Hs:e;return y.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),y.createElement(a,W({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Lf(t,e){t&&ri.flushSync(()=>t.dispatchEvent(e))}function Vf(t){const e=t+"CollectionProvider",[n,r]=ii(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:p,children:m}=h,_=pe.useRef(null),g=pe.useRef(new Map).current;return pe.createElement(s,{scope:p,itemMap:g,collectionRef:_},m)},a=t+"CollectionSlot",l=pe.forwardRef((h,p)=>{const{scope:m,children:_}=h,g=i(a,m),v=at(p,g.collectionRef);return pe.createElement(Hs,{ref:v},_)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",d=pe.forwardRef((h,p)=>{const{scope:m,children:_,...g}=h,v=pe.useRef(null),w=at(p,v),E=i(c,m);return pe.useEffect(()=>(E.itemMap.set(v,{ref:v,...g}),()=>void E.itemMap.delete(v))),pe.createElement(Hs,{[u]:"",ref:w},_)});function f(h){const p=i(t+"CollectionConsumer",h);return pe.useCallback(()=>{const _=p.collectionRef.current;if(!_)return[];const g=Array.from(_.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((E,b)=>g.indexOf(E.ref.current)-g.indexOf(b.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},f,r]}const YE=y.createContext(void 0);function Cy(t){const e=y.useContext(YE);return t||e||"ltr"}function XE(t,e=globalThis==null?void 0:globalThis.document){const n=Ct(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const fd="dismissableLayer.update",ZE="dismissableLayer.pointerDownOutside",JE="dismissableLayer.focusOutside";let Wp;const xy=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ty=y.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=y.useContext(xy),[d,f]=y.useState(null),h=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,p]=y.useState({}),m=at(e,C=>f(C)),_=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=_.indexOf(g),w=d?_.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,b=w>=v,S=tS(C=>{const A=C.target,N=[...u.branches].some(R=>R.contains(A));!b||N||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},h),x=nS(C=>{const A=C.target;[...u.branches].some(R=>R.contains(A))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},h);return XE(C=>{w===u.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Wp=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),qp(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Wp)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),qp())},[d,u]),y.useEffect(()=>{const C=()=>p({});return document.addEventListener(fd,C),()=>document.removeEventListener(fd,C)},[]),y.createElement(Be.div,W({},c,{ref:m,style:{pointerEvents:E?b?"auto":"none":void 0,...t.style},onFocusCapture:J(t.onFocusCapture,x.onFocusCapture),onBlurCapture:J(t.onBlurCapture,x.onBlurCapture),onPointerDownCapture:J(t.onPointerDownCapture,S.onPointerDownCapture)}))}),eS=y.forwardRef((t,e)=>{const n=y.useContext(xy),r=y.useRef(null),s=at(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),y.createElement(Be.div,W({},t,{ref:s}))});function tS(t,e=globalThis==null?void 0:globalThis.document){const n=Ct(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){Ny(ZE,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function nS(t,e=globalThis==null?void 0:globalThis.document){const n=Ct(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&Ny(JE,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qp(){const t=new CustomEvent(fd);document.dispatchEvent(t)}function Ny(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Lf(s,i):s.dispatchEvent(i)}const rS=Ty,sS=eS;let su=0;function iS(){y.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:Gp()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:Gp()),su++,()=>{su===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),su--}},[])}function Gp(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const iu="focusScope.autoFocusOnMount",ou="focusScope.autoFocusOnUnmount",Hp={bubbles:!1,cancelable:!0},oS=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=Ct(s),u=Ct(i),d=y.useRef(null),f=at(e,m=>l(m)),h=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(S){if(h.paused||!a)return;const x=S.target;a.contains(x)?d.current=x:er(d.current,{select:!0})},w=function(S){if(h.paused||!a)return;const x=S.relatedTarget;x!==null&&(a.contains(x)||er(d.current,{select:!0}))},E=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&er(a)};var m=v,_=w,g=E;document.addEventListener("focusin",v),document.addEventListener("focusout",w);const b=new MutationObserver(E);return a&&b.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),b.disconnect()}}},[r,a,h.paused]),y.useEffect(()=>{if(a){Kp.add(h);const m=document.activeElement;if(!a.contains(m)){const g=new CustomEvent(iu,Hp);a.addEventListener(iu,c),a.dispatchEvent(g),g.defaultPrevented||(aS(fS(Ay(a)),{select:!0}),document.activeElement===m&&er(a))}return()=>{a.removeEventListener(iu,c),setTimeout(()=>{const g=new CustomEvent(ou,Hp);a.addEventListener(ou,u),a.dispatchEvent(g),g.defaultPrevented||er(m??document.body,{select:!0}),a.removeEventListener(ou,u),Kp.remove(h)},0)}}},[a,c,u,h]);const p=y.useCallback(m=>{if(!n&&!r||h.paused)return;const _=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,g=document.activeElement;if(_&&g){const v=m.currentTarget,[w,E]=lS(v);w&&E?!m.shiftKey&&g===E?(m.preventDefault(),n&&er(w,{select:!0})):m.shiftKey&&g===w&&(m.preventDefault(),n&&er(E,{select:!0})):g===v&&m.preventDefault()}},[n,r,h.paused]);return y.createElement(Be.div,W({tabIndex:-1},o,{ref:f,onKeyDown:p}))});function aS(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(er(r,{select:e}),document.activeElement!==n)return}function lS(t){const e=Ay(t),n=Qp(e,t),r=Qp(e.reverse(),t);return[n,r]}function Ay(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Qp(t,e){for(const n of t)if(!cS(n,{upTo:e}))return n}function cS(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function uS(t){return t instanceof HTMLInputElement&&"select"in t}function er(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&uS(t)&&e&&t.select()}}const Kp=dS();function dS(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Yp(t,e),t.unshift(e)},remove(e){var n;t=Yp(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function Yp(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function fS(t){return t.filter(e=>e.tagName!=="A")}const Kr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},hS=cg.useId||(()=>{});let pS=0;function hd(t){const[e,n]=y.useState(hS());return Kr(()=>{t||n(r=>r??String(pS++))},[t]),t||(e?`radix-${e}`:"")}const mS=["top","right","bottom","left"],br=Math.min,Nt=Math.max,gl=Math.round,da=Math.floor,Er=t=>({x:t,y:t}),gS={left:"right",right:"left",bottom:"top",top:"bottom"},vS={start:"end",end:"start"};function pd(t,e,n){return Nt(t,br(e,n))}function Ln(t,e){return typeof t=="function"?t(e):t}function Vn(t){return t.split("-")[0]}function oi(t){return t.split("-")[1]}function Uf(t){return t==="x"?"y":"x"}function Bf(t){return t==="y"?"height":"width"}function ai(t){return["top","bottom"].includes(Vn(t))?"y":"x"}function jf(t){return Uf(ai(t))}function yS(t,e,n){n===void 0&&(n=!1);const r=oi(t),s=jf(t),i=Bf(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=vl(o)),[o,vl(o)]}function _S(t){const e=vl(t);return[md(t),e,md(e)]}function md(t){return t.replace(/start|end/g,e=>vS[e])}function wS(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function bS(t,e,n,r){const s=oi(t);let i=wS(Vn(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(md)))),i}function vl(t){return t.replace(/left|right|bottom|top/g,e=>gS[e])}function ES(t){return{top:0,right:0,bottom:0,left:0,...t}}function ky(t){return typeof t!="number"?ES(t):{top:t,right:t,bottom:t,left:t}}function yl(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Xp(t,e,n){let{reference:r,floating:s}=t;const i=ai(e),o=jf(e),a=Bf(o),l=Vn(e),c=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(oi(e)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const SS=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=Xp(c,r,l),f=r,h={},p=0;for(let m=0;m<a.length;m++){const{name:_,fn:g}=a[m],{x:v,y:w,data:E,reset:b}=await g({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});if(u=v??u,d=w??d,h={...h,[_]:{...h[_],...E}},b&&p<=50){p++,typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):b.rects),{x:u,y:d}=Xp(c,f,l)),m=-1;continue}}return{x:u,y:d,placement:f,strategy:s,middlewareData:h}};async function ao(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Ln(e,t),p=ky(h),_=a[f?d==="floating"?"reference":"floating":d],g=yl(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=d==="floating"?{...o.floating,x:r,y:s}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},b=yl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:w,strategy:l}):v);return{top:(g.top-b.top+p.top)/E.y,bottom:(b.bottom-g.bottom+p.bottom)/E.y,left:(g.left-b.left+p.left)/E.x,right:(b.right-g.right+p.right)/E.x}}const CS=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ln(t,e)||{};if(c==null)return{};const d=ky(u),f={x:n,y:r},h=jf(s),p=Bf(h),m=await o.getDimensions(c),_=h==="y",g=_?"top":"left",v=_?"bottom":"right",w=_?"clientHeight":"clientWidth",E=i.reference[p]+i.reference[h]-f[h]-i.floating[p],b=f[h]-i.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let x=S?S[w]:0;(!x||!await(o.isElement==null?void 0:o.isElement(S)))&&(x=a.floating[w]||i.floating[p]);const C=E/2-b/2,A=x/2-m[p]/2-1,N=br(d[g],A),R=br(d[v],A),T=N,F=x-m[p]-R,k=x/2-m[p]/2+C,L=pd(T,k,F),I=!l.arrow&&oi(s)!=null&&k!=L&&i.reference[p]/2-(k<T?N:R)-m[p]/2<0,V=I?k<T?k-T:k-F:0;return{[h]:f[h]+V,data:{[h]:L,centerOffset:k-L-V,...I&&{alignmentOffset:V}},reset:I}}}),xS=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,..._}=Ln(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const g=Vn(s),v=Vn(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(v||!m?[vl(a)]:_S(a));!f&&p!=="none"&&E.push(...bS(a,m,p,w));const b=[a,...E],S=await ao(e,_),x=[];let C=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&x.push(S[g]),d){const T=yS(s,o,w);x.push(S[T[0]],S[T[1]])}if(C=[...C,{placement:s,overflows:x}],!x.every(T=>T<=0)){var A,N;const T=(((A=i.flip)==null?void 0:A.index)||0)+1,F=b[T];if(F)return{data:{index:T,overflows:C},reset:{placement:F}};let k=(N=C.filter(L=>L.overflows[0]<=0).sort((L,I)=>L.overflows[1]-I.overflows[1])[0])==null?void 0:N.placement;if(!k)switch(h){case"bestFit":{var R;const L=(R=C.map(I=>[I.placement,I.overflows.filter(V=>V>0).reduce((V,O)=>V+O,0)]).sort((I,V)=>I[1]-V[1])[0])==null?void 0:R[0];L&&(k=L);break}case"initialPlacement":k=a;break}if(s!==k)return{reset:{placement:k}}}return{}}}};function Zp(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Jp(t){return mS.some(e=>t[e]>=0)}const TS=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ln(t,e);switch(r){case"referenceHidden":{const i=await ao(e,{...s,elementContext:"reference"}),o=Zp(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Jp(o)}}}case"escaped":{const i=await ao(e,{...s,altBoundary:!0}),o=Zp(i,n.floating);return{data:{escapedOffsets:o,escaped:Jp(o)}}}default:return{}}}}};async function NS(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Vn(n),a=oi(n),l=ai(n)==="y",c=["left","top"].includes(o)?-1:1,u=i&&l?-1:1,d=Ln(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const AS=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await NS(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},kS=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:g,y:v}=_;return{x:g,y:v}}},...l}=Ln(t,e),c={x:n,y:r},u=await ao(e,l),d=ai(Vn(s)),f=Uf(d);let h=c[f],p=c[d];if(i){const _=f==="y"?"top":"left",g=f==="y"?"bottom":"right",v=h+u[_],w=h-u[g];h=pd(v,h,w)}if(o){const _=d==="y"?"top":"left",g=d==="y"?"bottom":"right",v=p+u[_],w=p-u[g];p=pd(v,p,w)}const m=a.fn({...e,[f]:h,[d]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},MS=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ln(t,e),u={x:n,y:r},d=ai(s),f=Uf(d);let h=u[f],p=u[d];const m=Ln(a,e),_=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=f==="y"?"height":"width",E=i.reference[f]-i.floating[w]+_.mainAxis,b=i.reference[f]+i.reference[w]-_.mainAxis;h<E?h=E:h>b&&(h=b)}if(c){var g,v;const w=f==="y"?"width":"height",E=["top","left"].includes(Vn(s)),b=i.reference[d]-i.floating[w]+(E&&((g=o.offset)==null?void 0:g[d])||0)+(E?0:_.crossAxis),S=i.reference[d]+i.reference[w]+(E?0:((v=o.offset)==null?void 0:v[d])||0)-(E?_.crossAxis:0);p<b?p=b:p>S&&(p=S)}return{[f]:h,[d]:p}}}},RS=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:s,elements:i}=e,{apply:o=()=>{},...a}=Ln(t,e),l=await ao(e,a),c=Vn(n),u=oi(n),d=ai(n)==="y",{width:f,height:h}=r.floating;let p,m;c==="top"||c==="bottom"?(p=c,m=u===(await(s.isRTL==null?void 0:s.isRTL(i.floating))?"start":"end")?"left":"right"):(m=c,p=u==="end"?"top":"bottom");const _=h-l[p],g=f-l[m],v=!e.middlewareData.shift;let w=_,E=g;if(d){const S=f-l.left-l.right;E=u||v?br(g,S):S}else{const S=h-l.top-l.bottom;w=u||v?br(_,S):S}if(v&&!u){const S=Nt(l.left,0),x=Nt(l.right,0),C=Nt(l.top,0),A=Nt(l.bottom,0);d?E=f-2*(S!==0||x!==0?S+x:Nt(l.left,l.right)):w=h-2*(C!==0||A!==0?C+A:Nt(l.top,l.bottom))}await o({...e,availableWidth:E,availableHeight:w});const b=await s.getDimensions(i.floating);return f!==b.width||h!==b.height?{reset:{rects:!0}}:{}}}};function Sr(t){return My(t)?(t.nodeName||"").toLowerCase():"#document"}function Mt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zn(t){var e;return(e=(My(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function My(t){return t instanceof Node||t instanceof Mt(t).Node}function Un(t){return t instanceof Element||t instanceof Mt(t).Element}function vn(t){return t instanceof HTMLElement||t instanceof Mt(t).HTMLElement}function em(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mt(t).ShadowRoot}function Io(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Wt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function OS(t){return["table","td","th"].includes(Sr(t))}function zf(t){const e=Wf(),n=Wt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function IS(t){let e=Qs(t);for(;vn(e)&&!cc(e);){if(zf(e))return e;e=Qs(e)}return null}function Wf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cc(t){return["html","body","#document"].includes(Sr(t))}function Wt(t){return Mt(t).getComputedStyle(t)}function uc(t){return Un(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Qs(t){if(Sr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||em(t)&&t.host||zn(t);return em(e)?e.host:e}function Ry(t){const e=Qs(t);return cc(e)?t.ownerDocument?t.ownerDocument.body:t.body:vn(e)&&Io(e)?e:Ry(e)}function lo(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Ry(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Mt(s);return i?e.concat(o,o.visualViewport||[],Io(s)?s:[],o.frameElement&&n?lo(o.frameElement):[]):e.concat(s,lo(s,[],n))}function Oy(t){const e=Wt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=vn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=gl(n)!==i||gl(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function qf(t){return Un(t)?t:t.contextElement}function $s(t){const e=qf(t);if(!vn(e))return Er(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=Oy(e);let o=(i?gl(n.width):n.width)/r,a=(i?gl(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const PS=Er(0);function Iy(t){const e=Mt(t);return!Wf()||!e.visualViewport?PS:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DS(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mt(t)?!1:e}function Yr(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=qf(t);let o=Er(1);e&&(r?Un(r)&&(o=$s(r)):o=$s(t));const a=DS(i,n,r)?Iy(i):Er(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=Mt(i),h=r&&Un(r)?Mt(r):r;let p=f.frameElement;for(;p&&r&&h!==f;){const m=$s(p),_=p.getBoundingClientRect(),g=Wt(p),v=_.left+(p.clientLeft+parseFloat(g.paddingLeft))*m.x,w=_.top+(p.clientTop+parseFloat(g.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=v,c+=w,p=Mt(p).frameElement}}return yl({width:u,height:d,x:l,y:c})}function $S(t){let{rect:e,offsetParent:n,strategy:r}=t;const s=vn(n),i=zn(n);if(n===i)return e;let o={scrollLeft:0,scrollTop:0},a=Er(1);const l=Er(0);if((s||!s&&r!=="fixed")&&((Sr(n)!=="body"||Io(i))&&(o=uc(n)),vn(n))){const c=Yr(n);a=$s(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function FS(t){return Array.from(t.getClientRects())}function Py(t){return Yr(zn(t)).left+uc(t).scrollLeft}function LS(t){const e=zn(t),n=uc(t),r=t.ownerDocument.body,s=Nt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Nt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Py(t);const a=-n.scrollTop;return Wt(r).direction==="rtl"&&(o+=Nt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function VS(t,e){const n=Mt(t),r=zn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Wf();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function US(t,e){const n=Yr(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=vn(t)?$s(t):Er(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function tm(t,e,n){let r;if(e==="viewport")r=VS(t,n);else if(e==="document")r=LS(zn(t));else if(Un(e))r=US(e,n);else{const s=Iy(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return yl(r)}function Dy(t,e){const n=Qs(t);return n===e||!Un(n)||cc(n)?!1:Wt(n).position==="fixed"||Dy(n,e)}function BS(t,e){const n=e.get(t);if(n)return n;let r=lo(t,[],!1).filter(a=>Un(a)&&Sr(a)!=="body"),s=null;const i=Wt(t).position==="fixed";let o=i?Qs(t):t;for(;Un(o)&&!cc(o);){const a=Wt(o),l=zf(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Io(o)&&!l&&Dy(t,o))?r=r.filter(u=>u!==o):s=a,o=Qs(o)}return e.set(t,r),r}function jS(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?BS(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=tm(e,u,s);return c.top=Nt(d.top,c.top),c.right=br(d.right,c.right),c.bottom=br(d.bottom,c.bottom),c.left=Nt(d.left,c.left),c},tm(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zS(t){const{width:e,height:n}=Oy(t);return{width:e,height:n}}function WS(t,e,n){const r=vn(e),s=zn(e),i=n==="fixed",o=Yr(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Er(0);if(r||!r&&!i)if((Sr(e)!=="body"||Io(s))&&(a=uc(e)),r){const c=Yr(e,!0,i,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else s&&(l.x=Py(s));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function nm(t,e){return!vn(t)||Wt(t).position==="fixed"?null:e?e(t):t.offsetParent}function $y(t,e){const n=Mt(t);if(!vn(t))return n;let r=nm(t,e);for(;r&&OS(r)&&Wt(r).position==="static";)r=nm(r,e);return r&&(Sr(r)==="html"||Sr(r)==="body"&&Wt(r).position==="static"&&!zf(r))?n:r||IS(t)||n}const qS=async function(t){let{reference:e,floating:n,strategy:r}=t;const s=this.getOffsetParent||$y,i=this.getDimensions;return{reference:WS(e,await s(n),r),floating:{x:0,y:0,...await i(n)}}};function GS(t){return Wt(t).direction==="rtl"}const HS={convertOffsetParentRelativeRectToViewportRelativeRect:$S,getDocumentElement:zn,getClippingRect:jS,getOffsetParent:$y,getElementRects:qS,getClientRects:FS,getDimensions:zS,getScale:$s,isElement:Un,isRTL:GS};function QS(t,e){let n=null,r;const s=zn(t);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const h=da(u),p=da(s.clientWidth-(c+d)),m=da(s.clientHeight-(u+f)),_=da(c),v={rootMargin:-h+"px "+-p+"px "+-m+"px "+-_+"px",threshold:Nt(0,br(1,l))||1};let w=!0;function E(b){const S=b[0].intersectionRatio;if(S!==l){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(E,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,v)}n.observe(t)}return o(!0),i}function KS(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=qf(t),u=s||i?[...c?lo(c):[],...lo(e)]:[];u.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),i&&g.addEventListener("resize",n)});const d=c&&a?QS(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(g=>{let[v]=g;v&&v.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{h&&h.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let p,m=l?Yr(t):null;l&&_();function _(){const g=Yr(t);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&n(),m=g,p=requestAnimationFrame(_)}return n(),()=>{u.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const YS=kS,XS=xS,ZS=RS,JS=TS,rm=CS,eC=MS,tC=(t,e,n)=>{const r=new Map,s={platform:HS,...n},i={...s.platform,_c:r};return SS(t,e,{...s,platform:i})},nC=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?rm({element:r.current,padding:s}).fn(n):{}:r?rm({element:r,padding:s}).fn(n):{}}}};var Da=typeof document<"u"?y.useLayoutEffect:y.useEffect;function _l(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!_l(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!_l(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Fy(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sm(t,e){const n=Fy(t);return Math.round(e*n)/n}function im(t){const e=y.useRef(t);return Da(()=>{e.current=t}),e}function rC(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=y.useState(r);_l(f,r)||h(r);const[p,m]=y.useState(null),[_,g]=y.useState(null),v=y.useCallback(I=>{I!=S.current&&(S.current=I,m(I))},[m]),w=y.useCallback(I=>{I!==x.current&&(x.current=I,g(I))},[g]),E=i||p,b=o||_,S=y.useRef(null),x=y.useRef(null),C=y.useRef(u),A=im(l),N=im(s),R=y.useCallback(()=>{if(!S.current||!x.current)return;const I={placement:e,strategy:n,middleware:f};N.current&&(I.platform=N.current),tC(S.current,x.current,I).then(V=>{const O={...V,isPositioned:!0};T.current&&!_l(C.current,O)&&(C.current=O,ri.flushSync(()=>{d(O)}))})},[f,e,n,N]);Da(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(I=>({...I,isPositioned:!1})))},[c]);const T=y.useRef(!1);Da(()=>(T.current=!0,()=>{T.current=!1}),[]),Da(()=>{if(E&&(S.current=E),b&&(x.current=b),E&&b){if(A.current)return A.current(E,b,R);R()}},[E,b,R,A]);const F=y.useMemo(()=>({reference:S,floating:x,setReference:v,setFloating:w}),[v,w]),k=y.useMemo(()=>({reference:E,floating:b}),[E,b]),L=y.useMemo(()=>{const I={position:n,left:0,top:0};if(!k.floating)return I;const V=sm(k.floating,u.x),O=sm(k.floating,u.y);return a?{...I,transform:"translate("+V+"px, "+O+"px)",...Fy(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:O}},[n,a,k.floating,u.x,u.y]);return y.useMemo(()=>({...u,update:R,refs:F,elements:k,floatingStyles:L}),[u,R,F,k,L])}function sC(t){const[e,n]=y.useState(void 0);return Kr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const Ly="Popper",[Vy,Uy]=ii(Ly),[iC,By]=Vy(Ly),oC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return y.createElement(iC,{scope:e,anchor:r,onAnchorChange:s},n)},aC="PopperAnchor",lC=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=By(aC,n),o=y.useRef(null),a=at(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:y.createElement(Be.div,W({},s,{ref:a}))}),jy="PopperContent",[cC,yP]=Vy(jy),uC=y.forwardRef((t,e)=>{var n,r,s,i,o,a,l,c;const{__scopePopper:u,side:d="bottom",sideOffset:f=0,align:h="center",alignOffset:p=0,arrowPadding:m=0,avoidCollisions:_=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:w="partial",hideWhenDetached:E=!1,updatePositionStrategy:b="optimized",onPlaced:S,...x}=t,C=By(jy,u),[A,N]=y.useState(null),R=at(e,q=>N(q)),[T,F]=y.useState(null),k=sC(T),L=(n=k==null?void 0:k.width)!==null&&n!==void 0?n:0,I=(r=k==null?void 0:k.height)!==null&&r!==void 0?r:0,V=d+(h!=="center"?"-"+h:""),O=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},M=Array.isArray(g)?g:[g],$=M.length>0,U={padding:O,boundary:M.filter(dC),altBoundary:$},{refs:H,floatingStyles:ae,placement:le,isPositioned:X,middlewareData:Z}=rC({strategy:"fixed",placement:V,whileElementsMounted:(...q)=>KS(...q,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[AS({mainAxis:f+I,alignmentAxis:p}),_&&YS({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?eC():void 0,...U}),_&&XS({...U}),ZS({...U,apply:({elements:q,rects:Y,availableWidth:Pe,availableHeight:ve})=>{const{width:ie,height:Ee}=Y.reference,Xe=q.floating.style;Xe.setProperty("--radix-popper-available-width",`${Pe}px`),Xe.setProperty("--radix-popper-available-height",`${ve}px`),Xe.setProperty("--radix-popper-anchor-width",`${ie}px`),Xe.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),T&&nC({element:T,padding:m}),fC({arrowWidth:L,arrowHeight:I}),E&&JS({strategy:"referenceHidden",...U})]}),[ce,K]=zy(le),ke=Ct(S);Kr(()=>{X&&(ke==null||ke())},[X,ke]);const Dt=(s=Z.arrow)===null||s===void 0?void 0:s.x,Hn=(i=Z.arrow)===null||i===void 0?void 0:i.y,Qn=((o=Z.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[kc,Mc]=y.useState();return Kr(()=>{A&&Mc(window.getComputedStyle(A).zIndex)},[A]),y.createElement("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:X?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:kc,"--radix-popper-transform-origin":[(a=Z.transformOrigin)===null||a===void 0?void 0:a.x,(l=Z.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},y.createElement(cC,{scope:u,placedSide:ce,onArrowChange:F,arrowX:Dt,arrowY:Hn,shouldHideArrow:Qn},y.createElement(Be.div,W({"data-side":ce,"data-align":K},x,{ref:R,style:{...x.style,animation:X?void 0:"none",opacity:(c=Z.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function dC(t){return t!==null}const fC=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s,i,o;const{placement:a,rects:l,middlewareData:c}=e,d=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=d?0:t.arrowWidth,h=d?0:t.arrowHeight,[p,m]=zy(a),_={start:"0%",center:"50%",end:"100%"}[m],g=((r=(s=c.arrow)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0)+f/2,v=((i=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+h/2;let w="",E="";return p==="bottom"?(w=d?_:`${g}px`,E=`${-h}px`):p==="top"?(w=d?_:`${g}px`,E=`${l.floating.height+h}px`):p==="right"?(w=`${-h}px`,E=d?_:`${v}px`):p==="left"&&(w=`${l.floating.width+h}px`,E=d?_:`${v}px`),{data:{x:w,y:E}}}});function zy(t){const[e,n="center"]=t.split("-");return[e,n]}const hC=oC,pC=lC,mC=uC,Wy=y.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=t;return r?py.createPortal(y.createElement(Be.div,W({},s,{ref:e})),r):null});function gC(t,e){return y.useReducer((n,r)=>{const s=e[n][r];return s??n},t)}const li=t=>{const{present:e,children:n}=t,r=vC(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=at(r.ref,s.ref);return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};li.displayName="Presence";function vC(t){const[e,n]=y.useState(),r=y.useRef({}),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=gC(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=fa(r.current);i.current=a==="mounted"?c:"none"},[a]),Kr(()=>{const c=r.current,u=s.current;if(u!==t){const f=i.current,h=fa(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Kr(()=>{if(e){const c=d=>{const h=fa(r.current).includes(d.animationName);d.target===e&&h&&ri.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(i.current=fa(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function fa(t){return(t==null?void 0:t.animationName)||"none"}const au="rovingFocusGroup.onEntryFocus",yC={bubbles:!1,cancelable:!0},Gf="RovingFocusGroup",[gd,qy,_C]=Vf(Gf),[wC,Gy]=ii(Gf,[_C]),[bC,EC]=wC(Gf),SC=y.forwardRef((t,e)=>y.createElement(gd.Provider,{scope:t.__scopeRovingFocusGroup},y.createElement(gd.Slot,{scope:t.__scopeRovingFocusGroup},y.createElement(CC,W({},t,{ref:e}))))),CC=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...u}=t,d=y.useRef(null),f=at(e,d),h=Cy(i),[p=null,m]=Ff({prop:o,defaultProp:a,onChange:l}),[_,g]=y.useState(!1),v=Ct(c),w=qy(n),E=y.useRef(!1),[b,S]=y.useState(0);return y.useEffect(()=>{const x=d.current;if(x)return x.addEventListener(au,v),()=>x.removeEventListener(au,v)},[v]),y.createElement(bC,{scope:n,orientation:r,dir:h,loop:s,currentTabStopId:p,onItemFocus:y.useCallback(x=>m(x),[m]),onItemShiftTab:y.useCallback(()=>g(!0),[]),onFocusableItemAdd:y.useCallback(()=>S(x=>x+1),[]),onFocusableItemRemove:y.useCallback(()=>S(x=>x-1),[])},y.createElement(Be.div,W({tabIndex:_||b===0?-1:0,"data-orientation":r},u,{ref:f,style:{outline:"none",...t.style},onMouseDown:J(t.onMouseDown,()=>{E.current=!0}),onFocus:J(t.onFocus,x=>{const C=!E.current;if(x.target===x.currentTarget&&C&&!_){const A=new CustomEvent(au,yC);if(x.currentTarget.dispatchEvent(A),!A.defaultPrevented){const N=w().filter(L=>L.focusable),R=N.find(L=>L.active),T=N.find(L=>L.id===p),k=[R,T,...N].filter(Boolean).map(L=>L.ref.current);Hy(k)}}E.current=!1}),onBlur:J(t.onBlur,()=>g(!1))})))}),xC="RovingFocusGroupItem",TC=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=hd(),l=i||a,c=EC(xC,n),u=c.currentTabStopId===l,d=qy(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=c;return y.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),y.createElement(gd.ItemSlot,{scope:n,id:l,focusable:r,active:s},y.createElement(Be.span,W({tabIndex:u?0:-1,"data-orientation":c.orientation},o,{ref:e,onMouseDown:J(t.onMouseDown,p=>{r?c.onItemFocus(l):p.preventDefault()}),onFocus:J(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:J(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const m=kC(p,c.orientation,c.dir);if(m!==void 0){p.preventDefault();let g=d().filter(v=>v.focusable).map(v=>v.ref.current);if(m==="last")g.reverse();else if(m==="prev"||m==="next"){m==="prev"&&g.reverse();const v=g.indexOf(p.currentTarget);g=c.loop?MC(g,v+1):g.slice(v+1)}setTimeout(()=>Hy(g))}})})))}),NC={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AC(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function kC(t,e,n){const r=AC(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NC[r]}function Hy(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function MC(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const RC=SC,OC=TC;var IC=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fs=new WeakMap,ha=new WeakMap,pa={},lu=0,Qy=function(t){return t&&(t.host||Qy(t.parentNode))},PC=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Qy(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},DC=function(t,e,n,r){var s=PC(e,Array.isArray(t)?t:[t]);pa[n]||(pa[n]=new WeakMap);var i=pa[n],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else{var h=f.getAttribute(r),p=h!==null&&h!=="false",m=(fs.get(f)||0)+1,_=(i.get(f)||0)+1;fs.set(f,m),i.set(f,_),o.push(f),m===1&&p&&ha.set(f,!0),_===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}})};return u(e),a.clear(),lu++,function(){o.forEach(function(d){var f=fs.get(d)-1,h=i.get(d)-1;fs.set(d,f),i.set(d,h),f||(ha.has(d)||d.removeAttribute(r),ha.delete(d)),h||d.removeAttribute(n)}),lu--,lu||(fs=new WeakMap,fs=new WeakMap,ha=new WeakMap,pa={})}},$C=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||IC(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),DC(r,s,n,"aria-hidden")):function(){return null}},pn=function(){return pn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pn.apply(this,arguments)};function Ky(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ln(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Ue(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function FC(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var $a="right-scroll-bar-position",Fa="width-before-scroll-bar",LC="with-scroll-bars-hidden",VC="--removed-body-scroll-bar-size";function cu(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function UC(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var om=new WeakMap;function BC(t,e){var n=UC(e||null,function(r){return t.forEach(function(s){return cu(s,r)})});return y.useLayoutEffect(function(){var r=om.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||cu(a,null)}),i.forEach(function(a){s.has(a)||cu(a,o)})}om.set(n,t)},[t]),n}function jC(t){return t}function zC(t,e){e===void 0&&(e=jC);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var u=o;o=[],u.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return s}function WC(t){t===void 0&&(t={});var e=zC(null);return e.options=pn({async:!0,ssr:!1},t),e}var Yy=function(t){var e=t.sideCar,n=Ky(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,pn({},n))};Yy.isSideCarExport=!0;function qC(t,e){return t.useMedium(e),Yy}var Xy=WC(),uu=function(){},dc=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:uu,onWheelCapture:uu,onTouchMoveCapture:uu}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,p=t.inert,m=t.allowPinchZoom,_=t.as,g=_===void 0?"div":_,v=Ky(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=f,E=BC([n,e]),b=pn(pn({},v),s);return y.createElement(y.Fragment,null,u&&y.createElement(w,{sideCar:Xy,removeScrollBar:c,shards:d,noIsolation:h,inert:p,setCallbacks:i,allowPinchZoom:!!m,lockRef:n}),o?y.cloneElement(y.Children.only(a),pn(pn({},b),{ref:E})):y.createElement(g,pn({},b,{className:l,ref:E}),a))});dc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dc.classNames={fullWidth:Fa,zeroRight:$a};var GC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HC(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=GC();return e&&t.setAttribute("nonce",e),t}function QC(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function KC(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var YC=function(){var t=0,e=null;return{add:function(n){t==0&&(e=HC())&&(QC(e,n),KC(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},XC=function(){var t=YC();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Zy=function(){var t=XC(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},ZC={left:0,top:0,right:0,gap:0},du=function(t){return parseInt(t||"",10)||0},JC=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[du(n),du(r),du(s)]},ex=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ZC;var e=JC(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},tx=Zy(),nx=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(LC,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($a,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fa,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($a," .").concat($a,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fa," .").concat(Fa,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(VC,": ").concat(a,`px;
  }
`)},rx=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r,i=y.useMemo(function(){return ex(s)},[s]);return y.createElement(tx,{styles:nx(i,!e,s,n?"":"!important")})},vd=!1;if(typeof window<"u")try{var ma=Object.defineProperty({},"passive",{get:function(){return vd=!0,!0}});window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{vd=!1}var hs=vd?{passive:!1}:!1,sx=function(t){return t.tagName==="TEXTAREA"},Jy=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!sx(t)&&n[e]==="visible")},ix=function(t){return Jy(t,"overflowY")},ox=function(t){return Jy(t,"overflowX")},am=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=e0(t,n);if(r){var s=t0(t,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},ax=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},lx=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},e0=function(t,e){return t==="v"?ix(e):ox(e)},t0=function(t,e){return t==="v"?ax(e):lx(e)},cx=function(t,e){return t==="h"&&e==="rtl"?-1:1},ux=function(t,e,n,r,s){var i=cx(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var h=t0(t,a),p=h[0],m=h[1],_=h[2],g=m-_-i*p;(p||g)&&e0(t,a)&&(d+=g,f+=p),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(s&&d===0||!s&&o>d)||!u&&(s&&f===0||!s&&-o>f))&&(c=!0),c},ga=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lm=function(t){return[t.deltaX,t.deltaY]},cm=function(t){return t&&"current"in t?t.current:t},dx=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fx=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},hx=0,ps=[];function px(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(hx++)[0],i=y.useState(function(){return Zy()})[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var m=FC([t.lockRef.current],(t.shards||[]).map(cm),!0).filter(Boolean);return m.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(m,_){if("touches"in m&&m.touches.length===2)return!o.current.allowPinchZoom;var g=ga(m),v=n.current,w="deltaX"in m?m.deltaX:v[0]-g[0],E="deltaY"in m?m.deltaY:v[1]-g[1],b,S=m.target,x=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in m&&x==="h"&&S.type==="range")return!1;var C=am(x,S);if(!C)return!0;if(C?b=x:(b=x==="v"?"h":"v",C=am(x,S)),!C)return!1;if(!r.current&&"changedTouches"in m&&(w||E)&&(r.current=b),!b)return!0;var A=r.current||b;return ux(A,_,m,A==="h"?w:E,!0)},[]),l=y.useCallback(function(m){var _=m;if(!(!ps.length||ps[ps.length-1]!==i)){var g="deltaY"in _?lm(_):ga(_),v=e.current.filter(function(b){return b.name===_.type&&b.target===_.target&&dx(b.delta,g)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(cm).filter(Boolean).filter(function(b){return b.contains(_.target)}),E=w.length>0?a(_,w[0]):!o.current.noIsolation;E&&_.cancelable&&_.preventDefault()}}},[]),c=y.useCallback(function(m,_,g,v){var w={name:m,delta:_,target:g,should:v};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),u=y.useCallback(function(m){n.current=ga(m),r.current=void 0},[]),d=y.useCallback(function(m){c(m.type,lm(m),m.target,a(m,t.lockRef.current))},[]),f=y.useCallback(function(m){c(m.type,ga(m),m.target,a(m,t.lockRef.current))},[]);y.useEffect(function(){return ps.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,hs),document.addEventListener("touchmove",l,hs),document.addEventListener("touchstart",u,hs),function(){ps=ps.filter(function(m){return m!==i}),document.removeEventListener("wheel",l,hs),document.removeEventListener("touchmove",l,hs),document.removeEventListener("touchstart",u,hs)}},[]);var h=t.removeScrollBar,p=t.inert;return y.createElement(y.Fragment,null,p?y.createElement(i,{styles:fx(s)}):null,h?y.createElement(rx,{gapMode:"margin"}):null)}const mx=qC(Xy,px);var n0=y.forwardRef(function(t,e){return y.createElement(dc,pn({},t,{ref:e,sideCar:mx}))});n0.classNames=dc.classNames;const gx=n0,yd=["Enter"," "],vx=["ArrowDown","PageUp","Home"],r0=["ArrowUp","PageDown","End"],yx=[...vx,...r0],_x={ltr:[...yd,"ArrowRight"],rtl:[...yd,"ArrowLeft"]},wx={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fc="Menu",[co,bx,Ex]=Vf(fc),[os,s0]=ii(fc,[Ex,Uy,Gy]),Hf=Uy(),i0=Gy(),[Sx,as]=os(fc),[Cx,Po]=os(fc),xx=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Hf(e),[l,c]=y.useState(null),u=y.useRef(!1),d=Ct(i),f=Cy(s);return y.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),y.createElement(hC,a,y.createElement(Sx,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c},y.createElement(Cx,{scope:e,onClose:y.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o},r)))},o0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Hf(n);return y.createElement(pC,W({},s,r,{ref:e}))}),a0="MenuPortal",[Tx,l0]=os(a0,{forceMount:void 0}),Nx=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=as(a0,e);return y.createElement(Tx,{scope:e,forceMount:n},y.createElement(li,{present:n||i.open},y.createElement(Wy,{asChild:!0,container:s},r)))},nn="MenuContent",[Ax,Qf]=os(nn),kx=y.forwardRef((t,e)=>{const n=l0(nn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=as(nn,t.__scopeMenu),o=Po(nn,t.__scopeMenu);return y.createElement(co.Provider,{scope:t.__scopeMenu},y.createElement(li,{present:r||i.open},y.createElement(co.Slot,{scope:t.__scopeMenu},o.modal?y.createElement(Mx,W({},s,{ref:e})):y.createElement(Rx,W({},s,{ref:e})))))}),Mx=y.forwardRef((t,e)=>{const n=as(nn,t.__scopeMenu),r=y.useRef(null),s=at(e,r);return y.useEffect(()=>{const i=r.current;if(i)return $C(i)},[]),y.createElement(Kf,W({},t,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:J(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),Rx=y.forwardRef((t,e)=>{const n=as(nn,t.__scopeMenu);return y.createElement(Kf,W({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),Kf=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:p,...m}=t,_=as(nn,n),g=Po(nn,n),v=Hf(n),w=i0(n),E=bx(n),[b,S]=y.useState(null),x=y.useRef(null),C=at(e,x,_.onContentChange),A=y.useRef(0),N=y.useRef(""),R=y.useRef(0),T=y.useRef(null),F=y.useRef("right"),k=y.useRef(0),L=p?gx:y.Fragment,I=p?{as:Hs,allowPinchZoom:!0}:void 0,V=M=>{var $,U;const H=N.current+M,ae=E().filter(ke=>!ke.disabled),le=document.activeElement,X=($=ae.find(ke=>ke.ref.current===le))===null||$===void 0?void 0:$.textValue,Z=ae.map(ke=>ke.textValue),ce=Hx(Z,H,X),K=(U=ae.find(ke=>ke.textValue===ce))===null||U===void 0?void 0:U.ref.current;(function ke(Dt){N.current=Dt,window.clearTimeout(A.current),Dt!==""&&(A.current=window.setTimeout(()=>ke(""),1e3))})(H),K&&setTimeout(()=>K.focus())};y.useEffect(()=>()=>window.clearTimeout(A.current),[]),iS();const O=y.useCallback(M=>{var $,U;return F.current===(($=T.current)===null||$===void 0?void 0:$.side)&&Kx(M,(U=T.current)===null||U===void 0?void 0:U.area)},[]);return y.createElement(Ax,{scope:n,searchRef:N,onItemEnter:y.useCallback(M=>{O(M)&&M.preventDefault()},[O]),onItemLeave:y.useCallback(M=>{var $;O(M)||(($=x.current)===null||$===void 0||$.focus(),S(null))},[O]),onTriggerLeave:y.useCallback(M=>{O(M)&&M.preventDefault()},[O]),pointerGraceTimerRef:R,onPointerGraceIntentChange:y.useCallback(M=>{T.current=M},[])},y.createElement(L,I,y.createElement(oS,{asChild:!0,trapped:s,onMountAutoFocus:J(i,M=>{var $;M.preventDefault(),($=x.current)===null||$===void 0||$.focus()}),onUnmountAutoFocus:o},y.createElement(Ty,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h},y.createElement(RC,W({asChild:!0},w,{dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:b,onCurrentTabStopIdChange:S,onEntryFocus:J(l,M=>{g.isUsingKeyboardRef.current||M.preventDefault()})}),y.createElement(mC,W({role:"menu","aria-orientation":"vertical","data-state":h0(_.open),"data-radix-menu-content":"",dir:g.dir},v,m,{ref:C,style:{outline:"none",...m.style},onKeyDown:J(m.onKeyDown,M=>{const U=M.target.closest("[data-radix-menu-content]")===M.currentTarget,H=M.ctrlKey||M.altKey||M.metaKey,ae=M.key.length===1;U&&(M.key==="Tab"&&M.preventDefault(),!H&&ae&&V(M.key));const le=x.current;if(M.target!==le||!yx.includes(M.key))return;M.preventDefault();const Z=E().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);r0.includes(M.key)&&Z.reverse(),qx(Z)}),onBlur:J(t.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(A.current),N.current="")}),onPointerMove:J(t.onPointerMove,uo(M=>{const $=M.target,U=k.current!==M.clientX;if(M.currentTarget.contains($)&&U){const H=M.clientX>k.current?"right":"left";F.current=H,k.current=M.clientX}}))})))))))}),Ox=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.createElement(Be.div,W({},r,{ref:e}))}),_d="MenuItem",um="menu.itemSelect",Yf=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=Po(_d,t.__scopeMenu),a=Qf(_d,t.__scopeMenu),l=at(e,i),c=y.useRef(!1),u=()=>{const d=i.current;if(!n&&d){const f=new CustomEvent(um,{bubbles:!0,cancelable:!0});d.addEventListener(um,h=>r==null?void 0:r(h),{once:!0}),Lf(d,f),f.defaultPrevented?c.current=!1:o.onClose()}};return y.createElement(c0,W({},s,{ref:l,disabled:n,onClick:J(t.onClick,u),onPointerDown:d=>{var f;(f=t.onPointerDown)===null||f===void 0||f.call(t,d),c.current=!0},onPointerUp:J(t.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)===null||f===void 0||f.click()}),onKeyDown:J(t.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||yd.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})}))}),c0=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=Qf(_d,n),a=i0(n),l=y.useRef(null),c=at(e,l),[u,d]=y.useState(!1),[f,h]=y.useState("");return y.useEffect(()=>{const p=l.current;if(p){var m;h(((m=p.textContent)!==null&&m!==void 0?m:"").trim())}},[i.children]),y.createElement(co.ItemSlot,{scope:n,disabled:r,textValue:s??f},y.createElement(OC,W({asChild:!0},a,{focusable:!r}),y.createElement(Be.div,W({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},i,{ref:c,onPointerMove:J(t.onPointerMove,uo(p=>{r?o.onItemLeave(p):(o.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus())})),onPointerLeave:J(t.onPointerLeave,uo(p=>o.onItemLeave(p))),onFocus:J(t.onFocus,()=>d(!0)),onBlur:J(t.onBlur,()=>d(!1))}))))}),Ix=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return y.createElement(d0,{scope:t.__scopeMenu,checked:n},y.createElement(Yf,W({role:"menuitemcheckbox","aria-checked":wl(n)?"mixed":n},s,{ref:e,"data-state":Xf(n),onSelect:J(s.onSelect,()=>r==null?void 0:r(wl(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),Px="MenuRadioGroup",[_P,Dx]=os(Px,{value:void 0,onValueChange:()=>{}}),$x="MenuRadioItem",Fx=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=Dx($x,t.__scopeMenu),i=n===s.value;return y.createElement(d0,{scope:t.__scopeMenu,checked:i},y.createElement(Yf,W({role:"menuitemradio","aria-checked":i},r,{ref:e,"data-state":Xf(i),onSelect:J(r.onSelect,()=>{var o;return(o=s.onValueChange)===null||o===void 0?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})))}),u0="MenuItemIndicator",[d0,Lx]=os(u0,{checked:!1}),Vx=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Lx(u0,n);return y.createElement(li,{present:r||wl(i.checked)||i.checked===!0},y.createElement(Be.span,W({},s,{ref:e,"data-state":Xf(i.checked)})))}),Ux=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return y.createElement(Be.div,W({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),Bx="MenuSub",[wP,f0]=os(Bx),va="MenuSubTrigger",jx=y.forwardRef((t,e)=>{const n=as(va,t.__scopeMenu),r=Po(va,t.__scopeMenu),s=f0(va,t.__scopeMenu),i=Qf(va,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},u=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>u,[u]),y.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),y.createElement(o0,W({asChild:!0},c),y.createElement(c0,W({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":h0(n.open)},t,{ref:lc(e,s.onTriggerChange),onClick:d=>{var f;(f=t.onClick)===null||f===void 0||f.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:J(t.onPointerMove,uo(d=>{i.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:J(t.onPointerLeave,uo(d=>{var f;u();const h=(f=n.content)===null||f===void 0?void 0:f.getBoundingClientRect();if(h){var p;const m=(p=n.content)===null||p===void 0?void 0:p.dataset.side,_=m==="right",g=_?-5:5,v=h[_?"left":"right"],w=h[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+g,y:d.clientY},{x:v,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:v,y:h.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:J(t.onKeyDown,d=>{const f=i.searchRef.current!=="";if(!(t.disabled||f&&d.key===" ")&&_x[r.dir].includes(d.key)){var h;n.onOpenChange(!0),(h=n.content)===null||h===void 0||h.focus(),d.preventDefault()}})})))}),zx="MenuSubContent",Wx=y.forwardRef((t,e)=>{const n=l0(nn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=as(nn,t.__scopeMenu),o=Po(nn,t.__scopeMenu),a=f0(zx,t.__scopeMenu),l=y.useRef(null),c=at(e,l);return y.createElement(co.Provider,{scope:t.__scopeMenu},y.createElement(li,{present:r||i.open},y.createElement(co.Slot,{scope:t.__scopeMenu},y.createElement(Kf,W({id:a.contentId,"aria-labelledby":a.triggerId},s,{ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)===null||d===void 0||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:J(t.onFocusOutside,u=>{u.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:J(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:J(t.onKeyDown,u=>{const d=u.currentTarget.contains(u.target),f=wx[o.dir].includes(u.key);if(d&&f){var h;i.onOpenChange(!1),(h=a.trigger)===null||h===void 0||h.focus(),u.preventDefault()}})})))))});function h0(t){return t?"open":"closed"}function wl(t){return t==="indeterminate"}function Xf(t){return wl(t)?"indeterminate":t?"checked":"unchecked"}function qx(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Gx(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Hx(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Gx(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Qx(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(s=!s)}return s}function Kx(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Qx(n,e)}function uo(t){return e=>e.pointerType==="mouse"?t(e):void 0}const Yx=xx,Xx=o0,Zx=Nx,Jx=kx,eT=Ox,tT=Yf,nT=Ix,rT=Fx,sT=Vx,iT=Ux,oT=jx,aT=Wx,p0="DropdownMenu",[lT,bP]=ii(p0,[s0]),qt=s0(),[cT,m0]=lT(p0),uT=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=qt(e),c=y.useRef(null),[u=!1,d]=Ff({prop:s,defaultProp:i,onChange:o});return y.createElement(cT,{scope:e,triggerId:hd(),triggerRef:c,contentId:hd(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:a},y.createElement(Yx,W({},l,{open:u,onOpenChange:d,dir:r,modal:a}),n))},dT="DropdownMenuTrigger",fT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=m0(dT,n),o=qt(n);return y.createElement(Xx,W({asChild:!0},o),y.createElement(Be.button,W({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},s,{ref:lc(e,i.triggerRef),onPointerDown:J(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:J(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),hT=t=>{const{__scopeDropdownMenu:e,...n}=t,r=qt(e);return y.createElement(Zx,W({},r,n))},pT="DropdownMenuContent",mT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=m0(pT,n),i=qt(n),o=y.useRef(!1);return y.createElement(Jx,W({id:s.contentId,"aria-labelledby":s.triggerId},i,r,{ref:e,onCloseAutoFocus:J(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)===null||l===void 0||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:J(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),gT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qt(n);return y.createElement(eT,W({},s,r,{ref:e}))}),vT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qt(n);return y.createElement(tT,W({},s,r,{ref:e}))}),yT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qt(n);return y.createElement(nT,W({},s,r,{ref:e}))}),_T=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qt(n);return y.createElement(rT,W({},s,r,{ref:e}))}),wT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qt(n);return y.createElement(sT,W({},s,r,{ref:e}))}),bT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qt(n);return y.createElement(iT,W({},s,r,{ref:e}))}),ET=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qt(n);return y.createElement(oT,W({},s,r,{ref:e}))}),ST=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=qt(n);return y.createElement(aT,W({},s,r,{ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),CT=uT,xT=fT,TT=hT,g0=mT,v0=gT,y0=vT,_0=yT,w0=_T,b0=wT,E0=bT,S0=ET,C0=ST,NT=CT,AT=xT,kT=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>D.jsxs(S0,{ref:s,className:qe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,D.jsx(Jb,{className:"ml-auto h-4 w-4"})]}));kT.displayName=S0.displayName;const MT=y.forwardRef(({className:t,...e},n)=>D.jsx(C0,{ref:n,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));MT.displayName=C0.displayName;const x0=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>D.jsx(TT,{children:D.jsx(g0,{ref:r,sideOffset:e,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));x0.displayName=g0.displayName;const La=y.forwardRef(({className:t,inset:e,...n},r)=>D.jsx(y0,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));La.displayName=y0.displayName;const RT=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>D.jsxs(_0,{ref:s,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[D.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:D.jsx(b0,{children:D.jsx(Zb,{className:"h-4 w-4"})})}),e]}));RT.displayName=_0.displayName;const OT=y.forwardRef(({className:t,children:e,...n},r)=>D.jsxs(w0,{ref:r,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[D.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:D.jsx(b0,{children:D.jsx(eE,{className:"h-2 w-2 fill-current"})})}),e]}));OT.displayName=w0.displayName;const IT=y.forwardRef(({className:t,inset:e,...n},r)=>D.jsx(v0,{ref:r,className:qe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));IT.displayName=v0.displayName;const PT=y.forwardRef(({className:t,...e},n)=>D.jsx(E0,{ref:n,className:qe("-mx-1 my-1 h-px bg-muted",t),...e}));PT.displayName=E0.displayName;function DT(){const{setTheme:t}=Kb();return D.jsxs(NT,{children:[D.jsx(AT,{asChild:!0,children:D.jsxs(Rn,{variant:"outline",size:"icon",children:[D.jsx(iE,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),D.jsx(nE,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),D.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),D.jsxs(x0,{align:"end",children:[D.jsx(La,{onClick:()=>t("light"),children:"Light"}),D.jsx(La,{onClick:()=>t("dark"),children:"Dark"}),D.jsx(La,{onClick:()=>t("system"),children:"System"})]})]})}function $T({children:t}){return D.jsx("header",{className:"bg-background/80 text-on-background sticky top-0 z-50 backdrop-filter backdrop-blur-lg",children:D.jsx("div",{className:"w-full border-b h-16 flex items-center",children:D.jsxs("div",{className:"container flex justify-between items-center",children:[D.jsx("div",{className:"flex items-center gap-8",children:D.jsx("a",{href:"/",className:"flex items-center font-bold tracking-tight italic text-2xl hover:underline",children:"GroooveGPT"})}),t,D.jsx("div",{className:"flex items-center gap-3",children:D.jsx(DT,{})})]})})})}function dm({children:t}){return D.jsx("div",{className:"flex flex-col min-h-screen",children:D.jsx("div",{className:"flex flex-grow max-h-screen",children:D.jsxs("div",{className:"flex flex-col flex-grow overflow-y-auto",children:[D.jsx($T,{}),D.jsx("main",{className:"container flex-grow py-4 sm:py-8 font-normal",children:t})]})})})}function FT({hit:t,onClick:e,className:n}){return D.jsx("td",{className:qe(n),children:D.jsx(Rn,{variant:"ghost",size:"icon",onClick:e,className:"rounded-full",children:D.jsx("div",{className:qe("rounded-full transition-all",{"bg-primary h-6 w-6":t==="X","bg-stone-500 h-3 w-3":t==="."})})})})}function LT({drumPattern:t,onHitChange:e,activeBeatIndex:n}){return D.jsxs("tr",{children:[D.jsx("td",{className:"border-r text-muted-foreground font-semibold uppercase",children:D.jsx("div",{className:"mr-4",children:t.instrument})}),t.hits.map((r,s)=>D.jsx(FT,{hit:r,onClick:()=>e(s,r==="X"?".":"X"),className:qe({"border-r":s%4===3,"bg-primary/10":n===s})},s))]})}function VT({pattern:t,onPatternChange:e,activeBeatIndex:n}){const r=(i,o,a)=>{const l={...t};l.parsed_pattern[i].hits[o]=a,e(l)},s=t.parsed_pattern.map((i,o)=>D.jsx(LT,{drumPattern:i,onHitChange:(a,l)=>r(o,a,l),activeBeatIndex:n},o));return D.jsx("table",{className:"w-full my-8 text-center",children:D.jsx("tbody",{children:s})})}function UT({onThumbsUp:t,onThumbsDown:e,onDownload:n,onSelectMidiBus:r}){return y.useEffect(()=>{const s=i=>{i.key==="a"&&t(),i.key==="d"&&e()};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[t,e]),D.jsxs(D.Fragment,{children:[D.jsxs("div",{className:"w-full flex items-center justify-center gap-1",children:[D.jsx(Rn,{size:"lg",variant:"ghost",className:"h-16 sm:h-24",onClick:t,children:D.jsxs("div",{className:"grid gap-2 items-center justify-center",children:[D.jsx(aE,{className:"h-5 sm:h-10 w-5 sm:w-10"}),D.jsx("span",{className:"hidden sm:block border border-primary rounded h-6 w-6 m-auto",children:"A"})]})}),D.jsx(Rn,{size:"lg",variant:"ghost",className:"h-16 sm:h-24",onClick:e,children:D.jsxs("div",{className:"grid gap-2 items-center justify-center",children:[D.jsx(oE,{className:"h-5 sm:h-10 w-5 sm:w-10"}),D.jsx("span",{className:"hidden sm:block border border-primary rounded h-6 w-6 m-auto",children:"D"})]})})]}),D.jsxs("div",{className:"w-full flex items-center justify-between",children:[D.jsxs(Rn,{variant:"ghost",className:"text-muted-foreground",onClick:n,children:[D.jsx(tE,{className:"h-5 w-5 mr-2"}),"Download"]}),D.jsx(Rn,{variant:"outline",className:"text-muted-foreground",onClick:r,children:"Select Virtual MIDI Bus"})]})]})}function BT({pattern:t,onPlay:e,onStop:n,selectedTempo:r,isPlaying:s}){return D.jsxs("div",{className:"w-full flex items-center justify-between",children:[D.jsxs("div",{className:"flex gap-1",children:[D.jsx(Rn,{variant:s?"secondary":"ghost",size:"icon",onClick:e,className:"transition-all",children:D.jsx(rE,{className:"h-5 w-5"})}),D.jsx(Rn,{variant:"ghost",size:"icon",onClick:n,children:D.jsx(sE,{className:"h-5 w-5"})})]}),D.jsx("div",{className:"font-bold text-3xl tracking-tighter",children:t.pattern}),D.jsx("div",{children:r.name})]})}const jT={100:{name:"100 bpm",bpm:100,beatIntervalMs:6e4/(100*4)},120:{name:"120 bpm",bpm:120,beatIntervalMs:6e4/(120*4)},128:{name:"128 bpm",bpm:128,beatIntervalMs:6e4/(128*4)},140:{name:"140 bpm",bpm:140,beatIntervalMs:6e4/(140*4)}},fm=jT[128];class Xt{constructor(e=!1){this.eventMap={},this.eventsSuspended=e==!0}addListener(e,n,r={}){if(typeof e=="string"&&e.length<1||e instanceof String&&e.length<1||typeof e!="string"&&!(e instanceof String)&&e!==Xt.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof n!="function")throw new TypeError("The callback must be a function.");const s=new hm(e,this,n,r);return this.eventMap[e]||(this.eventMap[e]=[]),r.prepend?this.eventMap[e].unshift(s):this.eventMap[e].push(s),s}addOneTimeListener(e,n,r={}){r.remaining=1,this.addListener(e,n,r)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(e,n){return e===void 0?this.eventMap[Xt.ANY_EVENT]&&this.eventMap[Xt.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,r])=>r.length>0):this.eventMap[e]&&this.eventMap[e].length>0?n instanceof hm?this.eventMap[e].filter(s=>s===n).length>0:typeof n=="function"?this.eventMap[e].filter(s=>s.callback===n).length>0:n==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(e){return this.eventMap[e]||[]}suspendEvent(e){this.getListeners(e).forEach(n=>{n.suspended=!0})}unsuspendEvent(e){this.getListeners(e).forEach(n=>{n.suspended=!1})}getListenerCount(e){return this.getListeners(e).length}emit(e,...n){if(typeof e!="string"&&!(e instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let r=[],s=this.eventMap[Xt.ANY_EVENT]||[];return this.eventMap[e]&&(s=s.concat(this.eventMap[e])),s.forEach(i=>{if(i.suspended)return;let o=[...n];Array.isArray(i.arguments)&&(o=o.concat(i.arguments)),i.remaining>0&&(r.push(i.callback.apply(i.context,o)),i.count++),--i.remaining<1&&i.remove()}),r}removeListener(e,n,r={}){if(e===void 0){this.eventMap={};return}else if(!this.eventMap[e])return;let s=this.eventMap[e].filter(i=>n&&i.callback!==n||r.remaining&&r.remaining!==i.remaining||r.context&&r.context!==i.context);s.length?this.eventMap[e]=s:delete this.eventMap[e]}async waitFor(e,n={}){return n.duration=parseInt(n.duration),(isNaN(n.duration)||n.duration<=0)&&(n.duration=1/0),new Promise((r,s)=>{let i,o=this.addListener(e,()=>{clearTimeout(i),r()},{remaining:1});n.duration!==1/0&&(i=setTimeout(()=>{o.remove(),s("The duration expired before the event was emitted.")},n.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}let hm=class{constructor(e,n,r,s={}){if(typeof e!="string"&&!(e instanceof String)&&e!==Xt.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!n)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof r!="function")throw new TypeError("The 'callback' must be a function.");s.arguments!==void 0&&!Array.isArray(s.arguments)&&(s.arguments=[s.arguments]),s=Object.assign({context:n,remaining:1/0,arguments:void 0,duration:1/0},s),s.duration!==1/0&&setTimeout(()=>this.remove(),s.duration),this.arguments=s.arguments,this.callback=r,this.context=s.context,this.count=0,this.event=e,this.remaining=parseInt(s.remaining)>=1?parseInt(s.remaining):1/0,this.suspended=!1,this.target=n}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}};/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class P{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),P.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),P.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),P.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),P.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class As{constructor(e,n={}){this.duration=j.defaults.note.duration,this.attack=j.defaults.note.attack,this.release=j.defaults.note.release,n.duration!=null&&(this.duration=n.duration),n.attack!=null&&(this.attack=n.attack),n.rawAttack!=null&&(this.attack=z.from7bitToFloat(n.rawAttack)),n.release!=null&&(this.release=n.release),n.rawRelease!=null&&(this.release=z.from7bitToFloat(n.rawRelease)),Number.isInteger(e)?this.identifier=z.toNoteIdentifier(e):this.identifier=e}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(e){const n=z.getNoteDetails(e);if(j.validation&&!e)throw new Error("Invalid note identifier");this._name=n.name,this._accidental=n.accidental,this._octave=n.octave}get name(){return this._name}set name(e){if(j.validation&&(e=e.toUpperCase(),!["C","D","E","F","G","A","B"].includes(e)))throw new Error("Invalid name value");this._name=e}get accidental(){return this._accidental}set accidental(e){if(j.validation&&(e=e.toLowerCase(),!["#","##","b","bb"].includes(e)))throw new Error("Invalid accidental value");this._accidental=e}get octave(){return this._octave}set octave(e){if(j.validation&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid octave value");this._octave=e}get duration(){return this._duration}set duration(e){if(j.validation&&(e=parseFloat(e),isNaN(e)||e===null||e<0))throw new RangeError("Invalid duration value.");this._duration=e}get attack(){return this._attack}set attack(e){if(j.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid attack value.");this._attack=e}get release(){return this._release}set release(e){if(j.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid release value.");this._release=e}get rawAttack(){return z.fromFloatTo7Bit(this._attack)}set rawAttack(e){this._attack=z.from7bitToFloat(e)}get rawRelease(){return z.fromFloatTo7Bit(this._release)}set rawRelease(e){this._release=z.from7bitToFloat(e)}get number(){return z.toNoteNumber(this.identifier)}getOffsetNumber(e=0,n=0){return j.validation&&(e=parseInt(e)||0,n=parseInt(n)||0),Math.min(Math.max(this.number+e*12+n,0),127)}}/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class z{static toNoteNumber(e,n=0){if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid 'octaveOffset' value");typeof e!="string"&&(e="");const r=this.getNoteDetails(e);if(!r)throw new TypeError("Invalid note identifier");const s={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let i=(r.octave+1+n)*12;if(i+=s[r.name],r.accidental&&(r.accidental.startsWith("b")?i-=r.accidental.length:i+=r.accidental.length),i<0||i>127)throw new RangeError("Invalid octaveOffset value");return i}static getNoteDetails(e){Number.isInteger(e)&&(e=this.toNoteIdentifier(e));const n=e.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!n)throw new TypeError("Invalid note identifier");const r=n[1].toUpperCase(),s=parseInt(n[3]);let i=n[2].toLowerCase();return i=i===""?void 0:i,{accidental:i,identifier:r+(i||"")+s,name:r,octave:s}}static sanitizeChannels(e){let n;if(j.validation){if(e==="all")n=["all"];else if(e==="none")return[]}return Array.isArray(e)?n=e:n=[e],n.indexOf("all")>-1&&(n=P.MIDI_CHANNEL_NUMBERS),n.map(function(r){return parseInt(r)}).filter(function(r){return r>=1&&r<=16})}static toTimestamp(e){let n=!1;const r=parseFloat(e);return isNaN(r)?!1:(typeof e=="string"&&e.substring(0,1)==="+"?r>=0&&(n=j.time+r):r>=0&&(n=r),n)}static guessNoteNumber(e,n){n=parseInt(n)||0;let r=!1;if(Number.isInteger(e)&&e>=0&&e<=127)r=parseInt(e);else if(parseInt(e)>=0&&parseInt(e)<=127)r=parseInt(e);else if(typeof e=="string"||e instanceof String)try{r=this.toNoteNumber(e.trim(),n)}catch{return!1}return r}static toNoteIdentifier(e,n){if(e=parseInt(e),isNaN(e)||e<0||e>127)throw new RangeError("Invalid note number");if(n=n==null?0:parseInt(n),isNaN(n))throw new RangeError("Invalid octaveOffset value");const r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],s=Math.floor(e/12-1)+n;return r[e%12]+s.toString()}static buildNote(e,n={}){if(n.octaveOffset=parseInt(n.octaveOffset)||0,e instanceof As)return e;let r=this.guessNoteNumber(e,n.octaveOffset);if(r===!1)throw new TypeError(`The input could not be parsed as a note (${e})`);return n.octaveOffset=void 0,new As(r,n)}static buildNoteArray(e,n={}){let r=[];return Array.isArray(e)||(e=[e]),e.forEach(s=>{r.push(this.buildNote(s,n))}),r}static from7bitToFloat(e){return e===1/0&&(e=127),e=parseInt(e)||0,Math.min(Math.max(e/127,0),1)}static fromFloatTo7Bit(e){return e===1/0&&(e=1),e=parseFloat(e)||0,Math.min(Math.max(Math.round(e*127),0),127)}static fromMsbLsbToFloat(e,n=0){j.validation&&(e=Math.min(Math.max(parseInt(e)||0,0),127),n=Math.min(Math.max(parseInt(n)||0,0),127));const r=((e<<7)+n)/16383;return Math.min(Math.max(r,0),1)}static fromFloatToMsbLsb(e){j.validation&&(e=Math.min(Math.max(parseFloat(e)||0,0),1));const n=Math.round(e*16383);return{msb:n>>7,lsb:n&127}}static offsetNumber(e,n=0,r=0){if(j.validation){if(e=parseInt(e),isNaN(e))throw new Error("Invalid note number");n=parseInt(n)||0,r=parseInt(r)||0}return Math.min(Math.max(e+n*12+r,0),127)}static getPropertyByValue(e,n){return Object.keys(e).find(r=>e[r]===n)}static getCcNameByNumber(e){if(!(j.validation&&(e=parseInt(e),!(e>=0&&e<=127))))return P.CONTROL_CHANGE_MESSAGES[e].name}static getCcNumberByName(e){let n=P.CONTROL_CHANGE_MESSAGES.find(r=>r.name===e);return n?n.number:P.MIDI_CONTROL_CHANGE_MESSAGES[e]}static getChannelModeByNumber(e){if(!(e>=120&&e<=127))return!1;for(let n in P.CHANNEL_MODE_MESSAGES)if(P.CHANNEL_MODE_MESSAGES.hasOwnProperty(n)&&e===P.CHANNEL_MODE_MESSAGES[n])return n;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class zT extends Xt{constructor(e,n){super(),this._output=e,this._number=n,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(e,n={time:0}){return this.output.send(e,n),this}sendKeyAftertouch(e,n,r={}){if(j.validation){if(r.useRawValue&&(r.rawValue=r.useRawValue),isNaN(parseFloat(n)))throw new RangeError("Invalid key aftertouch value.");if(r.rawValue){if(!(n>=0&&n<=127&&Number.isInteger(n)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(n>=0&&n<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}r.rawValue||(n=z.fromFloatTo7Bit(n));const s=j.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(e)||(e=[e]),z.buildNoteArray(e).forEach(i=>{this.send([(P.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),i.getOffsetNumber(s),n],{time:z.toTimestamp(r.time)})}),this}sendControlChange(e,n,r={}){if(typeof e=="string"&&(e=z.getCcNumberByName(e)),Array.isArray(n)||(n=[n]),j.validation){if(e===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(n=n.map(s=>{const i=Math.min(Math.max(parseInt(s),0),127);if(isNaN(i))throw new TypeError("Values must be integers between 0 and 127");return i}),n.length===2&&e>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return n.forEach((s,i)=>{this.send([(P.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e+i*32,n[i]],{time:z.toTimestamp(r.time)})}),this}_selectNonRegisteredParameter(e,n={}){return this.sendControlChange(99,e[0],n),this.sendControlChange(98,e[1],n),this}_deselectRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_deselectNonRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_selectRegisteredParameter(e,n={}){return this.sendControlChange(101,e[0],n),this.sendControlChange(100,e[1],n),this}_setCurrentParameter(e,n={}){return e=[].concat(e),this.sendControlChange(6,e[0],n),e.length<2?this:(this.sendControlChange(38,e[1],n),this)}sendRpnDecrement(e,n={}){if(Array.isArray(e)||(e=P.REGISTERED_PARAMETERS[e]),j.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(P.REGISTERED_PARAMETERS).forEach(s=>{P.REGISTERED_PARAMETERS[s][0]===e[0]&&P.REGISTERED_PARAMETERS[s][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,n),this.sendControlChange(97,0,n),this._deselectRegisteredParameter(n),this}sendRpnIncrement(e,n={}){if(Array.isArray(e)||(e=P.REGISTERED_PARAMETERS[e]),j.validation){if(e===void 0)throw new TypeError("The specified registered parameter is invalid.");let r=!1;if(Object.getOwnPropertyNames(P.REGISTERED_PARAMETERS).forEach(s=>{P.REGISTERED_PARAMETERS[s][0]===e[0]&&P.REGISTERED_PARAMETERS[s][1]===e[1]&&(r=!0)}),!r)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,n),this.sendControlChange(96,0,n),this._deselectRegisteredParameter(n),this}playNote(e,n={}){this.sendNoteOn(e,n);const r=Array.isArray(e)?e:[e];for(let s of r)if(parseInt(s.duration)>0){const i={time:(z.toTimestamp(n.time)||j.time)+parseInt(s.duration),release:s.release,rawRelease:s.rawRelease};this.sendNoteOff(s,i)}else if(parseInt(n.duration)>0){const i={time:(z.toTimestamp(n.time)||j.time)+parseInt(n.duration),release:n.release,rawRelease:n.rawRelease};this.sendNoteOff(s,i)}return this}sendNoteOff(e,n={}){if(j.validation){if(n.rawRelease!=null&&!(n.rawRelease>=0&&n.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(n.release!=null&&!(n.release>=0&&n.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");n.rawVelocity&&(n.rawRelease=n.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),n.velocity&&(n.release=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;n.rawRelease!=null?r=n.rawRelease:isNaN(n.release)||(r=Math.round(n.release*127));const s=j.octaveOffset+this.output.octaveOffset+this.octaveOffset;return z.buildNoteArray(e,{rawRelease:parseInt(r)}).forEach(i=>{this.send([(P.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),i.getOffsetNumber(s),i.rawRelease],{time:z.toTimestamp(n.time)})}),this}stopNote(e,n={}){return this.sendNoteOff(e,n)}sendNoteOn(e,n={}){if(j.validation){if(n.rawAttack!=null&&!(n.rawAttack>=0&&n.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(n.attack!=null&&!(n.attack>=0&&n.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");n.rawVelocity&&(n.rawAttack=n.velocity,n.rawRelease=n.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),n.velocity&&(n.attack=n.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let r=64;n.rawAttack!=null?r=n.rawAttack:isNaN(n.attack)||(r=Math.round(n.attack*127));const s=j.octaveOffset+this.output.octaveOffset+this.octaveOffset;return z.buildNoteArray(e,{rawAttack:r}).forEach(i=>{this.send([(P.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),i.getOffsetNumber(s),i.rawAttack],{time:z.toTimestamp(n.time)})}),this}sendChannelMode(e,n=0,r={}){if(typeof e=="string"&&(e=P.CHANNEL_MODE_MESSAGES[e]),j.validation){if(e===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(e)||!(e>=120&&e<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(n))||n<0||n>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(P.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e,n],{time:z.toTimestamp(r.time)}),this}sendOmniMode(e,n={}){return e===void 0||e?this.sendChannelMode("omnimodeon",0,n):this.sendChannelMode("omnimodeoff",0,n),this}sendChannelAftertouch(e,n={}){if(j.validation){if(isNaN(parseFloat(e)))throw new RangeError("Invalid channel aftertouch value.");if(n.rawValue){if(!(e>=0&&e<=127&&Number.isInteger(e)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(e>=0&&e<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return n.rawValue||(e=z.fromFloatTo7Bit(e)),this.send([(P.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(e)],{time:z.toTimestamp(n.time)}),this}sendMasterTuning(e,n={}){if(e=parseFloat(e)||0,j.validation&&!(e>-65&&e<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let r=Math.floor(e)+64,s=e-Math.floor(e);s=Math.round((s+1)/2*16383);let i=s>>7&127,o=s&127;return this.sendRpnValue("channelcoarsetuning",r,n),this.sendRpnValue("channelfinetuning",[i,o],n),this}sendModulationRange(e,n,r={}){if(j.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(n!=null&&(!Number.isInteger(n)||!(n>=0&&n<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return n>=0&&n<=127||(n=0),this.sendRpnValue("modulationrange",[e,n],r),this}sendNrpnValue(e,n,r={}){if(n=[].concat(n),j.validation){if(!Array.isArray(e)||!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");n.forEach(s=>{if(!(s>=0&&s<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(e,r),this._setCurrentParameter(n,r),this._deselectNonRegisteredParameter(r),this}sendPitchBend(e,n={}){if(j.validation)if(n.rawValue&&Array.isArray(e)){if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(n.rawValue&&!Array.isArray(e)){if(!(e>=0&&e<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(e)||e===null)throw new RangeError("Invalid pitch bend value.");if(!(e>=-1&&e<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let r=0,s=0;if(n.rawValue&&Array.isArray(e))r=e[0],s=e[1];else if(n.rawValue&&!Array.isArray(e))r=e;else{const i=z.fromFloatToMsbLsb((e+1)/2);r=i.msb,s=i.lsb}return this.send([(P.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),s,r],{time:z.toTimestamp(n.time)}),this}sendPitchBendRange(e,n,r={}){if(j.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(n)||!(n>=0&&n<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[e,n],r),this}sendProgramChange(e,n={}){if(e=parseInt(e)||0,j.validation&&!(e>=0&&e<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(P.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),e],{time:z.toTimestamp(n.time)}),this}sendRpnValue(e,n,r={}){if(Array.isArray(e)||(e=P.REGISTERED_PARAMETERS[e]),j.validation){if(!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(n).forEach(s=>{if(!(s>=0&&s<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(e,r),this._setCurrentParameter(n,r),this._deselectRegisteredParameter(r),this}sendTuningBank(e,n={}){if(j.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",e,n),this}sendTuningProgram(e,n={}){if(j.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",e,n),this}sendLocalControl(e,n={}){return e?this.sendChannelMode("localcontrol",127,n):this.sendChannelMode("localcontrol",0,n)}sendAllNotesOff(e={}){return this.sendChannelMode("allnotesoff",0,e)}sendAllSoundOff(e={}){return this.sendChannelMode("allsoundoff",0,e)}sendResetAllControllers(e={}){return this.sendChannelMode("resetallcontrollers",0,e)}sendPolyphonicMode(e,n={}){return e==="mono"?this.sendChannelMode("monomodeon",0,n):this.sendChannelMode("polymodeon",0,n)}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class wd extends Xt{constructor(e){super(),this._midiOutput=e,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new zT(this,n);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(e){let n={timestamp:j.time};e.port.connection==="open"?(n.type="opened",n.target=this,n.port=n.target,this.emit("opened",n)):e.port.connection==="closed"&&e.port.state==="connected"?(n.type="closed",n.target=this,n.port=n.target,this.emit("closed",n)):e.port.connection==="closed"&&e.port.state==="disconnected"?(n.type="disconnected",n.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",n)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught:",e.port.connection,e.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(e){return Promise.reject(e)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(e,n={time:0},r=0){if(e instanceof T0&&(e=z.isNode?e.data:e.rawData),e instanceof Uint8Array&&z.isNode&&(e=Array.from(e)),j.validation){if(!Array.isArray(e)&&!(e instanceof Uint8Array)&&(e=[e],Array.isArray(n)&&(e=e.concat(n)),n=isNaN(r)?{time:0}:{time:r}),!(parseInt(e[0])>=128&&parseInt(e[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");e.slice(1).forEach(s=>{if(s=parseInt(s),!(s>=0&&s<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),n||(n={time:0})}return this._midiOutput.send(e,z.toTimestamp(n.time)),this}sendSysex(e,n=[],r={}){if(e=[].concat(e),n instanceof Uint8Array){const s=new Uint8Array(1+e.length+n.length+1);s[0]=P.SYSTEM_MESSAGES.sysex,s.set(Uint8Array.from(e),1),s.set(n,1+e.length),s[s.length-1]=P.SYSTEM_MESSAGES.sysexend,this.send(s,{time:r.time})}else{const s=e.concat(n,P.SYSTEM_MESSAGES.sysexend);this.send([P.SYSTEM_MESSAGES.sysex].concat(s),{time:r.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():j.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(e,n={}){if(j.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([P.SYSTEM_MESSAGES.timecode,e],{time:n.time}),this}sendSongPosition(e=0,n={}){e=Math.floor(e)||0;var r=e>>7&127,s=e&127;return this.send([P.SYSTEM_MESSAGES.songposition,r,s],{time:n.time}),this}sendSongSelect(e=0,n={}){if(j.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([P.SYSTEM_MESSAGES.songselect,e],{time:n.time}),this}sendTuneRequest(e={}){return this.send([P.SYSTEM_MESSAGES.tunerequest],{time:e.time}),this}sendClock(e={}){return this.send([P.SYSTEM_MESSAGES.clock],{time:e.time}),this}sendStart(e={}){return this.send([P.SYSTEM_MESSAGES.start],{time:e.time}),this}sendContinue(e={}){return this.send([P.SYSTEM_MESSAGES.continue],{time:e.time}),this}sendStop(e={}){return this.send([P.SYSTEM_MESSAGES.stop],{time:e.time}),this}sendActiveSensing(e={}){return this.send([P.SYSTEM_MESSAGES.activesensing],{time:e.time}),this}sendReset(e={}){return this.send([P.SYSTEM_MESSAGES.reset],{time:e.time}),this}sendTuningRequest(e={}){return j.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(e)}sendKeyAftertouch(e,n,r={}){return r.channels==null&&(r.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendKeyAftertouch(e,n,r)}),this}sendControlChange(e,n,r={},s={}){if(j.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const i=r;r=s,r.channels=i,r.channels==="all"&&(r.channels=P.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendControlChange(e,n,r)}),this}sendPitchBendRange(e=0,n=0,r={}){return r.channels==null&&(r.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendPitchBendRange(e,n,r)}),this}setPitchBendRange(e=0,n=0,r="all",s={}){return j.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),s.channels=r,s.channels==="all"&&(s.channels=P.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(e,n,s)}sendRpnValue(e,n,r={}){return r.channels==null&&(r.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendRpnValue(e,n,r)}),this}setRegisteredParameter(e,n=[],r="all",s={}){return j.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),s.channels=r,s.channels==="all"&&(s.channels=P.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(e,n,s)}sendChannelAftertouch(e,n={},r={}){if(j.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=P.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendChannelAftertouch(e,n)}),this}sendPitchBend(e,n={},r={}){if(j.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=P.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendPitchBend(e,n)}),this}sendProgramChange(e=0,n={},r={}){if(j.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=P.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendProgramChange(e,n)}),this}sendModulationRange(e,n,r={}){return r.channels==null&&(r.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendModulationRange(e,n,r)}),this}setModulationRange(e=0,n=0,r="all",s={}){return j.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),s.channels=r,s.channels==="all"&&(s.channels=P.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(e,n,s)}sendMasterTuning(e,n={}){return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendMasterTuning(e,n)}),this}setMasterTuning(e,n={},r={}){return j.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),r.channels=n,r.channels==="all"&&(r.channels=P.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(e,r)}sendTuningProgram(e,n={}){return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendTuningProgram(e,n)}),this}setTuningProgram(e,n="all",r={}){return j.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),r.channels=n,r.channels==="all"&&(r.channels=P.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(e,r)}sendTuningBank(e=0,n={}){return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendTuningBank(e,n)}),this}setTuningBank(e,n="all",r={}){return j.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),r.channels=n,r.channels==="all"&&(r.channels=P.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(e,r)}sendChannelMode(e,n=0,r={},s={}){if(j.validation&&(Array.isArray(r)||Number.isInteger(r)||r==="all")){const i=r;r=s,r.channels=i,r.channels==="all"&&(r.channels=P.MIDI_CHANNEL_NUMBERS)}return r.channels==null&&(r.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(r.channels).forEach(i=>{this.channels[i].sendChannelMode(e,n,r)}),this}sendAllSoundOff(e={}){return e.channels==null&&(e.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(e.channels).forEach(n=>{this.channels[n].sendAllSoundOff(e)}),this}sendAllNotesOff(e={}){return e.channels==null&&(e.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(e.channels).forEach(n=>{this.channels[n].sendAllNotesOff(e)}),this}sendResetAllControllers(e={},n={}){if(j.validation&&(Array.isArray(e)||Number.isInteger(e)||e==="all")){const r=e;e=n,e.channels=r,e.channels==="all"&&(e.channels=P.MIDI_CHANNEL_NUMBERS)}return e.channels==null&&(e.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(e.channels).forEach(r=>{this.channels[r].sendResetAllControllers(e)}),this}sendPolyphonicMode(e,n={},r={}){if(j.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=P.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendPolyphonicMode(e,n)}),this}sendLocalControl(e,n={},r={}){if(j.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=P.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendLocalControl(e,n)}),this}sendOmniMode(e,n={},r={}){if(j.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=P.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendOmniMode(e,n)}),this}sendNrpnValue(e,n,r={}){return r.channels==null&&(r.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].sendNrpnValue(e,n,r)}),this}setNonRegisteredParameter(e,n=[],r="all",s={}){return j.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),s.channels=r,s.channels==="all"&&(s.channels=P.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(e,n,s)}sendRpnIncrement(e,n={}){return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendRpnIncrement(e,n)}),this}incrementRegisteredParameter(e,n="all",r={}){return j.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),r.channels=n,r.channels==="all"&&(r.channels=P.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(e,r)}sendRpnDecrement(e,n={}){return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(r=>{this.channels[r].sendRpnDecrement(e,n)}),this}decrementRegisteredParameter(e,n="all",r={}){return j.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),r.channels=n,r.channels==="all"&&(r.channels=P.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(e,r)}sendNoteOff(e,n={},r={}){if(j.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=P.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendNoteOff(e,n)}),this}stopNote(e,n){return this.sendNoteOff(e,n)}playNote(e,n={},r={}){if(j.validation&&(n.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),n.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=P.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].playNote(e,n)}),this}sendNoteOn(e,n={},r={}){if(j.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=r,n.channels=s,n.channels==="all"&&(n.channels=P.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendNoteOn(e,n)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class pm{constructor(e=[],n={}){this.destinations=[],this.types=[...Object.keys(P.SYSTEM_MESSAGES),...Object.keys(P.CHANNEL_MESSAGES)],this.channels=P.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(e)||(e=[e]),n.types&&!Array.isArray(n.types)&&(n.types=[n.types]),n.channels&&!Array.isArray(n.channels)&&(n.channels=[n.channels]),j.validation&&(e.forEach(r=>{if(!(r instanceof wd))throw new TypeError("Destinations must be of type 'Output'.")}),n.types!==void 0&&n.types.forEach(r=>{if(!P.SYSTEM_MESSAGES.hasOwnProperty(r)&&!P.CHANNEL_MESSAGES.hasOwnProperty(r))throw new TypeError("Type must be a valid message type.")}),n.channels!==void 0&&n.channels.forEach(r=>{if(!P.MIDI_CHANNEL_NUMBERS.includes(r))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=e,n.types&&(this.types=n.types),n.channels&&(this.channels=n.channels)}forward(e){this.suspended||this.types.includes(e.type)&&(e.channel&&!this.channels.includes(e.channel)||this.destinations.forEach(n=>{j.validation&&!(n instanceof wd)||n.send(e)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class WT extends Xt{constructor(e,n){super(),this._input=e,this._number=n,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(e){const n=Object.assign({},e);n.port=this.input,n.target=this,n.type="midimessage",this.emit(n.type,n),this._parseEventForStandardMessages(n)}_parseEventForStandardMessages(e){const n=Object.assign({},e);n.type=n.message.type||"unknownmessage";const r=e.message.dataBytes[0],s=e.message.dataBytes[1];if(n.type==="noteoff"||n.type==="noteon"&&s===0)this.notesState[r]=!1,n.type="noteoff",n.note=new As(z.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+j.octaveOffset),{rawAttack:0,rawRelease:s}),n.value=z.from7bitToFloat(s),n.rawValue=s,n.velocity=n.note.release,n.rawVelocity=n.note.rawRelease;else if(n.type==="noteon")this.notesState[r]=!0,n.note=new As(z.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+j.octaveOffset),{rawAttack:s}),n.value=z.from7bitToFloat(s),n.rawValue=s,n.velocity=n.note.attack,n.rawVelocity=n.note.rawAttack;else if(n.type==="keyaftertouch")n.note=new As(z.offsetNumber(r,this.octaveOffset+this.input.octaveOffset+j.octaveOffset)),n.value=z.from7bitToFloat(s),n.rawValue=s,n.identifier=n.note.identifier,n.key=n.note.number,n.rawKey=r;else if(n.type==="controlchange"){n.controller={number:r,name:P.CONTROL_CHANGE_MESSAGES[r].name,description:P.CONTROL_CHANGE_MESSAGES[r].description,position:P.CONTROL_CHANGE_MESSAGES[r].position},n.subtype=n.controller.name||"controller"+r,n.value=z.from7bitToFloat(s),n.rawValue=s;const i=Object.assign({},n);i.type=`${n.type}-controller${r}`,delete i.subtype,this.emit(i.type,i);const o=Object.assign({},n);o.type=`${n.type}-`+P.CONTROL_CHANGE_MESSAGES[r].name,delete o.subtype,o.type.indexOf("controller")!==0&&this.emit(o.type,o),n.message.dataBytes[0]>=120&&this._parseChannelModeMessage(n),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(n.message.dataBytes[0])&&this._parseEventForParameterNumber(n)}else n.type==="programchange"?(n.value=r,n.rawValue=n.value):n.type==="channelaftertouch"?(n.value=z.from7bitToFloat(r),n.rawValue=r):n.type==="pitchbend"?(n.value=((s<<7)+r-8192)/8192,n.rawValue=(s<<7)+r):n.type="unknownmessage";this.emit(n.type,n)}_parseChannelModeMessage(e){const n=Object.assign({},e);n.type=n.controller.name,n.type==="localcontrol"&&(n.value=n.message.data[2]===127,n.rawValue=n.message.data[2]),n.type==="omnimodeon"?(n.type="omnimode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="omnimodeoff"&&(n.type="omnimode",n.value=!1,n.rawValue=n.message.data[2]),n.type==="monomodeon"?(n.type="monomode",n.value=!0,n.rawValue=n.message.data[2]):n.type==="polymodeon"&&(n.type="monomode",n.value=!1,n.rawValue=n.message.data[2]),this.emit(n.type,n)}_parseEventForParameterNumber(e){const n=e.message.dataBytes[0],r=e.message.dataBytes[1];n===99||n===101?(this._nrpnBuffer=[],this._rpnBuffer=[],n===99?this._nrpnBuffer=[e.message]:r!==127&&(this._rpnBuffer=[e.message])):n===98||n===100?n===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(e.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&r!==127?this._rpnBuffer.push(e.message):this._rpnBuffer=[]):(n===6||n===38||n===96||n===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],e):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],e):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(e){return e===6||e===38||e===96||e===97||e===98||e===99||e===100||e===101}_dispatchParameterNumberEvent(e,n,r,s){e=e==="nrpn"?"nrpn":"rpn";const i={target:s.target,timestamp:s.timestamp,message:s.message,parameterMsb:n,parameterLsb:r,value:z.from7bitToFloat(s.message.dataBytes[1]),rawValue:s.message.dataBytes[1]};e==="rpn"?i.parameter=Object.keys(P.REGISTERED_PARAMETERS).find(l=>P.REGISTERED_PARAMETERS[l][0]===n&&P.REGISTERED_PARAMETERS[l][1]===r):i.parameter=(n<<7)+r;const o=P.CONTROL_CHANGE_MESSAGES[s.message.dataBytes[0]].name;i.type=`${e}-${o}`,this.emit(i.type,i);const a=Object.assign({},i);a.type==="nrpn-dataincrement"?a.type="nrpn-databuttonincrement":a.type==="nrpn-datadecrement"?a.type="nrpn-databuttondecrement":a.type==="rpn-dataincrement"?a.type="rpn-databuttonincrement":a.type==="rpn-datadecrement"&&(a.type="rpn-databuttondecrement"),this.emit(a.type,a),i.type=e,i.subtype=o,this.emit(i.type,i)}getChannelModeByNumber(e){return j.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),e=Math.floor(e)),z.getChannelModeByNumber(e)}getCcNameByNumber(e){if(j.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),e=parseInt(e),!(e>=0&&e<=127)))throw new RangeError("Invalid control change number.");return z.getCcNameByNumber(e)}getNoteState(e){e instanceof As&&(e=e.identifier);const n=z.guessNoteNumber(e,j.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[n]}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(e){this.validation&&(e=!!e),this.parameterNumberEventsEnabled=e}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class T0{constructor(e){this.rawData=e,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=z.getPropertyByValue(P.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=z.getPropertyByValue(P.SYSTEM_MESSAGES,this.command)),this.statusByte===P.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class qT extends Xt{constructor(e){super(),this._midiInput=e,this._octaveOffset=0,this.channels=[];for(let n=1;n<=16;n++)this.channels[n]=new WT(this,n);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(e=>e.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(e){let n={timestamp:j.time,target:this,port:this};e.port.connection==="open"?(n.type="opened",this.emit("opened",n)):e.port.connection==="closed"&&e.port.state==="connected"?(n.type="closed",this.emit("closed",n)):e.port.connection==="closed"&&e.port.state==="disconnected"?(n.type="disconnected",n.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",n)):e.port.connection==="pending"&&e.port.state==="disconnected"||console.warn("This statechange event was not caught: ",e.port.connection,e.port.state)}_onMidiMessage(e){const n=new T0(e.data),r={port:this,target:this,message:n,timestamp:e.timeStamp,type:"midimessage",data:n.data,rawData:n.data,statusByte:n.data[0],dataBytes:n.dataBytes};this.emit("midimessage",r),n.isSystemMessage?this._parseEvent(r):n.isChannelMessage&&this.channels[n.channel]._processMidiMessageEvent(r),this._forwarders.forEach(s=>s.forward(n))}_parseEvent(e){const n=Object.assign({},e);n.type=n.message.type||"unknownmidimessage",n.type==="songselect"&&(n.song=e.data[1]+1,n.value=e.data[1],n.rawValue=n.value),this.emit(n.type,n)}async open(){try{await this._midiInput.open()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}getChannelModeByNumber(){j.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(e,n,r={}){if(j.validation&&typeof r=="function"){let s=n!=null?[].concat(n):void 0;n=r,r={channels:s}}if(P.CHANNEL_EVENTS.includes(e)){r.channels===void 0&&(r.channels=P.MIDI_CHANNEL_NUMBERS);let s=[];return z.sanitizeChannels(r.channels).forEach(i=>{s.push(this.channels[i].addListener(e,n,r))}),s}else return super.addListener(e,n,r)}addOneTimeListener(e,n,r={}){return r.remaining=1,this.addListener(e,n,r)}on(e,n,r,s){return this.addListener(e,n,r,s)}hasListener(e,n,r={}){if(j.validation&&typeof r=="function"){let s=[].concat(n);n=r,r={channels:s}}return P.CHANNEL_EVENTS.includes(e)?(r.channels===void 0&&(r.channels=P.MIDI_CHANNEL_NUMBERS),z.sanitizeChannels(r.channels).every(s=>this.channels[s].hasListener(e,n))):super.hasListener(e,n)}removeListener(e,n,r={}){if(j.validation&&typeof r=="function"){let s=[].concat(n);n=r,r={channels:s}}if(r.channels===void 0&&(r.channels=P.MIDI_CHANNEL_NUMBERS),e==null)return z.sanitizeChannels(r.channels).forEach(s=>{this.channels[s]&&this.channels[s].removeListener()}),super.removeListener();P.CHANNEL_EVENTS.includes(e)?z.sanitizeChannels(r.channels).forEach(s=>{this.channels[s].removeListener(e,n,r)}):super.removeListener(e,n,r)}addForwarder(e,n={}){let r;return e instanceof pm?r=e:r=new pm(e,n),this._forwarders.push(r),r}removeForwarder(e){this._forwarders=this._forwarders.filter(n=>n!==e)}hasForwarder(e){return this._forwarders.includes(e)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return j.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class GT extends Xt{constructor(){super(),this.defaults={note:{attack:z.from7bitToFloat(64),release:z.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(e={},n=!1){if(z.isNode){try{window.navigator}catch{let a=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)();global.navigator||(global.navigator={}),Object.assign(global.navigator,a)}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=e.validation!==!1,this.validation&&(typeof e=="function"&&(e={callback:e,sysex:n}),n&&(e.sysex=!0)),this.enabled)return typeof e.callback=="function"&&e.callback(),Promise.resolve();const r={timestamp:this.time,target:this,type:"error",error:void 0},s={timestamp:this.time,target:this,type:"midiaccessgranted"},i={timestamp:this.time,target:this,type:"enabled"};try{typeof e.requestMIDIAccessFunction=="function"?this.interface=await e.requestMIDIAccessFunction({sysex:e.sysex,software:e.software}):this.interface=await navigator.requestMIDIAccess({sysex:e.sysex,software:e.software})}catch(o){return r.error=o,this.emit("error",r),typeof e.callback=="function"&&e.callback(o),Promise.reject(o)}this.emit("midiaccessgranted",s),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(o){return r.error=o,this.emit("error",r),typeof e.callback=="function"&&e.callback(o),Promise.reject(o)}return this.emit("enabled",i),typeof e.callback=="function"&&e.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let e={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",e),this.removeListener()})}getInputById(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(n.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(this._disconnectedInputs[r].id===e.toString())return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(this.inputs[r].id===e.toString())return this.inputs[r]}getInputByName(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(n.disconnected){for(let r=0;r<this._disconnectedInputs.length;r++)if(~this._disconnectedInputs[r].name.indexOf(e))return this._disconnectedInputs[r]}else for(let r=0;r<this.inputs.length;r++)if(~this.inputs[r].name.indexOf(e))return this.inputs[r]}getOutputByName(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(n.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(~this._disconnectedOutputs[r].name.indexOf(e))return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(~this.outputs[r].name.indexOf(e))return this.outputs[r]}getOutputById(e,n={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(n.disconnected){for(let r=0;r<this._disconnectedOutputs.length;r++)if(this._disconnectedOutputs[r].id===e.toString())return this._disconnectedOutputs[r]}else for(let r=0;r<this.outputs.length;r++)if(this.outputs[r].id===e.toString())return this.outputs[r]}noteNameToNumber(e){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),z.toNoteNumber(e,this.octaveOffset)}getOctave(e){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),e=parseInt(e)),!isNaN(e)&&e>=0&&e<=127?z.getNoteDetails(z.offsetNumber(e,this.octaveOffset)).octave:!1}sanitizeChannels(e){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),z.sanitizeChannels(e)}toMIDIChannels(e){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),z.sanitizeChannels(e)}guessNoteNumber(e){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),z.guessNoteNumber(e,this.octaveOffset)}getValidNoteArray(e,n={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),z.buildNoteArray(e,n)}convertToTimestamp(e){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),z.toTimestamp(e)}async _destroyInputsAndOutputs(){let e=[];return this.inputs.forEach(n=>e.push(n.destroy())),this.outputs.forEach(n=>e.push(n.destroy())),Promise.all(e).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(e){this._updateInputsAndOutputs();let n={timestamp:e.timeStamp,type:e.port.state,target:this};if(e.port.state==="connected"&&e.port.connection==="open"){e.port.type==="output"?n.port=this.getOutputById(e.port.id):e.port.type==="input"&&(n.port=this.getInputById(e.port.id)),this.emit(e.port.state,n);const r=Object.assign({},n);r.type="portschanged",this.emit(r.type,r)}else if(e.port.state==="disconnected"&&e.port.connection==="pending"){e.port.type==="input"?n.port=this.getInputById(e.port.id,{disconnected:!0}):e.port.type==="output"&&(n.port=this.getOutputById(e.port.id,{disconnected:!0})),this.emit(e.port.state,n);const r=Object.assign({},n);r.type="portschanged",this.emit(r.type,r)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let n=this._inputs.length-1;n>=0;n--){const r=this._inputs[n];Array.from(this.interface.inputs.values()).find(i=>i===r._midiInput)||(this._disconnectedInputs.push(r),this._inputs.splice(n,1))}let e=[];return this.interface.inputs.forEach(n=>{if(!this._inputs.find(r=>r._midiInput===n)){let r=this._disconnectedInputs.find(s=>s._midiInput===n);r||(r=new qT(n)),this._inputs.push(r),e.push(r.open())}}),Promise.all(e)}async _updateOutputs(){if(!this.interface)return;for(let n=this._outputs.length-1;n>=0;n--){const r=this._outputs[n];Array.from(this.interface.outputs.values()).find(i=>i===r._midiOutput)||(this._disconnectedOutputs.push(r),this._outputs.splice(n,1))}let e=[];return this.interface.outputs.forEach(n=>{if(!this._outputs.find(r=>r._midiOutput===n)){let r=this._disconnectedOutputs.find(s=>s._midiOutput===n);r||(r=new wd(n)),this._outputs.push(r),e.push(r.open())}}),Promise.all(e)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),z.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),z.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.8"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),P.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),P.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),P.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),P.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),P.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const j=new GT;j.constructor=null;const HT=t=>{const[e,n]=y.useState(null),[r,s]=y.useState(!1),[i,o]=y.useState(null);return y.useEffect(()=>((async()=>{try{await j.enable(),s(!0);let l;t&&(l=j.getOutputByName(t)),!l&&j.outputs.length>0&&(l=j.outputs[0]),n(l||null)}catch(l){console.error("WebMidi could not be enabled:",l),o(l)}})(),()=>{j.enabled&&j.disable()}),[t]),{midiOutput:e,isWebMidiEnabled:r,error:i}},N0="14.7.77",mm=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),gm=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),bd=(t,e)=>({startTime:e,type:"setValue",value:t}),A0=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),k0=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),ks=t=>t.type==="exponentialRampToValue",bl=t=>t.type==="linearRampToValue",rr=t=>ks(t)||bl(t),Zf=t=>t.type==="setValue",Tn=t=>t.type==="setValueCurve",El=(t,e,n,r)=>{const s=t[e];return s===void 0?r:rr(s)||Zf(s)?s.value:Tn(s)?s.values[s.values.length-1]:k0(n,El(t,e-1,s.startTime,r),s)},vm=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:rr(n)?[n.endTime,n.value]:Zf(n)?[n.startTime,n.value]:Tn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,El(t,e-1,n.startTime,s)],Ed=t=>t.type==="cancelAndHold",Sd=t=>t.type==="cancelScheduledValues",Jn=t=>Ed(t)||Sd(t)?t.cancelTime:ks(t)||bl(t)?t.endTime:t.startTime,ym=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,_m=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),QT=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},KT=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return QT(r,s)},ya=t=>t.type==="setTarget";class YT{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Jn(e);if(Ed(e)||Sd(e)){const r=this._automationEvents.findIndex(i=>Sd(e)&&Tn(i)?i.startTime+i.duration>=n:Jn(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Ed(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&rr(s)){if(i!==void 0&&ya(i))throw new Error("The internal list is malformed.");const o=i===void 0?s.insertTime:Tn(i)?i.startTime+i.duration:Jn(i),a=i===void 0?this._defaultValue:Tn(i)?i.values[i.values.length-1]:i.value,l=ks(s)?ym(n,o,a,s):_m(n,o,a,s),c=ks(s)?mm(l,n,this._currenTime):gm(l,n,this._currenTime);this._automationEvents.push(c)}if(i!==void 0&&ya(i)&&this._automationEvents.push(bd(this.getValue(n),n)),i!==void 0&&Tn(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),c=o/(l-1)*a,u=i.values.slice(0,l);if(c<1)for(let d=1;d<l;d+=1){const f=c*d%1;u[d]=i.values[d-1]*(1-f)+i.values[d]*f}this._automationEvents[this._automationEvents.length-1]=A0(u,i.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>Jn(o)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&Tn(s)&&Jn(s)+s.duration>n)return!1;const i=ks(e)?mm(e.value,e.endTime,this._currenTime):bl(e)?gm(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(Tn(e)&&n+e.duration>Jn(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Jn(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];ya(s)&&r.unshift(bd(El(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>Jn(o)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&ya(i)&&(r===void 0||!rr(r)||r.insertTime>e))return k0(e,El(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Zf(i)&&(r===void 0||!rr(r)))return i.value;if(i!==void 0&&Tn(i)&&(r===void 0||!rr(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?KT(e,i):i.values[i.values.length-1];if(i!==void 0&&rr(i)&&(r===void 0||!rr(r)))return i.value;if(r!==void 0&&ks(r)){const[o,a]=vm(this._automationEvents,s,i,r,this._defaultValue);return ym(e,o,a,r)}if(r!==void 0&&bl(r)){const[o,a]=vm(this._automationEvents,s,i,r,this._defaultValue);return _m(e,o,a,r)}return this._defaultValue}}const XT=t=>({cancelTime:t,type:"cancelAndHold"}),ZT=t=>({cancelTime:t,type:"cancelScheduledValues"}),JT=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),eN=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),tN=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),nN=()=>new DOMException("","AbortError"),rN=t=>(e,n,[r,s,i],o)=>{t(e[s],[n,r,i],a=>a[0]===n&&a[1]===r,o)},sN=t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},iN=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Ks=new WeakSet,M0=new WeakMap,Jf=new WeakMap,R0=new WeakMap,eh=new WeakMap,hc=new WeakMap,O0=new WeakMap,Cd=new WeakMap,xd=new WeakMap,Td=new WeakMap,I0={construct(){return I0}},oN=t=>{try{const e=new Proxy(t,I0);new e}catch{return!1}return!0},wm=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,bm=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(wm);for(;s!==null;){const i=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(wm)}return[n.join(";"),r]},Em=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Sm=t=>{if(!oN(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},aN=(t,e,n,r,s,i,o,a,l,c,u,d,f)=>{let h=0;return(p,m,_={credentials:"omit"})=>{const g=u.get(p);if(g!==void 0&&g.has(m))return Promise.resolve();const v=c.get(p);if(v!==void 0){const b=v.get(m);if(b!==void 0)return b}const w=i(p),E=w.audioWorklet===void 0?s(m).then(([b,S])=>{const[x,C]=bm(b,S),A=`${x};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${C}
})})(window,'_AWGS')`;return n(A)}).then(()=>{const b=f._AWGS.pop();if(b===void 0)throw new SyntaxError;r(w.currentTime,w.sampleRate,()=>b(class{},void 0,(S,x)=>{if(S.trim()==="")throw e();const C=xd.get(w);if(C!==void 0){if(C.has(S))throw e();Sm(x),Em(x.parameterDescriptors),C.set(S,x)}else Sm(x),Em(x.parameterDescriptors),xd.set(w,new Map([[S,x]]))},w.sampleRate,void 0,void 0))}):Promise.all([s(m),Promise.resolve(t(d,d))]).then(([[b,S],x])=>{const C=h+1;h=C;const[A,N]=bm(b,S),k=`${A};((AudioWorkletProcessor,registerProcessor)=>{${N}
})(${x?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${x?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${x?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${C}',class extends AudioWorkletProcessor{process(){return !1}})`,L=new Blob([k],{type:"application/javascript; charset=utf-8"}),I=URL.createObjectURL(L);return w.audioWorklet.addModule(I,_).then(()=>{if(a(w))return w;const V=o(w);return V.audioWorklet.addModule(I,_).then(()=>V)}).then(V=>{if(l===null)throw new SyntaxError;try{new l(V,`__sac${C}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(I))});return v===void 0?c.set(p,new Map([[m,E]])):v.set(m,E),E.then(()=>{const b=u.get(p);b===void 0?u.set(p,new Set([m])):b.add(m)}).finally(()=>{const b=c.get(p);b!==void 0&&b.delete(m)}),E}},on=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},pc=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},P0=(t,e,n,r)=>{const s=on(t,e),i=pc(s,o=>o[0]===n&&o[1]===r);return s.size===0&&t.delete(e),i},Do=t=>on(O0,t),Ys=t=>{if(Ks.has(t))throw new Error("The AudioNode is already stored.");Ks.add(t),Do(t).forEach(e=>e(!0))},D0=t=>"port"in t,$o=t=>{if(!Ks.has(t))throw new Error("The AudioNode is not stored.");Ks.delete(t),Do(t).forEach(e=>e(!1))},Nd=(t,e)=>{!D0(t)&&e.every(n=>n.size===0)&&$o(t)},lN=(t,e,n,r,s,i,o,a,l,c,u,d,f)=>{const h=new WeakMap;return(p,m,_,g,v)=>{const{activeInputs:w,passiveInputs:E}=i(m),{outputs:b}=i(p),S=a(p),x=C=>{const A=l(m),N=l(p);if(C){const R=P0(E,p,_,g);t(w,p,R,!1),!v&&!d(p)&&n(N,A,_,g),f(m)&&Ys(m)}else{const R=r(w,p,_,g);e(E,g,R,!1),!v&&!d(p)&&s(N,A,_,g);const T=o(m);if(T===0)u(m)&&Nd(m,w);else{const F=h.get(m);F!==void 0&&clearTimeout(F),h.set(m,setTimeout(()=>{u(m)&&Nd(m,w)},T*1e3))}}};return c(b,[m,_,g],C=>C[0]===m&&C[1]===_&&C[2]===g,!0)?(S.add(x),u(p)?t(w,p,[_,g,x],!0):e(E,g,[p,_,x],!0),!0):!1}},cN=t=>(e,n,[r,s,i],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[s,n,i]])):t(a,[s,n,i],l=>l[0]===s&&l[1]===n,o)},uN=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},dN=t=>(e,n)=>{t(e).add(n)},fN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},hN=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),u={...fN,...l},d=r(c,u),f=i(c)?e():null;super(a,!1,d,f),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},lt=(t,e)=>t.context===e,pN=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!lt(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},Sl=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},wn=()=>new DOMException("","IndexSizeError"),th=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?wn():r}})(t.getChannelData)},mN={numberOfChannels:1},gN=(t,e,n,r,s,i,o,a)=>{let l=null;return class $0{constructor(u){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:f,sampleRate:h}={...mN,...u};l===null&&(l=new s(1,1,44100));const p=r!==null&&e(i,i)?new r({length:d,numberOfChannels:f,sampleRate:h}):l.createBuffer(f,d,h);if(p.numberOfChannels===0)throw n();return typeof p.copyFromChannel!="function"?(o(p),th(p)):e(Sl,()=>Sl(p))||a(p),t.add(p),p}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===$0.prototype||t.has(u)}}},yt=-34028234663852886e22,ut=-yt,In=t=>Ks.has(t),vN={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},yN=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),f={...vN,...u},h=s(d,f),p=o(d),m=p?e():null;super(c,!1,h,m),this._audioBufferSourceNodeRenderer=m,this._isBufferNullified=!1,this._isBufferSet=f.buffer!==null,this._nativeAudioBufferSourceNode=h,this._onended=null,this._playbackRate=n(this,p,h.playbackRate,ut,yt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const u=typeof c=="function"?a(this,c):null;this._nativeAudioBufferSourceNode.onended=u;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===u?c:d}get playbackRate(){return this._playbackRate}start(c=0,u=0,d){if(this._nativeAudioBufferSourceNode.start(c,u,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[c,u]:[c,u,d]),this.context.state!=="closed"){Ys(this);const f=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",f),In(this)&&$o(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",f)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},_N=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,u)=>{let d=n(c);const f=lt(d,u);if(!f){const h={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(u,h),o!==null&&d.start(...o),a!==null&&d.stop(a)}return i.set(u,d),f?await t(u,c.playbackRate,d.playbackRate):await r(u,c.playbackRate,d.playbackRate),await s(c,u,d),d};return{set start(c){o=c},set stop(c){a=c},render(c,u){const d=i.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},wN=t=>"playbackRate"in t,bN=t=>"frequency"in t&&"gain"in t,EN=t=>"offset"in t,SN=t=>!("frequency"in t)&&"gain"in t,CN=t=>"detune"in t&&"frequency"in t,xN=t=>"pan"in t,dt=t=>on(M0,t),Fo=t=>on(R0,t),Ad=(t,e)=>{const{activeInputs:n}=dt(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||Ad(i,[...e,t])}));const r=wN(t)?[t.playbackRate]:D0(t)?Array.from(t.parameters.values()):bN(t)?[t.Q,t.detune,t.frequency,t.gain]:EN(t)?[t.offset]:SN(t)?[t.gain]:CN(t)?[t.detune,t.frequency]:xN(t)?[t.pan]:[];for(const s of r){const i=Fo(s);i!==void 0&&i.activeInputs.forEach(([o])=>Ad(o,e))}In(t)&&$o(t)},F0=t=>{Ad(t.destination,[])},TN=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),NN=(t,e,n,r,s,i,o,a,l)=>class extends t{constructor(u={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new l(u)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?n():p}if(d===null)throw r();if(!TN(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&d.sampleRate!==u.sampleRate)throw n();super(d,2);const{latencyHint:f}=u,{sampleRate:h}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:f==="balanced"?512/h:f==="interactive"||f===void 0?256/h:f==="playback"?1024/h:Math.max(2,Math.min(128,Math.round(f*h/128)))*128/h,this._nativeAudioContext=d,l.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const p=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",p)};d.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),F0(this)}))}createMediaElementSource(u){return new s(this,{mediaElement:u})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(u){return new o(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return this._state==="suspended"?new Promise((u,d)=>{const f=()=>{this._nativeAudioContext.removeEventListener("statechange",f),this._nativeAudioContext.state==="running"?u():this.resume().then(u,d)};this._nativeAudioContext.addEventListener("statechange",f)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}},AN=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),f=o(d),h=s(d,u,f),p=f?e(a):null;super(c,!1,h,p),this._isNodeOfNativeOfflineAudioContext=f,this._nativeAudioDestinationNode=h}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},kN=t=>{const e=new WeakMap,n=async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i};return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},MN=(t,e,n,r,s,i,o,a)=>(l,c)=>{const u=c.listener,d=()=>{const b=new Float32Array(1),S=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),x=o(c);let C=!1,A=[0,0,-1,0,1,0],N=[0,0,0];const R=()=>{if(C)return;C=!0;const L=r(c,256,9,0);L.onaudioprocess=({inputBuffer:I})=>{const V=[i(I,b,0),i(I,b,1),i(I,b,2),i(I,b,3),i(I,b,4),i(I,b,5)];V.some((M,$)=>M!==A[$])&&(u.setOrientation(...V),A=V);const O=[i(I,b,6),i(I,b,7),i(I,b,8)];O.some((M,$)=>M!==N[$])&&(u.setPosition(...O),N=O)},S.connect(L)},T=L=>I=>{I!==A[L]&&(A[L]=I,u.setOrientation(...A))},F=L=>I=>{I!==N[L]&&(N[L]=I,u.setPosition(...N))},k=(L,I,V)=>{const O=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:I});O.connect(S,0,L),O.start(),Object.defineProperty(O.offset,"defaultValue",{get(){return I}});const M=t({context:l},x,O.offset,ut,yt);return a(M,"value",$=>()=>$.call(M),$=>U=>{try{$.call(M,U)}catch(H){if(H.code!==9)throw H}R(),x&&V(U)}),M.cancelAndHoldAtTime=($=>x?()=>{throw s()}:(...U)=>{const H=$.apply(M,U);return R(),H})(M.cancelAndHoldAtTime),M.cancelScheduledValues=($=>x?()=>{throw s()}:(...U)=>{const H=$.apply(M,U);return R(),H})(M.cancelScheduledValues),M.exponentialRampToValueAtTime=($=>x?()=>{throw s()}:(...U)=>{const H=$.apply(M,U);return R(),H})(M.exponentialRampToValueAtTime),M.linearRampToValueAtTime=($=>x?()=>{throw s()}:(...U)=>{const H=$.apply(M,U);return R(),H})(M.linearRampToValueAtTime),M.setTargetAtTime=($=>x?()=>{throw s()}:(...U)=>{const H=$.apply(M,U);return R(),H})(M.setTargetAtTime),M.setValueAtTime=($=>x?()=>{throw s()}:(...U)=>{const H=$.apply(M,U);return R(),H})(M.setValueAtTime),M.setValueCurveAtTime=($=>x?()=>{throw s()}:(...U)=>{const H=$.apply(M,U);return R(),H})(M.setValueCurveAtTime),M};return{forwardX:k(0,0,T(0)),forwardY:k(1,0,T(1)),forwardZ:k(2,-1,T(2)),positionX:k(6,0,F(0)),positionY:k(7,0,F(1)),positionZ:k(8,0,F(2)),upX:k(3,0,T(3)),upY:k(4,1,T(4)),upZ:k(5,0,T(5))}},{forwardX:f,forwardY:h,forwardZ:p,positionX:m,positionY:_,positionZ:g,upX:v,upY:w,upZ:E}=u.forwardX===void 0?d():u;return{get forwardX(){return f},get forwardY(){return h},get forwardZ(){return p},get positionX(){return m},get positionY(){return _},get positionZ(){return g},get upX(){return v},get upY(){return w},get upZ(){return E}}},Cl=t=>"context"in t,Lo=t=>Cl(t[0]),ls=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Cm=(t,e,[n,r],s)=>{ls(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},xm=(t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):ls(i,[n,r],o=>o[0]===n,s)},ci=t=>"inputs"in t,xl=(t,e,n,r)=>{if(ci(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},L0=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},RN=(t,e,n)=>pc(t,r=>r[0]===e&&r[1]===n),V0=(t,e)=>{if(!Do(t).delete(e))throw new Error("Missing the expected event listener.")},U0=(t,e,n)=>{const r=on(t,e),s=pc(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},Tl=(t,e,n,r)=>{ci(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},be=t=>on(Jf,t),fo=t=>on(eh,t),Xr=t=>Cd.has(t),Va=t=>!Ks.has(t),Tm=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(s),a.disconnect(s),r.onaudioprocess=l=>{const c=l.inputBuffer.getChannelData(0);Array.prototype.some.call(c,u=>u===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),fu=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},Nl=t=>"context"in t,ON=t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const o=Nl(r)?n(r,s,i):n(r,s),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:s}]):a.every(l=>l.input!==i||l.output!==s)&&a.push({input:i,output:s}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(c=>c.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(s===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==s&&(l.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{Nl(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},IN=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=Fo(e),{outputs:o}=dt(t),a=Do(t),l=c=>{const u=be(t),d=fo(e);if(c){const f=U0(i,t,n);Cm(s,t,f,!1),!r&&!Xr(t)&&u.connect(d,n)}else{const f=RN(s,t,n);xm(i,f,!1),!r&&!Xr(t)&&u.disconnect(d,n)}};return ls(o,[e,n],c=>c[0]===e&&c[1]===n,!0)?(a.add(l),In(t)?Cm(s,t,[n,l],!0):xm(i,[t,n,l],!0),!0):!1},PN=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=dt(e),o=L0(s[r],t,n);return o===null?[P0(i,t,n,r)[2],!1]:[o[2],!0]},DN=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=Fo(e),i=L0(r,t,n);return i===null?[U0(s,t,n)[1],!1]:[i[2],!0]},nh=(t,e,n,r,s)=>{const[i,o]=PN(t,n,r,s);if(i!==null&&(V0(t,i),o&&!e&&!Xr(t)&&Tl(be(t),be(n),r,s)),In(n)){const{activeInputs:a}=dt(n);Nd(n,a)}},rh=(t,e,n,r)=>{const[s,i]=DN(t,n,r);s!==null&&(V0(t,s),i&&!e&&!Xr(t)&&be(t).disconnect(fo(n),r))},$N=(t,e)=>{const n=dt(t),r=[];for(const s of n.outputs)Lo(s)?nh(t,e,...s):rh(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},FN=(t,e,n)=>{const r=dt(t),s=[];for(const i of r.outputs)i[1]===n&&(Lo(i)?nh(t,e,...i):rh(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},LN=(t,e,n,r,s)=>{const i=dt(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(s===void 0||o[2]===s)).map(o=>(Lo(o)?nh(t,e,...o):rh(t,e,...o),i.outputs.delete(o),o[0]))},VN=(t,e,n,r,s,i,o,a,l,c,u,d,f,h,p,m)=>class extends c{constructor(g,v,w,E){super(w),this._context=g,this._nativeAudioNode=w;const b=u(g);d(b)&&n(Tm,()=>Tm(b,m))!==!0&&ON(w),Jf.set(this,w),O0.set(this,new Set),g.state!=="closed"&&v&&Ys(this),t(this,E,w)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(g){this._nativeAudioNode.channelCount=g}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(g){this._nativeAudioNode.channelCountMode=g}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(g){this._nativeAudioNode.channelInterpretation=g}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(g,v=0,w=0){if(v<0||v>=this._nativeAudioNode.numberOfOutputs)throw s();const E=u(this._context),b=p(E);if(f(g)||h(g))throw i();if(Cl(g)){const C=be(g);try{const N=xl(this._nativeAudioNode,C,v,w),R=Va(this);(b||R)&&this._nativeAudioNode.disconnect(...N),this.context.state!=="closed"&&!R&&Va(g)&&Ys(g)}catch(N){throw N.code===12?i():N}if(e(this,g,v,w,b)){const N=l([this],g);fu(N,r(b))}return g}const S=fo(g);if(S.name==="playbackRate"&&S.maxValue===1024)throw o();try{this._nativeAudioNode.connect(S,v),(b||Va(this))&&this._nativeAudioNode.disconnect(S,v)}catch(C){throw C.code===12?i():C}if(IN(this,g,v,b)){const C=l([this],g);fu(C,r(b))}}disconnect(g,v,w){let E;const b=u(this._context),S=p(b);if(g===void 0)E=$N(this,S);else if(typeof g=="number"){if(g<0||g>=this.numberOfOutputs)throw s();E=FN(this,S,g)}else{if(v!==void 0&&(v<0||v>=this.numberOfOutputs)||Cl(g)&&w!==void 0&&(w<0||w>=g.numberOfInputs))throw s();if(E=LN(this,S,g,v,w),E.length===0)throw i()}for(const x of E){const C=l([this],x);fu(C,a)}}},UN=(t,e,n,r,s,i,o,a,l,c,u,d,f)=>(h,p,m,_=null,g=null)=>{const v=m.value,w=new YT(v),E=p?r(w):null,b={get defaultValue(){return v},get maxValue(){return _===null?m.maxValue:_},get minValue(){return g===null?m.minValue:g},get value(){return m.value},set value(S){m.value=S,b.setValueAtTime(S,h.context.currentTime)},cancelAndHoldAtTime(S){if(typeof m.cancelAndHoldAtTime=="function")E===null&&w.flush(h.context.currentTime),w.add(s(S)),m.cancelAndHoldAtTime(S);else{const x=Array.from(w).pop();E===null&&w.flush(h.context.currentTime),w.add(s(S));const C=Array.from(w).pop();m.cancelScheduledValues(S),x!==C&&C!==void 0&&(C.type==="exponentialRampToValue"?m.exponentialRampToValueAtTime(C.value,C.endTime):C.type==="linearRampToValue"?m.linearRampToValueAtTime(C.value,C.endTime):C.type==="setValue"?m.setValueAtTime(C.value,C.startTime):C.type==="setValueCurve"&&m.setValueCurveAtTime(C.values,C.startTime,C.duration))}return b},cancelScheduledValues(S){return E===null&&w.flush(h.context.currentTime),w.add(i(S)),m.cancelScheduledValues(S),b},exponentialRampToValueAtTime(S,x){if(S===0)throw new RangeError;if(!Number.isFinite(x)||x<0)throw new RangeError;const C=h.context.currentTime;return E===null&&w.flush(C),Array.from(w).length===0&&(w.add(c(v,C)),m.setValueAtTime(v,C)),w.add(o(S,x)),m.exponentialRampToValueAtTime(S,x),b},linearRampToValueAtTime(S,x){const C=h.context.currentTime;return E===null&&w.flush(C),Array.from(w).length===0&&(w.add(c(v,C)),m.setValueAtTime(v,C)),w.add(a(S,x)),m.linearRampToValueAtTime(S,x),b},setTargetAtTime(S,x,C){return E===null&&w.flush(h.context.currentTime),w.add(l(S,x,C)),m.setTargetAtTime(S,x,C),b},setValueAtTime(S,x){return E===null&&w.flush(h.context.currentTime),w.add(c(S,x)),m.setValueAtTime(S,x),b},setValueCurveAtTime(S,x,C){const A=S instanceof Float32Array?S:new Float32Array(S);if(d!==null&&d.name==="webkitAudioContext"){const N=x+C,R=h.context.sampleRate,T=Math.ceil(x*R),F=Math.floor(N*R),k=F-T,L=new Float32Array(k);for(let V=0;V<k;V+=1){const O=(A.length-1)/C*((T+V)/R-x),M=Math.floor(O),$=Math.ceil(O);L[V]=M===$?A[M]:(1-(O-M))*A[M]+(1-($-O))*A[$]}E===null&&w.flush(h.context.currentTime),w.add(u(L,x,C)),m.setValueCurveAtTime(L,x,C);const I=F/R;I<N&&f(b,L[L.length-1],I),f(b,A[A.length-1],N)}else E===null&&w.flush(h.context.currentTime),w.add(u(A,x,C)),m.setValueCurveAtTime(A,x,C);return b}};return n.set(b,m),e.set(b,h),t(b,E),b},BN=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}});class B0{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const jN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},zN=(t,e,n,r,s,i,o,a,l,c,u,d,f,h)=>class extends e{constructor(m,_,g){var v;const w=a(m),E=l(w),b=u({...jN,...g});f(b);const S=xd.get(w),x=S==null?void 0:S.get(_),C=E||w.state!=="closed"?w:(v=o(w))!==null&&v!==void 0?v:w,A=s(C,E?null:m.baseLatency,c,_,x,b),N=E?r(_,b,x):null;super(m,!0,A,N);const R=[];A.parameters.forEach((F,k)=>{const L=n(this,E,F);R.push([k,L])}),this._nativeAudioWorkletNode=A,this._onprocessorerror=null,this._parameters=new B0(R),E&&t(w,this);const{activeInputs:T}=i(this);d(A,T)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(m){const _=typeof m=="function"?h(this,m):null;this._nativeAudioWorkletNode.onprocessorerror=_;const g=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=g!==null&&g===_?m:g}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Al(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const o=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const j0=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},kl=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let o=0;o<i;o+=1)s.push(new Float32Array(128));n.push(s)}return n},WN=(t,e)=>{const n=on(Td,t),r=be(e);return on(n,r)},qN=async(t,e,n,r,s,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,c=s.reduce((_,g)=>_+g,0),u=c===0?null:n.createBuffer(c,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const d=dt(t),f=await WN(n,t),h=kl(r.numberOfInputs,r.channelCount),p=kl(r.numberOfOutputs,s),m=Array.from(t.parameters.keys()).reduce((_,g)=>({..._,[g]:new Float32Array(128)}),{});for(let _=0;_<a;_+=128){if(r.numberOfInputs>0&&e!==null)for(let g=0;g<r.numberOfInputs;g+=1)for(let v=0;v<r.channelCount;v+=1)Al(e,h[g],v,v,_);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:g},v)=>{Al(e,m,g,l+v,_)});for(let g=0;g<r.numberOfInputs;g+=1)for(let v=0;v<s[g];v+=1)p[g][v].byteLength===0&&(p[g][v]=new Float32Array(128));try{const g=h.map((w,E)=>d.activeInputs[E].size===0?[]:w),v=o(_/n.sampleRate,n.sampleRate,()=>f.process(g,p,m));if(u!==null)for(let w=0,E=0;w<r.numberOfOutputs;w+=1){for(let b=0;b<s[w];b+=1)j0(u,p[w],b,E+b,_);E+=s[w]}if(!v)break}catch(g){t.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return u},GN=(t,e,n,r,s,i,o,a,l,c,u,d,f,h,p,m)=>(_,g,v)=>{const w=new WeakMap;let E=null;const b=async(S,x)=>{let C=u(S),A=null;const N=lt(C,x),R=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(d===null){const T=R.reduce((I,V)=>I+V,0),F=s(x,{channelCount:Math.max(1,T),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,T)}),k=[];for(let I=0;I<S.numberOfOutputs;I+=1)k.push(r(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:R[I]}));const L=o(x,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});L.connect=e.bind(null,k),L.disconnect=l.bind(null,k),A=[F,k,L]}else N||(C=new d(x,_));if(w.set(x,A===null?C:A[2]),A!==null){if(E===null){if(v===void 0)throw new Error("Missing the processor constructor.");if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const V=S.channelCount*S.numberOfInputs,O=v.parameterDescriptors===void 0?0:v.parameterDescriptors.length,M=V+O;E=qN(S,M===0?null:await(async()=>{const U=new f(M,Math.ceil(S.context.length/128)*128,x.sampleRate),H=[],ae=[];for(let Z=0;Z<g.numberOfInputs;Z+=1)H.push(o(U,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),ae.push(s(U,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const le=await Promise.all(Array.from(S.parameters.values()).map(async Z=>{const ce=i(U,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Z.value});return await h(U,Z,ce.offset),ce})),X=r(U,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,V+O)});for(let Z=0;Z<g.numberOfInputs;Z+=1){H[Z].connect(ae[Z]);for(let ce=0;ce<g.channelCount;ce+=1)ae[Z].connect(X,ce,Z*g.channelCount+ce)}for(const[Z,ce]of le.entries())ce.connect(X,0,V+Z),ce.start(0);return X.connect(U.destination),await Promise.all(H.map(Z=>p(S,U,Z))),m(U)})(),x,g,R,v,c)}const T=await E,F=n(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[k,L,I]=A;T!==null&&(F.buffer=T,F.start(0)),F.connect(k);for(let V=0,O=0;V<S.numberOfOutputs;V+=1){const M=L[V];for(let $=0;$<R[V];$+=1)k.connect(M,O+$,$);O+=R[V]}return I}if(N)for(const[T,F]of S.parameters.entries())await t(x,F,C.parameters.get(T));else for(const[T,F]of S.parameters.entries())await h(x,F,C.parameters.get(T));return await p(S,x,C),C};return{render(S,x){a(x,S);const C=w.get(x);return C!==void 0?Promise.resolve(C):b(S,x)}}},HN=(t,e,n,r,s,i,o,a,l,c,u,d,f,h,p,m,_,g,v,w)=>class extends p{constructor(b,S){super(b,S),this._nativeContext=b,this._audioWorklet=t===void 0?void 0:{addModule:(x,C)=>t(this,x,C)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(b,S,x){return new n({length:S,numberOfChannels:b,sampleRate:x})}createBufferSource(){return new r(this)}createChannelMerger(b=6){return new i(this,{numberOfInputs:b})}createChannelSplitter(b=6){return new o(this,{numberOfOutputs:b})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(b=1){return new u(this,{maxDelayTime:b})}createDynamicsCompressor(){return new d(this)}createGain(){return new f(this)}createIIRFilter(b,S){return new h(this,{feedback:S,feedforward:b})}createOscillator(){return new m(this)}createPanner(){return new _(this)}createPeriodicWave(b,S,x={disableNormalization:!1}){return new g(this,{...x,imag:S,real:b})}createStereoPanner(){return new v(this)}createWaveShaper(){return new w(this)}decodeAudioData(b,S,x){return c(this._nativeContext,b).then(C=>(typeof S=="function"&&S(C),C),C=>{throw typeof x=="function"&&x(C),C})}},QN={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},KN=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),f={...QN,...u},h=s(d,f),p=o(d),m=p?n():null;super(c,!1,h,m),this._Q=e(this,p,h.Q,ut,yt),this._detune=e(this,p,h.detune,1200*Math.log2(ut),-1200*Math.log2(ut)),this._frequency=e(this,p,h.frequency,c.sampleRate/2,0),this._gain=e(this,p,h.gain,40*Math.log10(ut),yt),this._nativeBiquadFilterNode=h,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,u,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,u,d)}catch(f){throw f.code===11?r():f}if(c.length!==u.length||u.length!==d.length)throw r()}},YN=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=lt(c,l);if(!u){const d={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(l,d)}return i.set(l,c),u?(await t(l,a.Q,c.Q),await t(l,a.detune,c.detune),await t(l,a.frequency,c.frequency),await t(l,a.gain,c.gain)):(await r(l,a.Q,c.Q),await r(l,a.detune,c.detune),await r(l,a.frequency,c.frequency),await r(l,a.gain,c.gain)),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},XN=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},ZN={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},JN=(t,e,n,r,s)=>class extends t{constructor(o,a){const l=r(o),c={...ZN,...a},u=n(l,c),d=s(l)?e():null;super(o,!1,u,d)}},eA=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!lt(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},tA={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},nA=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),u=i({...tA,...l}),d=n(c,u),f=s(c)?e():null;super(a,!1,d,f)}},rA=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!lt(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,c)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},sA=t=>(e,n,r)=>t(n,e,r),iA=t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return Nl(n)?i.connect(n,0,s):i.connect(n,0)},oA=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},aA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},lA=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...aA,...c},f=r(u,d),h=i(u),p=h?n():null;super(l,!1,f,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=f,this._offset=e(this,h,f.offset,ut,yt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=c;const u=this._nativeConstantSourceNode.onended;this._onended=u!==null&&u===c?l:u}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){Ys(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),In(this)&&$o(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},cA=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(c,u)=>{let d=n(c);const f=lt(d,u);if(!f){const h={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(u,h),o!==null&&d.start(o),a!==null&&d.stop(a)}return i.set(u,d),f?await t(u,c.offset,d.offset):await r(u,c.offset,d.offset),await s(c,u,d),d};return{set start(c){o=c},set stop(c){a=c},render(c,u){const d=i.get(u);return d!==void 0?Promise.resolve(d):l(c,u)}}},uA=t=>e=>(t[0]=e,t[0]),dA={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},fA=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),u={...dA,...l},d=n(c,u),h=s(c)?e():null;super(a,!1,d,h),this._isBufferNullified=!1,this._nativeConvolverNode=d,u.buffer!==null&&i(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},hA=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!lt(a,o)){const c={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,c)}return r.set(o,a),ci(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},pA=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw i.name==="SyntaxError"?t():i}},mA=()=>new DOMException("","DataCloneError"),Nm=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},gA=(t,e,n,r,s,i,o,a,l,c,u)=>(d,f)=>{const h=o(d)?d:i(d);if(s.has(f)){const p=n();return Promise.reject(p)}try{s.add(f)}catch{}return e(l,()=>l(h))?h.decodeAudioData(f).then(p=>(Nm(f).catch(()=>{}),e(a,()=>a(p))||u(p),t.add(p),p)):new Promise((p,m)=>{const _=async()=>{try{await Nm(f)}catch{}},g=v=>{m(v),_()};try{h.decodeAudioData(f,v=>{typeof v.copyFromChannel!="function"&&(c(v),th(v)),t.add(v),_().then(()=>p(v))},v=>{g(v===null?r():v)})}catch(v){g(v)}})},vA=(t,e,n,r,s,i,o,a)=>(l,c)=>{const u=e.get(l);if(u===void 0)throw new Error("Missing the expected cycle count.");const d=i(l.context),f=a(d);if(u===c){if(e.delete(l),!f&&o(l)){const h=r(l),{outputs:p}=n(l);for(const m of p)if(Lo(m)){const _=r(m[0]);t(h,_,m[1],m[2])}else{const _=s(m[0]);h.connect(_,m[1])}}}else e.set(l,u-c)},yA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},_A=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...yA,...c},f=r(u,d),h=i(u),p=h?n(d.maxDelayTime):null;super(l,!1,f,p),this._delayTime=e(this,h,f.delayTime),o(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},wA=(t,e,n,r,s)=>i=>{const o=new WeakMap,a=async(l,c)=>{let u=n(l);const d=lt(u,c);if(!d){const f={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i};u=e(c,f)}return o.set(c,u),d?await t(c,l.delayTime,u.delayTime):await r(c,l.delayTime,u.delayTime),await s(l,c,u),u};return{render(l,c){const u=o.get(c);return u!==void 0?Promise.resolve(u):a(l,c)}}},bA=t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),EA=t=>(e,n)=>{t(e).delete(n)},SA=t=>"delayTime"in t,CA=(t,e,n)=>function r(s,i){const o=Cl(i)?i:n(t,i);if(SA(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...s,o],l[0])).reduce((l,c)=>l.concat(c),[])},_a=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},xA=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?_a(t,e,n).disconnect():Nl(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?_a(t,e,r).disconnect(n,0):_a(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):_a(t,e,r).disconnect(n,0),TA={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},NA=(t,e,n,r,s,i,o,a)=>class extends t{constructor(c,u){const d=i(c),f={...TA,...u},h=r(d,f),p=o(d),m=p?n():null;super(c,!1,h,m),this._attack=e(this,p,h.attack),this._knee=e(this,p,h.knee),this._nativeDynamicsCompressorNode=h,this._ratio=e(this,p,h.ratio),this._release=e(this,p,h.release),this._threshold=e(this,p,h.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=u,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=u,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},AA=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=lt(c,l);if(!u){const d={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(l,d)}return i.set(l,c),u?(await t(l,a.attack,c.attack),await t(l,a.knee,c.knee),await t(l,a.ratio,c.ratio),await t(l,a.release,c.release),await t(l,a.threshold,c.threshold)):(await r(l,a.attack,c.attack),await r(l,a.knee,c.knee),await r(l,a.ratio,c.ratio),await r(l,a.release,c.release),await r(l,a.threshold,c.threshold)),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},kA=()=>new DOMException("","EncodingError"),MA=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,c=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(u,d,f,h,p)=>{if(d===a||d===t.location.href&&f===1&&h===1)return c(),r(p),!1;if(l!==null)return l(u,d,f,h,p)},i.onerror=()=>{c(),r(new SyntaxError)},i.onload=()=>{c(),n()},i.src=a,i.type="module",s.appendChild(i)}}),RA=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},OA=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},IA=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},PA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},DA=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),u={...PA,...l},d=r(c,u),f=i(c),h=f?n():null;super(a,!1,d,h),this._gain=e(this,f,d.gain,ut,yt)}get gain(){return this._gain}},$A=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=lt(c,l);if(!u){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(l,d)}return i.set(l,c),u?await t(l,a.gain,c.gain):await r(l,a.gain,c.gain),await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},FA=(t,e)=>n=>e(t,n),LA=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},VA=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},UA=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},BA=t=>e=>t.get(e),Ye=()=>new DOMException("","InvalidStateError"),jA=t=>e=>{const n=t.get(e);if(n===void 0)throw Ye();return n},zA=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},WA=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},mc=()=>new DOMException("","InvalidAccessError"),qA=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw mc();return e.call(t,n,r,s)})(t.getFrequencyResponse)},GA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},HA=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=r(a),u=s(c),d={...GA,...l},f=e(c,u?null:a.baseLatency,d),h=u?n(d.feedback,d.feedforward):null;super(a,!1,f,h),qA(f),this._nativeIIRFilterNode=f,i(this,1)}getFrequencyResponse(a,l,c){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,c)}},z0=(t,e,n,r,s,i,o,a,l,c,u)=>{const d=c.length;let f=a;for(let h=0;h<d;h+=1){let p=n[0]*c[h];for(let m=1;m<s;m+=1){const _=f-m&l-1;p+=n[m]*i[_],p-=t[m]*o[_]}for(let m=s;m<r;m+=1)p+=n[m]*i[f-m&l-1];for(let m=s;m<e;m+=1)p-=t[m]*o[f-m&l-1];i[f]=c[h],o[f]=p,f=f+1&l-1,u[h]=p}return f},QA=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),o=s.length,a=i.length,l=Math.min(o,a);if(s[0]!==1){for(let p=0;p<o;p+=1)i[p]/=s[0];for(let p=1;p<a;p+=1)s[p]/=s[0]}const c=32,u=new Float32Array(c),d=new Float32Array(c),f=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),h=t.numberOfChannels;for(let p=0;p<h;p+=1){const m=t.getChannelData(p),_=f.getChannelData(p);u.fill(0),d.fill(0),z0(s,o,i,a,l,u,d,0,c,m,_)}return f},KA=(t,e,n,r,s)=>(i,o)=>{const a=new WeakMap;let l=null;const c=async(u,d)=>{let f=null,h=e(u);const p=lt(h,d);if(d.createIIRFilter===void 0?f=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(h=d.createIIRFilter(o,i)),a.set(d,f===null?h:f),f!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const _=new n(u.context.destination.channelCount,u.context.length,d.sampleRate);l=(async()=>{await r(u,_,_.destination);const g=await s(_);return QA(g,d,i,o)})()}const m=await l;return f.buffer=m,f.start(0),f}return await r(u,d,h),h};return{render(u,d){const f=a.get(d);return f!==void 0?Promise.resolve(f):c(u,d)}}},YA=(t,e,n,r,s,i)=>o=>(a,l)=>{const c=t.get(a);if(c===void 0){if(!o&&i(a)){const u=r(a),{outputs:d}=n(a);for(const f of d)if(Lo(f)){const h=r(f[0]);e(u,h,f[1],f[2])}else{const h=s(f[0]);u.disconnect(h,f[1])}}t.set(a,l)}else t.set(a,c+l)},XA=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},ZA=(t,e)=>n=>t.has(n)||e(n),JA=(t,e)=>n=>t.has(n)||e(n),ek=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},tk=t=>e=>t!==null&&e instanceof t,nk=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,rk=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,sk=(t,e)=>n=>t(n)||e(n),ik=t=>e=>t!==null&&e instanceof t,ok=t=>t!==null&&t.isSecureContext,ak=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},lk={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},ck=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i);if(r(a))throw new TypeError;const l={...lk,...o},c=e(a,l);super(i,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},uk=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},dk=(t,e,n)=>class extends t{constructor(s,i){const o=n(s),a=e(o,i);super(s,!0,a,null)}},fk=(t,e,n,r,s,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,hc.set(this,a),r(a)&&s.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===l?a:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},ho=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},hk=(t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(o=>(a,l=0,c=0)=>{const u=i.size===0;if(e(a))return o.call(n,a,l,c),t(i,[a,l,c],d=>d[0]===a&&d[1]===l&&d[2]===c,!0),u&&r(),a;o.call(n,a,l),t(i,[a,l],d=>d[0]===a&&d[1]===l,!0),u&&r()})(n.connect),n.disconnect=(o=>(a,l,c)=>{const u=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const f of i)f[1]===a&&i.delete(f)}else{e(a)?o.call(n,a,l,c):o.call(n,a,l);for(const f of i)f[0]===a&&(l===void 0||f[1]===l)&&(c===void 0||f[2]===c)&&i.delete(f)}const d=i.size===0;u&&d&&s()})(n.disconnect),n},Ce=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},Ge=(t,e)=>{Ce(t,e,"channelCount"),Ce(t,e,"channelCountMode"),Ce(t,e,"channelInterpretation")},Am=t=>typeof t.getFloatTimeDomainData=="function",pk=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},mk=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(Ge(s,r),!(r.maxDecibels>r.minDecibels))throw e();return Ce(s,r,"fftSize"),Ce(s,r,"maxDecibels"),Ce(s,r,"minDecibels"),Ce(s,r,"smoothingTimeConstant"),t(Am,()=>Am(s))||pk(s),s},gk=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Oe=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},vk=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw Ye();e.call(t,r,s,i),n=!0}})(t.start)},sh=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},ih=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},yk=(t,e,n,r,s,i,o,a,l,c,u)=>(d,f)=>{const h=d.createBufferSource();return Ge(h,f),Oe(h,f,"playbackRate"),Ce(h,f,"buffer"),Ce(h,f,"loop"),Ce(h,f,"loopEnd"),Ce(h,f,"loopStart"),e(n,()=>n(d))||vk(h),e(r,()=>r(d))||l(h),e(s,()=>s(d))||c(h,d),e(i,()=>i(d))||sh(h),e(o,()=>o(d))||u(h,d),e(a,()=>a(d))||ih(h),t(d,h),h},_k=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,wk=(t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(c){if(l>i.maxChannelCount)throw c}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},bk=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,Ek=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},Sk=(t,e,n,r,s)=>(i,o,a,l,c,u)=>{if(a!==null)try{const d=new a(i,l,u),f=new Map;let h=null;if(Object.defineProperties(d,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>h,set:p=>{typeof h=="function"&&d.removeEventListener("processorerror",h),h=typeof p=="function"?p:null,typeof h=="function"&&d.addEventListener("processorerror",h)}}}),d.addEventListener=(p=>(...m)=>{if(m[0]==="processorerror"){const _=typeof m[1]=="function"?m[1]:typeof m[1]=="object"&&m[1]!==null&&typeof m[1].handleEvent=="function"?m[1].handleEvent:null;if(_!==null){const g=f.get(m[1]);g!==void 0?m[1]=g:(m[1]=v=>{v.type==="error"?(Object.defineProperties(v,{type:{value:"processorerror"}}),_(v)):_(new ErrorEvent(m[0],{...v}))},f.set(_,m[1]))}}return p.call(d,"error",m[1],m[2]),p.call(d,...m)})(d.addEventListener),d.removeEventListener=(p=>(...m)=>{if(m[0]==="processorerror"){const _=f.get(m[1]);_!==void 0&&(f.delete(m[1]),m[1]=_)}return p.call(d,"error",m[1],m[2]),p.call(d,m[0],m[1],m[2])})(d.removeEventListener),u.numberOfOutputs!==0){const p=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(p).connect(i.destination),s(d,()=>p.disconnect(),()=>p.connect(i.destination))}return d}catch(d){throw d.code===11?r():d}if(c===void 0)throw r();return Ek(u),e(i,o,c,u)},W0=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),Ck=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),xk=async(t,e)=>{const n=await Ck(e);return new t(n)},Tk=(t,e,n,r)=>{let s=Td.get(t);s===void 0&&(s=new WeakMap,Td.set(t,s));const i=xk(n,r);return s.set(e,i),i},Nk=(t,e,n,r,s,i,o,a,l,c,u,d,f)=>(h,p,m,_)=>{if(_.numberOfInputs===0&&_.numberOfOutputs===0)throw l();const g=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(g.some(q=>q<1))throw l();if(g.length!==_.numberOfOutputs)throw e();if(_.channelCountMode!=="explicit")throw l();const v=_.channelCount*_.numberOfInputs,w=g.reduce((q,Y)=>q+Y,0),E=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length;if(v+E>6||w>6)throw l();const b=new MessageChannel,S=[],x=[];for(let q=0;q<_.numberOfInputs;q+=1)S.push(o(h,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),x.push(s(h,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const C=[];if(m.parameterDescriptors!==void 0)for(const{defaultValue:q,maxValue:Y,minValue:Pe,name:ve}of m.parameterDescriptors){const ie=i(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:_.parameterData[ve]!==void 0?_.parameterData[ve]:q===void 0?0:q});Object.defineProperties(ie.offset,{defaultValue:{get:()=>q===void 0?0:q},maxValue:{get:()=>Y===void 0?ut:Y},minValue:{get:()=>Pe===void 0?yt:Pe}}),C.push(ie)}const A=r(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+E)}),N=W0(p,h.sampleRate),R=a(h,N,v+E,Math.max(1,w)),T=s(h,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),F=[];for(let q=0;q<_.numberOfOutputs;q+=1)F.push(r(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[q]}));for(let q=0;q<_.numberOfInputs;q+=1){S[q].connect(x[q]);for(let Y=0;Y<_.channelCount;Y+=1)x[q].connect(A,Y,q*_.channelCount+Y)}const k=new B0(m.parameterDescriptors===void 0?[]:m.parameterDescriptors.map(({name:q},Y)=>{const Pe=C[Y];return Pe.connect(A,0,v+Y),Pe.start(0),[q,Pe.offset]}));A.connect(R);let L=_.channelInterpretation,I=null;const V=_.numberOfOutputs===0?[R]:F,O={get bufferSize(){return N},get channelCount(){return _.channelCount},set channelCount(q){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(q){throw n()},get channelInterpretation(){return L},set channelInterpretation(q){for(const Y of S)Y.channelInterpretation=q;L=q},get context(){return R.context},get inputs(){return S},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return I},set onprocessorerror(q){typeof I=="function"&&O.removeEventListener("processorerror",I),I=typeof q=="function"?q:null,typeof I=="function"&&O.addEventListener("processorerror",I)},get parameters(){return k},get port(){return b.port2},addEventListener(...q){return R.addEventListener(q[0],q[1],q[2])},connect:t.bind(null,V),disconnect:c.bind(null,V),dispatchEvent(...q){return R.dispatchEvent(q[0])},removeEventListener(...q){return R.removeEventListener(q[0],q[1],q[2])}},M=new Map;b.port1.addEventListener=(q=>(...Y)=>{if(Y[0]==="message"){const Pe=typeof Y[1]=="function"?Y[1]:typeof Y[1]=="object"&&Y[1]!==null&&typeof Y[1].handleEvent=="function"?Y[1].handleEvent:null;if(Pe!==null){const ve=M.get(Y[1]);ve!==void 0?Y[1]=ve:(Y[1]=ie=>{u(h.currentTime,h.sampleRate,()=>Pe(ie))},M.set(Pe,Y[1]))}}return q.call(b.port1,Y[0],Y[1],Y[2])})(b.port1.addEventListener),b.port1.removeEventListener=(q=>(...Y)=>{if(Y[0]==="message"){const Pe=M.get(Y[1]);Pe!==void 0&&(M.delete(Y[1]),Y[1]=Pe)}return q.call(b.port1,Y[0],Y[1],Y[2])})(b.port1.removeEventListener);let $=null;Object.defineProperty(b.port1,"onmessage",{get:()=>$,set:q=>{typeof $=="function"&&b.port1.removeEventListener("message",$),$=typeof q=="function"?q:null,typeof $=="function"&&(b.port1.addEventListener("message",$),b.port1.start())}}),m.prototype.port=b.port1;let U=null;Tk(h,O,m,_).then(q=>U=q);const ae=kl(_.numberOfInputs,_.channelCount),le=kl(_.numberOfOutputs,g),X=m.parameterDescriptors===void 0?[]:m.parameterDescriptors.reduce((q,{name:Y})=>({...q,[Y]:new Float32Array(128)}),{});let Z=!0;const ce=()=>{_.numberOfOutputs>0&&R.disconnect(T);for(let q=0,Y=0;q<_.numberOfOutputs;q+=1){const Pe=F[q];for(let ve=0;ve<g[q];ve+=1)T.disconnect(Pe,Y+ve,ve);Y+=g[q]}},K=new Map;R.onaudioprocess=({inputBuffer:q,outputBuffer:Y})=>{if(U!==null){const Pe=d(O);for(let ve=0;ve<N;ve+=128){for(let ie=0;ie<_.numberOfInputs;ie+=1)for(let Ee=0;Ee<_.channelCount;Ee+=1)Al(q,ae[ie],Ee,Ee,ve);m.parameterDescriptors!==void 0&&m.parameterDescriptors.forEach(({name:ie},Ee)=>{Al(q,X,ie,v+Ee,ve)});for(let ie=0;ie<_.numberOfInputs;ie+=1)for(let Ee=0;Ee<g[ie];Ee+=1)le[ie][Ee].byteLength===0&&(le[ie][Ee]=new Float32Array(128));try{const ie=ae.map((Xe,Kn)=>{if(Pe[Kn].size>0)return K.set(Kn,N/128),Xe;const Rc=K.get(Kn);return Rc===void 0?[]:(Xe.every(ww=>ww.every(bw=>bw===0))&&(Rc===1?K.delete(Kn):K.set(Kn,Rc-1)),Xe)});Z=u(h.currentTime+ve/h.sampleRate,h.sampleRate,()=>U.process(ie,le,X));for(let Xe=0,Kn=0;Xe<_.numberOfOutputs;Xe+=1){for(let vi=0;vi<g[Xe];vi+=1)j0(Y,le[Xe],vi,Kn+vi,ve);Kn+=g[Xe]}}catch(ie){Z=!1,O.dispatchEvent(new ErrorEvent("processorerror",{colno:ie.colno,filename:ie.filename,lineno:ie.lineno,message:ie.message}))}if(!Z){for(let ie=0;ie<_.numberOfInputs;ie+=1){S[ie].disconnect(x[ie]);for(let Ee=0;Ee<_.channelCount;Ee+=1)x[ve].disconnect(A,Ee,ie*_.channelCount+Ee)}if(m.parameterDescriptors!==void 0){const ie=m.parameterDescriptors.length;for(let Ee=0;Ee<ie;Ee+=1){const Xe=C[Ee];Xe.disconnect(A,0,v+Ee),Xe.stop()}}A.disconnect(R),R.onaudioprocess=null,ke?ce():Qn();break}}}};let ke=!1;const Dt=o(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Hn=()=>R.connect(Dt).connect(h.destination),Qn=()=>{R.disconnect(Dt),Dt.disconnect()},kc=()=>{if(Z){Qn(),_.numberOfOutputs>0&&R.connect(T);for(let q=0,Y=0;q<_.numberOfOutputs;q+=1){const Pe=F[q];for(let ve=0;ve<g[q];ve+=1)T.connect(Pe,Y+ve,ve);Y+=g[q]}}ke=!0},Mc=()=>{Z&&(Hn(),ce()),ke=!1};return Hn(),f(O,kc,Mc)},q0=(t,e)=>{const n=t.createBiquadFilter();return Ge(n,e),Oe(n,e,"Q"),Oe(n,e,"detune"),Oe(n,e,"frequency"),Oe(n,e,"gain"),Ce(n,e,"type"),n},Ak=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),Ge(s,r),s},kk=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Ye()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Ye()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Ye()}})},Vo=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Ge(n,e),kk(n),n},Mk=(t,e,n,r,s)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return Ge(a,o),Oe(a,o,"offset"),e(r,()=>r(i))||sh(a),e(s,()=>s(i))||ih(a),t(i,a),a},ui=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),Rk=(t,e,n,r)=>(s,{offset:i,...o})=>{const a=s.createBuffer(1,2,44100),l=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(s,{...o,gain:i}),u=a.getChannelData(0);u[0]=1,u[1]=1,l.buffer=a,l.loop=!0;const d={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(p){c.channelCount=p},get channelCountMode(){return c.channelCountMode},set channelCountMode(p){c.channelCountMode=p},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(p){c.channelInterpretation=p},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return l.onended},set onended(p){l.onended=p},addEventListener(...p){return l.addEventListener(p[0],p[1],p[2])},dispatchEvent(...p){return l.dispatchEvent(p[0])},removeEventListener(...p){return l.removeEventListener(p[0],p[1],p[2])},start(p=0){l.start.call(l,p)},stop(p=0){l.stop.call(l,p)}},f=()=>l.connect(c),h=()=>l.disconnect(c);return t(s,l),r(ui(d,c),f,h)},Ok=(t,e)=>(n,r)=>{const s=n.createConvolver();if(Ge(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),Ce(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>o=>{if(o>2)throw t();return i.call(s,o)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>o=>{if(o==="max")throw t();return i.call(s,o)}),s},G0=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Ge(n,e),Oe(n,e,"delayTime"),n},Ik=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(Ge(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Oe(r,n,"attack"),Oe(r,n,"knee"),Oe(r,n,"ratio"),Oe(r,n,"release"),Oe(r,n,"threshold"),r},xt=(t,e)=>{const n=t.createGain();return Ge(n,e),Oe(n,e,"gain"),n},Pk=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return Ge(s,r),s};function Dk(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function $k(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function km(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=$k(n,e),n[0]+=t[r];return n}const Fk=(t,e,n,r)=>(s,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:c,feedforward:u})=>{const d=W0(i,s.sampleRate),f=c instanceof Float64Array?c:new Float64Array(c),h=u instanceof Float64Array?u:new Float64Array(u),p=f.length,m=h.length,_=Math.min(p,m);if(p===0||p>20)throw r();if(f[0]===0)throw e();if(m===0||m>20)throw r();if(h[0]===0)throw e();if(f[0]!==1){for(let C=0;C<m;C+=1)h[C]/=f[0];for(let C=1;C<p;C+=1)f[C]/=f[0]}const g=n(s,d,o,o);g.channelCount=o,g.channelCountMode=a,g.channelInterpretation=l;const v=32,w=[],E=[],b=[];for(let C=0;C<o;C+=1){w.push(0);const A=new Float32Array(v),N=new Float32Array(v);A.fill(0),N.fill(0),E.push(A),b.push(N)}g.onaudioprocess=C=>{const A=C.inputBuffer,N=C.outputBuffer,R=A.numberOfChannels;for(let T=0;T<R;T+=1){const F=A.getChannelData(T),k=N.getChannelData(T);w[T]=z0(f,p,h,m,_,E[T],b[T],w[T],v,F,k)}};const S=s.sampleRate/2;return ui({get bufferSize(){return d},get channelCount(){return g.channelCount},set channelCount(C){g.channelCount=C},get channelCountMode(){return g.channelCountMode},set channelCountMode(C){g.channelCountMode=C},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(C){g.channelInterpretation=C},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener(...C){return g.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return g.dispatchEvent(C[0])},getFrequencyResponse(C,A,N){if(C.length!==A.length||A.length!==N.length)throw t();const R=C.length;for(let T=0;T<R;T+=1){const F=-Math.PI*(C[T]/S),k=[Math.cos(F),Math.sin(F)],L=km(h,k),I=km(f,k),V=Dk(L,I);A[T]=Math.sqrt(V[0]*V[0]+V[1]*V[1]),N[T]=Math.atan2(V[1],V[0])}},removeEventListener(...C){return g.removeEventListener(C[0],C[1],C[2])}},g)},Lk=(t,e)=>t.createMediaElementSource(e.mediaElement),Vk=(t,e)=>{const n=t.createMediaStreamDestination();return Ge(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},Uk=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},Bk=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},jk=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,zk=(t,e,n,r,s,i)=>(o,a)=>{const l=o.createOscillator();return Ge(l,a),Oe(l,a,"detune"),Oe(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):Ce(l,a,"type"),e(n,()=>n(o))||sh(l),e(r,()=>r(o))||i(l,o),e(s,()=>s(o))||ih(l),t(o,l),l},Wk=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(Ge(r,n),Oe(r,n,"orientationX"),Oe(r,n,"orientationY"),Oe(r,n,"orientationZ"),Oe(r,n,"positionX"),Oe(r,n,"positionY"),Oe(r,n,"positionZ"),Ce(r,n,"coneInnerAngle"),Ce(r,n,"coneOuterAngle"),Ce(r,n,"coneOuterGain"),Ce(r,n,"distanceModel"),Ce(r,n,"maxDistance"),Ce(r,n,"panningModel"),Ce(r,n,"refDistance"),Ce(r,n,"rolloffFactor"),r)},qk=(t,e,n,r,s,i,o,a,l,c)=>(u,{coneInnerAngle:d,coneOuterAngle:f,coneOuterGain:h,distanceModel:p,maxDistance:m,orientationX:_,orientationY:g,orientationZ:v,panningModel:w,positionX:E,positionY:b,positionZ:S,refDistance:x,rolloffFactor:C,...A})=>{const N=u.createPanner();if(A.channelCount>2||A.channelCountMode==="max")throw o();Ge(N,A);const R={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},T=n(u,{...R,channelInterpretation:"speakers",numberOfInputs:6}),F=r(u,{...A,gain:1}),k=r(u,{...R,gain:1}),L=r(u,{...R,gain:0}),I=r(u,{...R,gain:0}),V=r(u,{...R,gain:0}),O=r(u,{...R,gain:0}),M=r(u,{...R,gain:0}),$=s(u,256,6,1),U=i(u,{...R,curve:new Float32Array([1,1]),oversample:"none"});let H=[_,g,v],ae=[E,b,S];const le=new Float32Array(1);$.onaudioprocess=({inputBuffer:K})=>{const ke=[l(K,le,0),l(K,le,1),l(K,le,2)];ke.some((Hn,Qn)=>Hn!==H[Qn])&&(N.setOrientation(...ke),H=ke);const Dt=[l(K,le,3),l(K,le,4),l(K,le,5)];Dt.some((Hn,Qn)=>Hn!==ae[Qn])&&(N.setPosition(...Dt),ae=Dt)},Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0});const X={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(K){if(K>2)throw o();F.channelCount=K,N.channelCount=K},get channelCountMode(){return N.channelCountMode},set channelCountMode(K){if(K==="max")throw o();F.channelCountMode=K,N.channelCountMode=K},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(K){F.channelInterpretation=K,N.channelInterpretation=K},get coneInnerAngle(){return N.coneInnerAngle},set coneInnerAngle(K){N.coneInnerAngle=K},get coneOuterAngle(){return N.coneOuterAngle},set coneOuterAngle(K){N.coneOuterAngle=K},get coneOuterGain(){return N.coneOuterGain},set coneOuterGain(K){if(K<0||K>1)throw e();N.coneOuterGain=K},get context(){return N.context},get distanceModel(){return N.distanceModel},set distanceModel(K){N.distanceModel=K},get inputs(){return[F]},get maxDistance(){return N.maxDistance},set maxDistance(K){if(K<0)throw new RangeError;N.maxDistance=K},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get orientationX(){return k.gain},get orientationY(){return L.gain},get orientationZ(){return I.gain},get panningModel(){return N.panningModel},set panningModel(K){N.panningModel=K},get positionX(){return V.gain},get positionY(){return O.gain},get positionZ(){return M.gain},get refDistance(){return N.refDistance},set refDistance(K){if(K<0)throw new RangeError;N.refDistance=K},get rolloffFactor(){return N.rolloffFactor},set rolloffFactor(K){if(K<0)throw new RangeError;N.rolloffFactor=K},addEventListener(...K){return F.addEventListener(K[0],K[1],K[2])},dispatchEvent(...K){return F.dispatchEvent(K[0])},removeEventListener(...K){return F.removeEventListener(K[0],K[1],K[2])}};d!==X.coneInnerAngle&&(X.coneInnerAngle=d),f!==X.coneOuterAngle&&(X.coneOuterAngle=f),h!==X.coneOuterGain&&(X.coneOuterGain=h),p!==X.distanceModel&&(X.distanceModel=p),m!==X.maxDistance&&(X.maxDistance=m),_!==X.orientationX.value&&(X.orientationX.value=_),g!==X.orientationY.value&&(X.orientationY.value=g),v!==X.orientationZ.value&&(X.orientationZ.value=v),w!==X.panningModel&&(X.panningModel=w),E!==X.positionX.value&&(X.positionX.value=E),b!==X.positionY.value&&(X.positionY.value=b),S!==X.positionZ.value&&(X.positionZ.value=S),x!==X.refDistance&&(X.refDistance=x),C!==X.rolloffFactor&&(X.rolloffFactor=C),(H[0]!==1||H[1]!==0||H[2]!==0)&&N.setOrientation(...H),(ae[0]!==0||ae[1]!==0||ae[2]!==0)&&N.setPosition(...ae);const Z=()=>{F.connect(N),t(F,U,0,0),U.connect(k).connect(T,0,0),U.connect(L).connect(T,0,1),U.connect(I).connect(T,0,2),U.connect(V).connect(T,0,3),U.connect(O).connect(T,0,4),U.connect(M).connect(T,0,5),T.connect($).connect(u.destination)},ce=()=>{F.disconnect(N),a(F,U,0,0),U.disconnect(k),k.disconnect(T),U.disconnect(L),L.disconnect(T),U.disconnect(I),I.disconnect(T),U.disconnect(V),V.disconnect(T),U.disconnect(O),O.disconnect(T),U.disconnect(M),M.disconnect(T),T.disconnect($),$.disconnect(u.destination)};return c(ui(X,N),Z,ce)},Gk=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},Uo=(t,e,n,r)=>t.createScriptProcessor(e,n,r),Hk=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return Ge(i,r),Oe(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),i},Qk=(t,e,n,r,s,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...c,oversample:"none"},d=(p,m,_,g)=>{const v=new Float32Array(16385),w=new Float32Array(16385);for(let A=0;A<16385;A+=1){const N=A/16384*l;v[A]=Math.cos(N),w[A]=Math.sin(N)}const E=n(p,{...c,gain:0}),b=r(p,{...u,curve:v}),S=r(p,{...u,curve:a}),x=n(p,{...c,gain:0}),C=r(p,{...u,curve:w});return{connectGraph(){m.connect(E),m.connect(S.inputs===void 0?S:S.inputs[0]),m.connect(x),S.connect(_),_.connect(b.inputs===void 0?b:b.inputs[0]),_.connect(C.inputs===void 0?C:C.inputs[0]),b.connect(E.gain),C.connect(x.gain),E.connect(g,0,0),x.connect(g,0,1)},disconnectGraph(){m.disconnect(E),m.disconnect(S.inputs===void 0?S:S.inputs[0]),m.disconnect(x),S.disconnect(_),_.disconnect(b.inputs===void 0?b:b.inputs[0]),_.disconnect(C.inputs===void 0?C:C.inputs[0]),b.disconnect(E.gain),C.disconnect(x.gain),E.disconnect(g,0,0),x.disconnect(g,0,1)}}},f=(p,m,_,g)=>{const v=new Float32Array(16385),w=new Float32Array(16385),E=new Float32Array(16385),b=new Float32Array(16385),S=Math.floor(16385/2);for(let V=0;V<16385;V+=1)if(V>S){const O=(V-S)/(16384-S)*l;v[V]=Math.cos(O),w[V]=Math.sin(O),E[V]=0,b[V]=1}else{const O=V/(16384-S)*l;v[V]=1,w[V]=0,E[V]=Math.cos(O),b[V]=Math.sin(O)}const x=e(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),C=n(p,{...c,gain:0}),A=r(p,{...u,curve:v}),N=n(p,{...c,gain:0}),R=r(p,{...u,curve:w}),T=r(p,{...u,curve:a}),F=n(p,{...c,gain:0}),k=r(p,{...u,curve:E}),L=n(p,{...c,gain:0}),I=r(p,{...u,curve:b});return{connectGraph(){m.connect(x),m.connect(T.inputs===void 0?T:T.inputs[0]),x.connect(C,0),x.connect(N,0),x.connect(F,1),x.connect(L,1),T.connect(_),_.connect(A.inputs===void 0?A:A.inputs[0]),_.connect(R.inputs===void 0?R:R.inputs[0]),_.connect(k.inputs===void 0?k:k.inputs[0]),_.connect(I.inputs===void 0?I:I.inputs[0]),A.connect(C.gain),R.connect(N.gain),k.connect(F.gain),I.connect(L.gain),C.connect(g,0,0),F.connect(g,0,0),N.connect(g,0,1),L.connect(g,0,1)},disconnectGraph(){m.disconnect(x),m.disconnect(T.inputs===void 0?T:T.inputs[0]),x.disconnect(C,0),x.disconnect(N,0),x.disconnect(F,1),x.disconnect(L,1),T.disconnect(_),_.disconnect(A.inputs===void 0?A:A.inputs[0]),_.disconnect(R.inputs===void 0?R:R.inputs[0]),_.disconnect(k.inputs===void 0?k:k.inputs[0]),_.disconnect(I.inputs===void 0?I:I.inputs[0]),A.disconnect(C.gain),R.disconnect(N.gain),k.disconnect(F.gain),I.disconnect(L.gain),C.disconnect(g,0,0),F.disconnect(g,0,0),N.disconnect(g,0,1),L.disconnect(g,0,1)}}},h=(p,m,_,g,v)=>{if(m===1)return d(p,_,g,v);if(m===2)return f(p,_,g,v);throw s()};return(p,{channelCount:m,channelCountMode:_,pan:g,...v})=>{if(_==="max")throw s();const w=t(p,{...v,channelCount:1,channelCountMode:_,numberOfInputs:2}),E=n(p,{...v,channelCount:m,channelCountMode:_,gain:1}),b=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:g});let{connectGraph:S,disconnectGraph:x}=h(p,m,E,b,w);Object.defineProperty(b.gain,"defaultValue",{get:()=>0}),Object.defineProperty(b.gain,"maxValue",{get:()=>1}),Object.defineProperty(b.gain,"minValue",{get:()=>-1});const C={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(T){E.channelCount!==T&&(A&&x(),{connectGraph:S,disconnectGraph:x}=h(p,T,E,b,w),A&&S()),E.channelCount=T},get channelCountMode(){return E.channelCountMode},set channelCountMode(T){if(T==="clamped-max"||T==="max")throw s();E.channelCountMode=T},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(T){E.channelInterpretation=T},get context(){return E.context},get inputs(){return[E]},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get pan(){return b.gain},addEventListener(...T){return E.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return E.dispatchEvent(T[0])},removeEventListener(...T){return E.removeEventListener(T[0],T[1],T[2])}};let A=!1;const N=()=>{S(),A=!0},R=()=>{x(),A=!1};return i(ui(C,w),N,R)}},Kk=(t,e,n,r,s,i,o)=>(a,l)=>{const c=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);Ge(c,l);const u=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(u!==null&&u.length<2)throw e();Ce(c,{curve:u},"curve"),Ce(c,l,"oversample");let d=null,f=!1;return o(c,"curve",m=>()=>m.call(c),m=>_=>(m.call(c,_),f&&(r(_)&&d===null?d=t(a,c):!r(_)&&d!==null&&(d(),d=null)),_)),s(c,()=>{f=!0,r(c.curve)&&(d=t(a,c))},()=>{f=!1,d!==null&&(d(),d=null)})},Yk=(t,e,n,r,s)=>(i,{curve:o,oversample:a,...l})=>{const c=i.createWaveShaper(),u=i.createWaveShaper();Ge(c,l),Ge(u,l);const d=n(i,{...l,gain:1}),f=n(i,{...l,gain:-1}),h=n(i,{...l,gain:1}),p=n(i,{...l,gain:-1});let m=null,_=!1,g=null;const v={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(b){d.channelCount=b,f.channelCount=b,c.channelCount=b,h.channelCount=b,u.channelCount=b,p.channelCount=b},get channelCountMode(){return c.channelCountMode},set channelCountMode(b){d.channelCountMode=b,f.channelCountMode=b,c.channelCountMode=b,h.channelCountMode=b,u.channelCountMode=b,p.channelCountMode=b},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(b){d.channelInterpretation=b,f.channelInterpretation=b,c.channelInterpretation=b,h.channelInterpretation=b,u.channelInterpretation=b,p.channelInterpretation=b},get context(){return c.context},get curve(){return g},set curve(b){if(b!==null&&b.length<2)throw e();if(b===null)c.curve=b,u.curve=b;else{const S=b.length,x=new Float32Array(S+2-S%2),C=new Float32Array(S+2-S%2);x[0]=b[0],C[0]=-b[S-1];const A=Math.ceil((S+1)/2),N=(S+1)/2-1;for(let R=1;R<A;R+=1){const T=R/A*N,F=Math.floor(T),k=Math.ceil(T);x[R]=F===k?b[F]:(1-(T-F))*b[F]+(1-(k-T))*b[k],C[R]=F===k?-b[S-1-F]:-((1-(T-F))*b[S-1-F])-(1-(k-T))*b[S-1-k]}x[A]=S%2===1?b[A-1]:(b[A-2]+b[A-1])/2,c.curve=x,u.curve=C}g=b,_&&(r(g)&&m===null?m=t(i,d):m!==null&&(m(),m=null))},get inputs(){return[d]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(b){c.oversample=b,u.oversample=b},addEventListener(...b){return d.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return d.dispatchEvent(b[0])},removeEventListener(...b){return d.removeEventListener(b[0],b[1],b[2])}};o!==null&&(v.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==v.oversample&&(v.oversample=a);const w=()=>{d.connect(c).connect(h),d.connect(f).connect(u).connect(p).connect(h),_=!0,r(g)&&(m=t(i,d))},E=()=>{d.disconnect(c),c.disconnect(h),d.disconnect(f),f.disconnect(u),u.disconnect(p),p.disconnect(h),_=!1,m!==null&&(m(),m=null)};return s(ui(v,h),w,E)},gt=()=>new DOMException("","NotSupportedError"),Xk={numberOfChannels:1},Zk=(t,e,n,r,s)=>class extends t{constructor(o,a,l){let c;if(typeof o=="number"&&a!==void 0&&l!==void 0)c={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")c=o;else throw new Error("The given parameters are not valid.");const{length:u,numberOfChannels:d,sampleRate:f}={...Xk,...c},h=r(d,u,f);e(ho,()=>ho(h))||h.addEventListener("statechange",(()=>{let p=0;const m=_=>{this._state==="running"&&(p>0?(h.removeEventListener("statechange",m),_.stopImmediatePropagation(),this._waitForThePromiseToSettle(_)):p+=1)};return m})()),super(h,d),this._length=u,this._nativeOfflineAudioContext=h,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,F0(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},Jk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},e2=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...Jk,...c},f=n(u,d),h=i(u),p=h?r():null,m=l.sampleRate/2;super(l,!1,f,p),this._detune=e(this,h,f.detune,153600,-153600),this._frequency=e(this,h,f.frequency,m,-m),this._nativeOscillatorNode=f,this._onended=null,this._oscillatorNodeRenderer=p,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const c=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=c;const u=this._nativeOscillatorNode.onended;this._onended=u!==null&&u===c?l:u}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){Ys(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),In(this)&&$o(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},t2=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const c=async(u,d)=>{let f=n(u);const h=lt(f,d);if(!h){const p={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:o===null?void 0:o,type:f.type};f=e(d,p),a!==null&&f.start(a),l!==null&&f.stop(l)}return i.set(d,f),h?(await t(d,u.detune,f.detune),await t(d,u.frequency,f.frequency)):(await r(d,u.detune,f.detune),await r(d,u.frequency,f.frequency)),await s(u,d,f),f};return{set periodicWave(u){o=u},set start(u){a=u},set stop(u){l=u},render(u,d){const f=i.get(d);return f!==void 0?Promise.resolve(f):c(u,d)}}},n2={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},r2=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...n2,...c},f=n(u,d),h=i(u),p=h?r():null;super(l,!1,f,p),this._nativePannerNode=f,this._orientationX=e(this,h,f.orientationX,ut,yt),this._orientationY=e(this,h,f.orientationY,ut,yt),this._orientationZ=e(this,h,f.orientationZ,ut,yt),this._positionX=e(this,h,f.positionX,ut,yt),this._positionY=e(this,h,f.positionY,ut,yt),this._positionZ=e(this,h,f.positionZ,ut,yt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},s2=(t,e,n,r,s,i,o,a,l,c)=>()=>{const u=new WeakMap;let d=null;const f=async(h,p)=>{let m=null,_=i(h);const g={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation},v={...g,coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,panningModel:_.panningModel,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor},w=lt(_,p);if("bufferSize"in _)m=r(p,{...g,gain:1});else if(!w){const E={...v,orientationX:_.orientationX.value,orientationY:_.orientationY.value,orientationZ:_.orientationZ.value,positionX:_.positionX.value,positionY:_.positionY.value,positionZ:_.positionZ.value};_=s(p,E)}if(u.set(p,m===null?_:m),m!==null){if(d===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const R=new o(6,h.context.length,p.sampleRate),T=e(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});T.connect(R.destination),d=(async()=>{const F=await Promise.all([h.orientationX,h.orientationY,h.orientationZ,h.positionX,h.positionY,h.positionZ].map(async(k,L)=>{const I=n(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:L===0?1:0});return await a(R,k,I.offset),I}));for(let k=0;k<6;k+=1)F[k].connect(T,0,k),F[k].start(0);return c(R)})()}const E=await d,b=r(p,{...g,gain:1});await l(h,p,b);const S=[];for(let R=0;R<E.numberOfChannels;R+=1)S.push(E.getChannelData(R));let x=[S[0][0],S[1][0],S[2][0]],C=[S[3][0],S[4][0],S[5][0]],A=r(p,{...g,gain:1}),N=s(p,{...v,orientationX:x[0],orientationY:x[1],orientationZ:x[2],positionX:C[0],positionY:C[1],positionZ:C[2]});b.connect(A).connect(N.inputs[0]),N.connect(m);for(let R=128;R<E.length;R+=128){const T=[S[0][R],S[1][R],S[2][R]],F=[S[3][R],S[4][R],S[5][R]];if(T.some((k,L)=>k!==x[L])||F.some((k,L)=>k!==C[L])){x=T,C=F;const k=R/p.sampleRate;A.gain.setValueAtTime(0,k),A=r(p,{...g,gain:0}),N=s(p,{...v,orientationX:x[0],orientationY:x[1],orientationZ:x[2],positionX:C[0],positionY:C[1],positionZ:C[2]}),A.gain.setValueAtTime(1,k),b.connect(A).connect(N.inputs[0]),N.connect(m)}}return m}return w?(await t(p,h.orientationX,_.orientationX),await t(p,h.orientationY,_.orientationY),await t(p,h.orientationZ,_.orientationZ),await t(p,h.positionX,_.positionX),await t(p,h.positionY,_.positionY),await t(p,h.positionZ,_.positionZ)):(await a(p,h.orientationX,_.orientationX),await a(p,h.orientationY,_.orientationY),await a(p,h.orientationZ,_.orientationZ),await a(p,h.positionX,_.positionX),await a(p,h.positionY,_.positionY),await a(p,h.positionZ,_.positionZ)),ci(_)?await l(h,p,_.inputs[0]):await l(h,p,_),_};return{render(h,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):f(h,p)}}},i2={disableNormalization:!1},o2=(t,e,n,r)=>class H0{constructor(i,o){const a=e(i),l=r({...i2,...o}),c=t(a,l);return n.add(c),c}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===H0.prototype||n.has(i)}},a2=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),l2=(t,e,n)=>async(r,s,i)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([c,u])=>{const f=await e(c).render(c,s),h=r.context.destination;!n(c)&&(r!==h||!n(r))&&f.connect(i,u,l)})).reduce((a,l)=>[...a,...l],[]))},c2=(t,e,n)=>async(r,s,i)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const u=await t(a).render(a,s);n(a)||u.connect(i,l)}))},u2=(t,e,n,r)=>s=>t(ho,()=>ho(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const o=n(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}),d2=t=>(e,n)=>{t.set(e,n)},f2=t=>(e,n)=>t.set(e,n),h2=(t,e,n,r,s,i,o,a)=>(l,c)=>n(l).render(l,c).then(()=>Promise.all(Array.from(r(c)).map(u=>n(u).render(u,c)))).then(()=>s(c)).then(u=>(typeof u.copyFromChannel!="function"?(o(u),th(u)):e(i,()=>i(u))||a(u),t.add(u),u)),p2={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},m2=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const c=s(a),u={...p2,...l},d=n(c,u),f=i(c),h=f?r():null;super(a,!1,d,h),this._pan=e(this,f,d.pan)}get pan(){return this._pan}},g2=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let c=n(a);const u=lt(c,l);if(!u){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(l,d)}return i.set(l,c),u?await t(l,a.pan,c.pan):await r(l,a.pan,c.pan),ci(c)?await s(a,l,c.inputs[0]):await s(a,l,c),c};return{render(a,l){const c=i.get(l);return c!==void 0?Promise.resolve(c):o(a,l)}}},v2=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},y2=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,o=!1;try{await r.audioWorklet.addModule(s);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(s)}return i&&!o},_2=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},w2=()=>new DOMException("","UnknownError"),b2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},E2=(t,e,n,r,s,i,o)=>class extends t{constructor(l,c){const u=s(l),d={...b2,...c},f=n(u,d),p=i(u)?r():null;super(l,!0,f,p),this._isCurveNullified=!1,this._nativeWaveShaperNode=f,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},S2=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!lt(a,o)){const c={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,c)}return r.set(o,a),ci(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},C2=()=>typeof window>"u"?null:window,x2=(t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=r.length;for(let d=o<0?-o:0;d+o<l&&d<u;d+=1)r[d]=c[d+o]},n.copyToChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,c=n.getChannelData(a),u=r.length;for(let d=o<0?-o:0;d+o<l&&d<u;d+=1)c[d+o]=r[d]}},T2=t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},N2=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},A2=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)s.connect(r,0,l)},()=>s.disconnect(r))},Q0=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),K0=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Bo=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(o)})},k2=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),M2=t=>({...t,channelCount:t.numberOfOutputs}),R2=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Y0=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;Y0(t,e,n+1e-7)}},O2=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},I2=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},P2=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},oh=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},X0=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},ah=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},D2=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},$2=t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,o=i===null?r:Math.min(i.duration,r);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)},Z0=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),ui(t,n),t.stop=(s=>{let i=!1;return(o=0)=>{if(i)try{s.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else s.call(t,o),i=!0}})(t.stop)},di=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},F2=rN(ls),L2=cN(ls),V2=bA(pc),J0=new WeakMap,U2=VA(J0),cn=XN(new Map,new WeakMap),yn=C2(),e_=mk(cn,wn),lh=LA(dt),tt=l2(dt,lh,Xr),B2=pN(e_,be,tt),ge=jA(hc),Wn=jk(yn),de=ik(Wn),t_=new WeakMap,n_=RA(di),jo=_k(yn),ch=tk(jo),uh=nk(yn),r_=rk(yn),po=bk(yn),Le=VN(sN(M0),lN(F2,L2,xl,V2,Tl,dt,U2,Do,be,ls,In,Xr,Va),cn,YA(Cd,Tl,dt,be,fo,In),wn,mc,gt,vA(xl,Cd,dt,be,fo,ge,In,de),CA(t_,dt,on),n_,ge,ch,uh,r_,de,po),j2=hN(Le,B2,wn,e_,ge,de),dh=new WeakSet,Mm=gk(yn),s_=uA(new Uint32Array(1)),fh=x2(s_,wn),hh=T2(s_),z2=gN(dh,cn,gt,Mm,Wn,v2(Mm),fh,hh),gc=uN(xt),i_=c2(lh,Fo,Xr),bn=sA(i_),fi=yk(gc,cn,O2,I2,P2,oh,X0,ah,$2,N2(Bo),Z0),En=a2(UA(Fo),i_),W2=_N(bn,fi,be,En,tt),un=UN(iN(R0),t_,eh,BN,XT,ZT,JT,eN,tN,bd,A0,jo,Y0),q2=yN(Le,W2,un,Ye,fi,ge,de,di),G2=AN(Le,kN,wn,Ye,wk(xt,Bo),ge,de,tt),H2=YN(bn,q0,be,En,tt),cs=f2(J0),Q2=KN(Le,un,H2,mc,q0,ge,de,cs),kr=hk(ls,uh),K2=A2(Ye,kr),Mr=Ak(jo,K2),Y2=eA(Mr,be,tt),X2=JN(Le,Y2,Mr,ge,de),Z2=rA(Vo,be,tt),J2=nA(Le,Z2,Vo,ge,de,M2),eM=Rk(gc,fi,xt,kr),hi=Mk(gc,cn,eM,oh,ah),tM=cA(bn,hi,be,En,tt),nM=lA(Le,un,tM,hi,ge,de,di),o_=Ok(gt,Bo),rM=hA(o_,be,tt),sM=fA(Le,rM,o_,ge,de,cs),iM=wA(bn,G0,be,En,tt),oM=_A(Le,un,iM,G0,ge,de,cs),a_=Ik(gt),aM=AA(bn,a_,be,En,tt),lM=NA(Le,un,aM,a_,gt,ge,de,cs),cM=$A(bn,xt,be,En,tt),uM=DA(Le,un,cM,xt,ge,de),dM=Fk(mc,Ye,Uo,gt),vc=u2(cn,xt,Uo,_2(xt,Wn)),fM=KA(fi,be,Wn,tt,vc),hM=Pk(dM),pM=HA(Le,hM,fM,ge,de,cs),mM=MN(un,Mr,hi,Uo,gt,Q0,de,Bo),l_=new WeakMap,gM=fk(G2,mM,n_,de,l_,di),c_=zk(gc,cn,oh,X0,ah,Z0),vM=t2(bn,c_,be,En,tt),yM=e2(Le,un,c_,vM,ge,de,di),u_=oA(fi),_M=Yk(u_,Ye,xt,K0,kr),yc=Kk(u_,Ye,_M,K0,kr,jo,Bo),wM=qk(xl,Ye,Mr,xt,Uo,yc,gt,Tl,Q0,kr),d_=Wk(wM),bM=s2(bn,Mr,hi,xt,d_,be,Wn,En,tt,vc),EM=r2(Le,un,d_,bM,ge,de,cs),SM=Gk(wn),CM=o2(SM,ge,new WeakSet,R2),xM=Qk(Mr,Vo,xt,yc,gt,kr),f_=Hk(xM,gt),TM=g2(bn,f_,be,En,tt),NM=m2(Le,un,f_,TM,ge,de),AM=S2(yc,be,tt),kM=E2(Le,Ye,yc,AM,ge,de,cs),h_=ok(yn),ph=OA(yn),p_=new WeakMap,MM=zA(p_,Wn),RM=h_?aN(cn,gt,MA(yn),ph,IA(nN),ge,MM,de,po,new WeakMap,new WeakMap,y2(po,Wn),yn):void 0,OM=sk(ch,de),IM=gA(dh,cn,mA,kA,new WeakSet,ge,OM,Sl,ho,fh,hh),m_=HN(RM,j2,z2,q2,Q2,X2,J2,nM,sM,IM,oM,lM,uM,pM,gM,yM,EM,CM,NM,kM),PM=ak(Le,Lk,ge,de),DM=ck(Le,Vk,ge,de),$M=uk(Le,Uk,ge,de),FM=Bk(Ye,de),LM=dk(Le,FM,ge),VM=NN(m_,Ye,gt,w2,PM,DM,$M,LM,jo),mh=WA(l_),UM=dN(mh),g_=iA(wn),BM=EA(mh),v_=xA(wn),y_=new WeakMap,jM=FA(y_,on),zM=Nk(g_,wn,Ye,Mr,Vo,hi,xt,Uo,gt,v_,ph,jM,kr),WM=Sk(Ye,zM,xt,gt,kr),qM=GN(bn,g_,fi,Mr,Vo,hi,xt,BM,v_,ph,be,po,Wn,En,tt,vc),GM=BA(p_),HM=d2(y_),Rm=h_?zN(UM,Le,un,qM,WM,dt,GM,ge,de,po,k2,HM,D2,di):void 0,QM=pA(gt,Wn),KM=h2(dh,cn,lh,mh,vc,Sl,fh,hh),YM=Zk(m_,cn,Ye,QM,KM),XM=XA(hc,ch),ZM=ZA(Jf,uh),JM=JA(eh,r_),eR=ek(hc,de);function te(t,e){if(!t)throw new Error(e)}function Cr(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function __(t){!t.isOffline&&t.state!=="running"&&b_('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let w_=console;function tR(...t){w_.log(...t)}function b_(...t){w_.warn(...t)}function Bt(t){return typeof t>"u"}function re(t){return!Bt(t)}function nR(t){return typeof t=="function"}function Zr(t){return typeof t=="number"}function Br(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function rR(t){return typeof t=="boolean"}function rn(t){return Array.isArray(t)}function _n(t){return typeof t=="string"}function wa(t){return _n(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function sR(t){return new VM(t)}function iR(t,e,n){return new YM(t,e,n)}const jr=typeof self=="object"?self:null,oR=jr&&(jr.hasOwnProperty("AudioContext")||jr.hasOwnProperty("webkitAudioContext"));function aR(t,e,n){return te(re(Rm),"This node only works in a secure context (https or localhost)"),new Rm(t,e,n)}class lR{constructor(e,n,r){this._callback=e,this._type=n,this._updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(e*1e3,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Jr(t){return JM(t)}function yr(t){return ZM(t)}function Ua(t){return eR(t)}function ms(t){return XM(t)}function E_(t){return t instanceof AudioBuffer}function cR(t,e){return t==="value"||Jr(e)||yr(e)||E_(e)}function Fs(t,...e){if(!e.length)return t;const n=e.shift();if(Br(t)&&Br(n))for(const r in n)cR(r,n[r])?t[r]=n[r]:Br(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Fs(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Fs(t,...e)}function uR(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function G(t,e,n=[],r){const s={},i=Array.from(e);if(Br(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(Fs(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&Br(i[0]))Fs(s,i[0]);else for(let o=0;o<n.length;o++)re(i[o])&&(s[n[o]]=i[o]);return Fs(t,s)}function dR(t){return t.constructor.getDefaults()}function Ls(t,e){return Bt(t)?e:t}function Om(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class qn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||jr&&this.toString()===jr.TONE_DEBUG_CLASS)&&tR(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}qn.version=N0;const gh=1e-6;function Ml(t,e){return t>e+gh}function kd(t,e){return Ml(t,e)||Yt(t,e)}function S_(t,e){return t+gh<e}function Yt(t,e){return Math.abs(t-e)<gh}function fR(t,e,n){return Math.max(Math.min(t,n),e)}class Sn extends qn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=G(Sn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(te(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];te(kd(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Yt(this._timeline[n].time,e)){for(let r=n;r>=0&&Yt(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&kd(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let o=Math.floor(r+(i-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Yt(a[n],e)){for(let c=o;c<this._timeline.length;c++){const u=this._timeline[c];if(Yt(u[n],e))o=c;else break}return o}else{if(S_(a[n],e)&&Ml(l[n],e))return o;Ml(a[n],e)?i=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return s!==-1&&i!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):s===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Yt(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&Yt(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const C_=[];function _c(t){C_.push(t)}function hR(t){C_.forEach(e=>e(t))}const x_=[];function wc(t){x_.push(t)}function pR(t){x_.forEach(e=>e(t))}class zo extends qn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{Bt(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(Bt(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(Bt(n))this._events[e]=[];else{const i=this._events[e];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(zo.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class T_ extends zo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Wo extends T_{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Sn,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=G(Wo.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=sR({latencyHint:e.latencyHint}),this._ticker=new lR(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(hR(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return te(ms(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return te(ms(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return te(ms(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){te(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){te(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){te(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){te(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return aR(this.rawContext,e,n)}addAudioWorkletModule(e,n){return Ue(this,void 0,void 0,function*(){te(re(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(n)||this._workletModules.set(n,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(n)})}workletsAreReady(){return Ue(this,void 0,void 0,function*(){const e=[];this._workletModules.forEach(n=>e.push(n)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let n=0;if(this._latencyHint=e,_n(e))switch(e){case"interactive":n=.1;break;case"playback":n=.5;break;case"balanced":n=.25;break}this.lookAhead=n,this.updateInterval=n/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return ms(this._context)?this._context.resume():Promise.resolve()}close(){return Ue(this,void 0,void 0,function*(){ms(this._context)&&(yield this._context.close()),this._initialized&&pR(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}class mR extends T_{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e,n){return Ue(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Ie(t,e){rn(e)?e.forEach(n=>Ie(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function N_(t,e){rn(e)?e.forEach(n=>N_(t,n)):Object.defineProperty(t,e,{writable:!0})}const he=()=>{};class fe extends qn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=he;const e=G(fe.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,e.url&&E_(e.url)||e.url instanceof fe?this.set(e.url):_n(e.url)&&this.load(e.url).catch(e.onerror)}static getDefaults(){return{onerror:he,onload:he,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Zt().sampleRate}set(e){return e instanceof fe?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Ue(this,void 0,void 0,function*(){const n=fe.load(e).then(r=>{this.set(r),this.onload(this)});fe.downloads.push(n);try{yield n}finally{const r=fe.downloads.indexOf(n);fe.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=rn(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,i=Zt(),o=i.createBuffer(r,s,i.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(Zr(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const i=this.toArray(s);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if(Zr(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);te(r<s,"The start time must be less than the end time");const i=s-r,o=Zt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,s),a);return new fe(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new fe().fromArray(e)}static fromUrl(e){return Ue(this,void 0,void 0,function*(){return yield new fe().load(e)})}static load(e){return Ue(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const a=n[1].split("|");let l=a[0];for(const c of a)if(fe.supportsType(c)){l=c;break}e=e.replace(n[0],l)}const r=fe.baseUrl===""||fe.baseUrl.endsWith("/")?fe.baseUrl:fe.baseUrl+"/",s=yield fetch(r+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const i=yield s.arrayBuffer();return yield Zt().decodeAudioData(i)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Ue(this,void 0,void 0,function*(){for(yield Promise.resolve();fe.downloads.length;)yield fe.downloads[0]})}}fe.baseUrl="";fe.downloads=[];class vh extends Wo{constructor(){super({clockSource:"offline",context:Ua(arguments[0])?arguments[0]:iR(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Ua(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Ua(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Ue(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(e=!0){return Ue(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new fe(n)})}close(){return Promise.resolve()}}const A_=new mR;let Vs=A_;function Zt(){return Vs===A_&&oR&&gR(new Wo),Vs}function gR(t){ms(t)?Vs=new Wo(t):Ua(t)?Vs=new vh(t):Vs=t}function vR(){return Vs.resume()}if(jr&&!jr.TONE_SILENCE_LOGGING){const e=` * Tone.js v${N0} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function yR(t){return Math.pow(10,t/20)}function _R(t){return 20*(Math.log(t)/Math.LN10)}function k_(t){return Math.pow(2,t/12)}let bc=440;function wR(){return bc}function bR(t){bc=t}function Md(t){return Math.round(M_(t))}function M_(t){return 69+12*Math.log2(t/bc)}function ER(t){return bc*Math.pow(2,(t-69)/12)}class yh extends qn{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof yh&&this.fromType(this._val),Bt(this._val))return this._noArg();if(_n(this._val)&&Bt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Br(this._val)){let e=0;for(const n in this._val)if(re(this._val[n])){const r=this._val[n],s=new this.constructor(this.context,n).valueOf()*r;e+=s}return e}if(re(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return _n(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Jt extends yh{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Jt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),a=Math.round(s/r)*r-s;return s+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],s=new Jt(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new Jt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(r=i,s=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.round(n*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Md(this.toFrequency())}_now(){return this.context.now()}}class Vt extends Jt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return wR()}static set A4(e){bR(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Vt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,n){const s=SR[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:Vt.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new Vt(this.context,this.valueOf()*k_(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Md(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Vt.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),CR[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return ER(e)}static ftom(e){return Md(e)}}const SR={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},CR=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Bi extends Jt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class St extends qn{constructor(){super();const e=G(St.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Zt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new Jt(this.context,e).toSeconds()}toFrequency(e){return new Vt(this.context,e).toFrequency()}toTicks(e){return new Bi(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{Bt(e[r])&&delete n[r]}),n}get(){const e=dR(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];re(r)&&re(r.value)&&re(r.setValueAtTime)?e[n]=r.value:r instanceof St?e[n]=r._getPartialProperties(e[n]):rn(r)||Zr(r)||_n(r)||rR(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&re(this[n])&&(this[n]&&re(this[n].value)&&re(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof St?this[n].set(e[n]):this[n]=e[n])}),this}}class _h extends Sn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return Cr(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class Se extends St{constructor(){super(G(Se.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=G(Se.getDefaults(),arguments,["param","units","convert"]);for(te(re(e.param)&&(Jr(e.param)||e.param instanceof Se),"param must be an AudioParam");!Jr(e.param);)e.param=e.param._param;this._swappable=re(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Sn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,re(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(St.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return re(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return re(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return re(this.maxValue)&&re(this.minValue)&&Cr(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?yR(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?_R(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return te(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(s===null)i=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(s.time);let a;o===null?a=this._initialValue:a=o.value,s.type==="setTargetAtTime"&&(i=this._exponentialApproach(s.time,a,s.value,s.constant,n))}else if(r===null)i=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=s.value;if(s.type==="setTargetAtTime"){const a=this._events.getBefore(s.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(s.time,o,r.time,r.value,n):i=this._exponentialInterpolate(s.time,o,r.time,r.value,n)}else i=s.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return te(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Yt(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return te(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);te(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),te(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return te(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));te(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&Yt(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),i=s?s.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){te(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(s-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class ne extends St{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return re(this.input)?Jr(this.input)||this.input instanceof Se?1:this.input.numberOfInputs:0}get numberOfOutputs(){return re(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return re(e)&&(e instanceof ne||yr(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();te(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return pi(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return b_("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return xR(this,e,n,r),this}chain(...e){return Rd(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),re(this.input)&&(this.input instanceof ne?this.input.dispose():yr(this.input)&&this.input.disconnect()),re(this.output)&&(this.output instanceof ne?this.output.dispose():yr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Rd(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof ne?n.connect(r):yr(n)&&pi(n,r),r),e)}function pi(t,e,n=0,r=0){for(te(re(t),"Cannot connect from undefined node"),te(re(e),"Cannot connect to undefined node"),(e instanceof ne||yr(e))&&te(e.numberOfInputs>0,"Cannot connect to node with no inputs"),te(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof ne||e instanceof Se;)re(e.input)&&(e=e.input);for(;t instanceof ne;)re(t.output)&&(t=t.output);Jr(e)?t.connect(e,n):t.connect(e,n,r)}function xR(t,e,n=0,r=0){if(re(e))for(;e instanceof ne;)e=e.input;for(;!yr(t);)re(t.output)&&(t=t.output);Jr(e)?t.disconnect(e,n):yr(e)?t.disconnect(e,n,r):t.disconnect()}class ht extends ne{constructor(){super(G(ht.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=G(ht.getDefaults(),arguments,["gain","units"]);this.gain=new Se({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Ie(this,"gain")}static getDefaults(){return Object.assign(ne.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Xs extends ne{constructor(e){super(e),this.onended=he,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ht({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(ne.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:he})}_startGain(e,n=1){te(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){te(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.context.currentTime),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==he&&(this.onended(this),this.onended=he,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),te(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Rl extends Xs{constructor(){super(G(Rl.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=G(Rl.getDefaults(),arguments,["offset"]);pi(this._source,this._gainNode),this.offset=new Se({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Xs.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class He extends ne{constructor(){super(G(He.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=G(He.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Rl({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ne.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return wh(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function wh(t,e,n,r){(e instanceof Se||Jr(e)||e instanceof He&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof He&&(e.overridden=!0)),pi(t,e,n,r)}class Ol extends Se{constructor(){super(G(Ol.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Sn(1/0),this._multiplier=1;const e=G(Ol.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Se.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,c=this._exponentialApproach(i.time,i.value,s,r,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max((n-s.time)*10,1)),o=(n-s.time)/i;for(let a=0;a<=i;a++){const l=o*a+s.time,c=this._exponentialInterpolate(s.time,s.value,n,r,l);this.linearRampToValueAtTime(this._toType(c),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Bt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),a=Math.sqrt(Math.pow(s,2)-2*o*(n.ticks-e)),l=(-s+a)/o,c=(-s-a)/o;return(l>0?l:c)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Il extends He{constructor(){super(G(Il.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=G(Il.getDefaults(),arguments,["value"]);this.input=this._param=new Ol({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(He.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Pl extends St{constructor(){super(G(Pl.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new _h,this._tickOffset=new Sn;const e=G(Pl.getDefaults(),arguments,["frequency"]);this.frequency=new Il({context:this.context,units:e.units,value:e.frequency}),Ie(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},St.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),re(n)&&this.setTicksAtTime(n,r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&this._state.setStateAtTime("paused",n),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s={state:"paused",time:n};this._state.add(s);let i=r,o=0;return this._state.forEachBetween(r.time,n+this.sampleTime,a=>{let l=i.time;const c=this._tickOffset.get(a.time);c&&c.time>=i.time&&(o=c.ticks,l=c.time),i.state==="started"&&a.state!=="started"&&(o+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(l)),i=a}),this._state.remove(s),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let s=n,i=0;return this._state.forEachBetween(n.time,e+this.sampleTime,o=>{let a=s.time;const l=this._tickOffset.get(o.time);l&&l.time>=s.time&&(i=l.seconds,a=l.time),s.state==="started"&&o.state!=="started"&&(i+=o.time-a),s=o}),this._state.remove(r),i}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),o=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,o=>{s&&s.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,r),s=o});let i=null;if(s&&s.state==="started"){const o=Math.max(s.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(s.time),c=a-l;let u=Math.ceil(c)-c;u=Yt(u,1)?0:u;let d=this.frequency.getTimeOfTick(a+u);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(f){i=f;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class mo extends St{constructor(){super(G(mo.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=he,this._lastUpdate=0,this._state=new _h("stopped"),this._boundLoop=this._loop.bind(this);const e=G(mo.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Pl({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ie(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(St.getDefaults(),{callback:he,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){__(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}zo.mixin(mo);class bh extends qn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=G(bh.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:he,onload:he,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return te(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=he,s=he){return _n(n)?this._buffers.set(e.toString(),new fe(this.baseUrl+n,r,s)):this._buffers.set(e.toString(),new fe(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class An extends Bi{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class TR extends St{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Sn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}_c(t=>{t.draw=new TR({context:t})});wc(t=>{t.draw.dispose()});class NR extends qn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){te(re(e.time),"Events must have a time property"),te(re(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new AR(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class AR{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class es extends ne{constructor(){super(G(es.getDefaults(),arguments,["volume"])),this.name="Volume";const e=G(es.getDefaults(),arguments,["volume"]);this.input=this.output=new ht({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Ie(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(ne.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Dl extends ne{constructor(){super(G(Dl.getDefaults(),arguments)),this.name="Destination",this.input=new es({context:this.context}),this.output=new ht({context:this.context}),this.volume=this.input.volume;const e=G(Dl.getDefaults(),arguments);Rd(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ne.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Rd(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}_c(t=>{t.destination=new Dl({context:t})});wc(t=>{t.destination.dispose()});class kR extends qn{constructor(e){super(),this.name="TimelineValue",this._timeline=new Sn({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class xr{constructor(e,n){this.id=xr._eventId++;const r=Object.assign(xr.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=r.time}static getDefaults(){return{callback:he,once:!1,time:0}}invoke(e){this.callback&&(this.callback(e),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}xr._eventId=0;class Eh extends xr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Eh.getDefaults(),n);this.duration=new An(e.context,r.duration).valueOf(),this._interval=new An(e.context,r.interval).valueOf(),this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},xr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const n=this.transport.getTicksAtTime(e);n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new An(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const n=this.transport.getTicksAtTime(e);n>this.time&&(this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new An(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new An(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class go extends St{constructor(){super(G(go.getDefaults(),arguments)),this.name="Transport",this._loop=new kR(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Sn,this._repeatedEvents=new NR,this._syncedSignals=[],this._swingAmount=0;const e=G(go.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new mo({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Ie(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(St.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new An(this.context,this._swingTicks*2/3).toSeconds()*s}this._timeline.forEachAtTime(n,r=>r.invoke(e))}schedule(e,n){const r=new xr(this,{callback:e,time:new Bi(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new Eh(this,{callback:e,duration:new Jt(this.context,s).toTicks(),interval:new Jt(this.context,n).toTicks(),time:new Bi(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new xr(this,{callback:e,once:!0,time:new Bi(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new An(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){let r;return re(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){rn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Jt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Jt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new An(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new An(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+s;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){if(!n){const s=this.now();if(e.getValueAtTime(s)!==0){const o=1/(60/this.bpm.getValueAtTime(s)/this.PPQ);n=e.getValueAtTime(s)/o}else n=0}const r=new ht(n);return this.bpm.connect(r),r.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:r,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.ratio.dispose(),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),N_(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}zo.mixin(go);_c(t=>{t.transport=new go({context:t})});wc(t=>{t.transport.dispose()});class Ot extends ne{constructor(e){super(e),this.input=void 0,this._state=new _h("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=he,this._syncedStop=he,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new es({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Ie(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(ne.getDefaults(),{mute:!1,onstop:he,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=Bt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")te(Ml(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(Ls(n,0)),i.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},s);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else __(this.context),this._start(s,n,r);return this}stop(e){let n=Bt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||re(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(n>0){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=he,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class vo extends Xs{constructor(){super(G(vo.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=G(vo.getDefaults(),arguments,["url","onload"]);pi(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Se({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new fe(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Xs.getDefaults(),{url:new fe,loop:!1,loopEnd:0,loopStart:0,onload:he,onerror:he,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){te(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),this.loop?n=Ls(n,this.loopStart):n=Ls(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),c=a-l;kd(o,a)&&(o=(o-l)%c+l),Yt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,S_(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),re(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function us(t,e){return Ue(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new vh(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class $l extends Xs{constructor(){super(G($l.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=G($l.getDefaults(),arguments,["frequency","type"]);pi(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Se({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Se({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Ie(this,["frequency","detune"])}static getDefaults(){return Object.assign(Xs.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class $e extends Ot{constructor(){super(G($e.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=G($e.getDefaults(),arguments,["frequency","type"]);this.frequency=new He({context:this.context,units:"frequency",value:e.frequency}),Ie(this,"frequency"),this.detune=new He({context:this.context,units:"cents",value:e.detune}),Ie(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Ot.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new $l({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return $e._periodicWaveCache.find(n=>n.phase===this._phase&&uR(n.partials,this._partials));{const e=$e._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(re(r)){const{partials:s,wave:i}=r;this._wave=i,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(s,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),$e._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),$e._periodicWaveCache.length>100&&$e._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Cr(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((i,o)=>s[o]=i),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const i=new Float32Array(s),o=new Float32Array(s);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,s=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),s=a):this._partialCount=0,this._partials=[]}for(let l=1;l<s;++l){const c=2/(l*Math.PI);let u;switch(e){case"sine":u=l<=a?1:0,this._partials[l-1]=u;break;case"square":u=l&1?2*c:0,this._partials[l-1]=u;break;case"sawtooth":u=c*(l&1?1:-1),this._partials[l-1]=u;break;case"triangle":l&1?u=2*(c*c)*(l-1>>1&1?-1:1):u=0,this._partials[l-1]=u;break;case"custom":u=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}u!==0?(i[l]=-u*Math.sin(n*l),o[l]=u*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,r){let s=0;const i=e.length;for(let o=0;o<i;o++)s+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,i=32;for(let o=0;o<i;o++)r=Math.max(this._inverseFFT(e,n,o/i*s),r);return fR(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return Ue(this,void 0,void 0,function*(){return us(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}$e._periodicWaveCache=[];class Ec extends ne{constructor(){super(Object.assign(G(Ec.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return wh(this,e,n,r),this}}class yo extends Ec{constructor(){super(Object.assign(G(yo.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=G(yo.getDefaults(),arguments,["mapping","length"]);rn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):nR(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(He.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++){const o=s/(i-1)*2-1;r[s]=e(o,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));te(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class MR extends Ec{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new yo({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ts extends He{constructor(){super(Object.assign(G(ts.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=G(ts.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new ht({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(He.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class _o extends Ot{constructor(){super(G(_o.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new MR({context:this.context}),this._modulationNode=new ht({context:this.context});const e=G(_o.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new $e({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new $e({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ts({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ie(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign($e.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Ue(this,void 0,void 0,function*(){return us(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class wo extends Ot{constructor(){super(G(wo.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new ht({context:this.context,gain:0});const e=G(wo.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new $e({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new He({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new $e({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new ts({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new ts({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ie(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign($e.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Ue(this,void 0,void 0,function*(){return us(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Zs extends Ot{constructor(){super(G(Zs.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new ht({context:this.context,gain:0}),this._thresh=new yo({context:this.context,mapping:n=>n<=0?-1:1});const e=G(Zs.getDefaults(),arguments,["frequency","width"]);this.width=new He({context:this.context,units:"audioRange",value:e.width}),this._triangle=new $e({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ie(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ot.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return Ue(this,void 0,void 0,function*(){return us(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class bo extends Ot{constructor(){super(G(bo.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=G(bo.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new He({context:this.context,units:"frequency",value:e.frequency}),this.detune=new He({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Ie(this,["frequency","detune"])}static getDefaults(){return Object.assign($e.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(Cr(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new $e({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):he});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return Ue(this,void 0,void 0,function*(){return us(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Eo extends Ot{constructor(){super(G(Eo.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ts({context:this.context,value:2});const e=G(Eo.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Zs({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new $e({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ie(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ot.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return Ue(this,void 0,void 0,function*(){return us(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Im={am:_o,fat:bo,fm:wo,oscillator:$e,pulse:Zs,pwm:Eo};class So extends Ot{constructor(){super(G(So.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=G(So.getDefaults(),arguments,["frequency","type"]);this.frequency=new He({context:this.context,units:"frequency",value:e.frequency}),this.detune=new He({context:this.context,units:"cents",value:e.detune}),Ie(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign($e.getDefaults(),wo.getDefaults(),_o.getDefaults(),bo.getDefaults(),Zs.getDefaults(),Eo.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Im[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Im[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Zr(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Zr(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&_n(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return Ue(this,void 0,void 0,function*(){return us(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function R_(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Cr(i,t,e),n.set(this,i)}})}}function Gn(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Cr(this.toSeconds(i),t,e),n.set(this,i)}})}}let O_=class Od extends Ot{constructor(){super(G(Od.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=G(Od.getDefaults(),arguments,["url","onload"]);this._buffer=new fe({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ot.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:he,onerror:he,playbackRate:1,reverse:!1})}load(e){return Ue(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=he){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Ls(n,this._loopStart):n=Ls(n,0);const s=this.toSeconds(n),i=r;r=Ls(r,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new vo({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Bt(i)?a.start(e,s):a.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){this._stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Cr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Cr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}};ln([Gn(0)],O_.prototype,"fadeIn",void 0);ln([Gn(0)],O_.prototype,"fadeOut",void 0);class Bn extends ne{constructor(){super(G(Bn.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new He({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=G(Bn.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(ne.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(_n(e))return e;{let r;for(r in ba)if(ba[r][n]===e)return r;return e}}_setCurve(e,n,r){if(_n(r)&&Reflect.has(ba,r)){const s=ba[r];Br(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(rn(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){te(["linear","exponential"].some(n=>n===e),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/s;s=(1-o)/a}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,s,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+s;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(te(rn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return wh(this,e,n,r),this}asArray(e=1024){return Ue(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,r=new vh(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(s+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}ln([Gn(0)],Bn.prototype,"attack",void 0);ln([Gn(0)],Bn.prototype,"decay",void 0);ln([R_(0,1)],Bn.prototype,"sustain",void 0);ln([Gn(0)],Bn.prototype,"release",void 0);const ba=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const s=[],i=6.4;for(e=0;e<127;e++){n=e/127;const f=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;s[e]=f/10+n*.83}s[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const c=[];for(e=0;e<128;e++){n=e/127;const f=Math.pow(n,3)*4+.2,h=Math.cos(f*Math.PI*2*n);c[e]=Math.abs(h*(1-n))}function u(f){const h=new Array(f.length);for(let p=0;p<f.length;p++)h[p]=1-f[p];return h}function d(f){return f.slice(0).reverse()}return{bounce:{In:u(c),Out:c},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:u(s)},sine:{In:l,Out:u(l)},step:{In:o,Out:u(o)}}})();class ns extends ne{constructor(){super(G(ns.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=G(ns.getDefaults(),arguments);this._volume=this.output=new es({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Ie(this,"volume")}static getDefaults(){return Object.assign(ne.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const i=s[n],o=this.context.transport.schedule(a=>{s[n]=a,r.apply(this,s)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class rs extends ns{constructor(){super(G(rs.getDefaults(),arguments));const e=G(rs.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(ns.getDefaults(),{detune:0,onsilence:he,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof Vt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}ln([Gn(0)],rs.prototype,"portamento",void 0);class Sh extends Bn{constructor(){super(G(Sh.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ht({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Co extends rs{constructor(){super(G(Co.getDefaults(),arguments)),this.name="Synth";const e=G(Co.getDefaults(),arguments);this.oscillator=new So(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Sh(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Ie(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(rs.getDefaults(),{envelope:Object.assign(Om(Bn.getDefaults(),Object.keys(ne.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Om(So.getDefaults(),[...Object.keys(Ot.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class xo extends Co{constructor(){super(G(xo.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=G(xo.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Ie(this,["oscillator","envelope"])}static getDefaults(){return Fs(rs.getDefaults(),Co.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof Vt?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ln([R_(0)],xo.prototype,"octaves",void 0);ln([Gn(0)],xo.prototype,"pitchDecay",void 0);const I_=new Set;function Ch(t){I_.add(t)}function P_(t,e){const n=`registerProcessor("${t}", ${e})`;I_.add(n)}const RR=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Ch(RR);const OR=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Ch(OR);const IR=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Ch(IR);const PR="feedback-comb-filter",DR=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;P_(PR,DR);class Js extends ns{constructor(){super(G(Js.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=G(Js.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(te(wa(r)||Zr(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),wa(r)){const i=new Vt(this.context,r).toMidi();n[i]=e.urls[r]}else Zr(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new bh({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(ns.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:he,onerror:he,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=M_(new Vt(this.context,s).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),c=o-l,u=this._buffers.get(c),d=k_(l+a),f=new vo({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);f.start(n,0,u.duration/d,r),rn(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(f),f.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const h=this._activeSources.get(o),p=h.indexOf(f);p!==-1&&h.splice(p,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new Vt(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),rn(n)?(te(rn(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(te(wa(e)||isFinite(e),`note must be a pitch or midi: ${e}`),wa(e)){const s=new Vt(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}ln([Gn(0)],Js.prototype,"attack",void 0);ln([Gn(0)],Js.prototype,"release",void 0);class Fl extends ne{constructor(){super(Object.assign(G(Fl.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=G(Fl.getDefaults(),arguments,["pan"]);this.pan=new Se({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Ie(this,"pan")}static getDefaults(){return Object.assign(ne.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const $R="bit-crusher",FR=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;P_($R,FR);class De extends ne{constructor(){super(G(De.getDefaults(),arguments,["solo"])),this.name="Solo";const e=G(De.getDefaults(),arguments,["solo"]);this.input=this.output=new ht({context:this.context}),De._allSolos.has(this.context)||De._allSolos.set(this.context,new Set),De._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(ne.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),De._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){De._soloed.has(this.context)||De._soloed.set(this.context,new Set),De._soloed.get(this.context).add(this)}_removeSolo(){De._soloed.has(this.context)&&De._soloed.get(this.context).delete(this)}_isSoloed(){return De._soloed.has(this.context)&&De._soloed.get(this.context).has(this)}_noSolos(){return!De._soloed.has(this.context)||De._soloed.has(this.context)&&De._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),De._allSolos.get(this.context).delete(this),this._removeSolo(),this}}De._allSolos=new Map;De._soloed=new Map;class Ll extends ne{constructor(){super(G(Ll.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=G(Ll.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Fl({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new es({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Ie(this,["pan","volume"])}static getDefaults(){return Object.assign(ne.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ir extends ne{constructor(){super(G(Ir.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=G(Ir.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new De({solo:e.solo,context:this.context}),this._panVol=this.output=new Ll({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ie(this,["pan","volume"])}static getDefaults(){return Object.assign(ne.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Ir.buses.has(e)||Ir.buses.set(e,new ht({context:this.context})),Ir.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new ht({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ir.buses=new Map;class LR extends ne{constructor(){super(...arguments),this.name="Listener",this.positionX=new Se({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Se({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Se({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Se({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Se({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Se({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Se({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Se({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Se({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ne.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}_c(t=>{t.listener=new LR({context:t})});wc(t=>{t.listener.dispose()});Zt().transport;Zt().destination;Zt().destination;Zt().listener;Zt().draw;const VR=Zt();function UR(){return fe.loaded()}const BR="/assets/BD 808 Mid Color A 05-pno7fNUy.wav",jR="/assets/SD B 808 Tape Tone C 06-nOcwZapV.wav",zR="/assets/Tom Low A 808 03-K5WLayV-.wav",WR="/assets/Tom Mid A 808 08-CnT_XGWI.wav",qR="/assets/Tom Hi A 808 08-HO-IszNz.wav",GR="/assets/Rim Shot A 808 Tape-Dyu1MR1N.wav",HR="/assets/Clap 808 Color 03-YpiicTqE.wav",QR="/assets/Cowbell 808 Color Short 03-8s3gaU-1.wav",KR="/assets/Cym A 808 Tape Decay C 01-xfbnl7fI.wav",YR="/assets/OH 808 Tape Decay 02-LCKxGQrq.wav",XR="/assets/CH A 808 Tape-LmXkcjVl.wav";var ZR=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function JR(t){if(isNaN(t)||t<0||t>127)return"C0";var e=ZR[t%12],n=Math.floor(t/12)-1;return e+n}const eO={AC:34,BD:35,SD:38,LT:45,MT:48,HT:50,RS:37,CP:39,CB:56,CY:49,OH:46,CH:42},tO=new Js({urls:{35:BR,38:jR,45:zR,48:WR,50:qR,37:GR,39:HR,56:QR,49:KR,46:YR,42:XR},release:1}).toDestination();UR().then(()=>{console.log("samples are loaded")});const nO=(t,e,n)=>{const[r,s]=y.useState(!1),[i,o]=y.useState(-1),{midiOutput:a}=HT(e);VR.state!=="running"&&(vR(),console.log("audio is ready"));const l=y.useCallback(c=>{if(t)for(const u of t.parsed_pattern){const d=u.instrument;if(u.hits[c]==="X"){const h=eO[d];a&&a.playNote(h,{duration:n}),console.log("trigger sample"),tO.triggerAttackRelease(JR(h),4),console.log(h.toString())}}},[a,t,n]);return y.useEffect(()=>{let c=null;return r&&i!==-1&&(l(i),c=setTimeout(()=>{o(u=>(u+1)%16)},n)),()=>{c&&clearTimeout(c)}},[r,i,l,n]),{isPlaying:r,setIsPlaying:s,activeBeatIndex:i,setActiveBeatIndex:o}},rO="IAC Driver Bus 1";function sO({pattern:t}){const[e,n]=y.useState(t),{isPlaying:r,setIsPlaying:s,activeBeatIndex:i,setActiveBeatIndex:o}=nO(e,rO,fm.beatIntervalMs),a=()=>{s(!0),o(0)},l=()=>{s(!1),o(-1)};return D.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[D.jsx(BT,{pattern:t,onPlay:a,onStop:l,isPlaying:r,selectedTempo:fm}),D.jsx(VT,{pattern:e,onPatternChange:n,activeBeatIndex:i}),D.jsx(UT,{onThumbsUp:function(){throw new Error("Function not implemented.")},onThumbsDown:function(){throw new Error("Function not implemented.")},onDownload:function(){throw new Error("Function not implemented.")},onSelectMidiBus:function(){throw new Error("Function not implemented.")}})]})}const iO={pattern_id:"pattern1",pattern:"Basic Beat",parsed_pattern:[{instrument:"BD",hits:["X",".",".",".",".",".",".",".","X",".",".",".",".",".",".","."]},{instrument:"SD",hits:[".","X",".",".",".",".",".",".",".",".","X",".",".",".",".","."]},{instrument:"LT",hits:[".",".","X",".",".",".",".",".",".",".","X",".",".",".",".","."]},{instrument:"MT",hits:[".",".",".","X",".",".",".",".",".",".",".","X",".",".",".","."]},{instrument:"HT",hits:[".",".",".",".","X",".",".",".",".",".",".",".","X",".",".","."]},{instrument:"RS",hits:[".",".",".",".",".","X",".",".",".",".",".",".",".","X",".","."]},{instrument:"CP",hits:[".",".",".",".",".",".","X",".",".",".",".",".",".",".","X","."]},{instrument:"CB",hits:[".",".",".",".",".",".",".","X",".",".",".",".",".",".",".","X"]},{instrument:"CY",hits:["X",".",".",".",".",".",".",".","X",".",".",".",".",".",".","."]},{instrument:"OH",hits:[".",".",".",".","X",".",".",".",".",".",".",".",".","X",".","."]},{instrument:"CH",hits:[".",".",".",".",".","X",".",".",".",".",".",".",".",".","X","."]},{instrument:"AC",hits:[".",".",".",".",".",".","X",".",".",".",".",".",".",".",".","X"]}],creation_time:165789e4,total_rating:5,user_id:"user123",generation_method:"gpt-4",ratings:[{user_id:"user234",delta:1},{user_id:"user345",delta:1}],pattern_embedding:{}},D_=async(t,e)=>{try{const n=await fetch(`${t}`,e);if(!n.ok){const r=await n.json();throw new Error(`HTTP error! status: ${n.status}, message: ${r.message}`)}if(n.body)return n.json();throw new Error("Empty response body")}catch(n){throw console.error(`Error in fetchApi: ${n}`),n}},oO=async()=>D_("/get-unrated-pattern"),aO=async(t,e)=>D_(`/get-pattern?pattern_id=${t}&user_id=${e}`);function Id(t,e){return Id=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Id(t,e)}function qo(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Id(t,e)}var Go=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var s=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){s.listeners=s.listeners.filter(function(o){return o!==i}),s.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}(),Vl=typeof window>"u";function st(){}function lO(t,e){return typeof t=="function"?t(e):t}function Pd(t){return typeof t=="number"&&t>=0&&t!==1/0}function Ul(t){return Array.isArray(t)?t:[t]}function $_(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ba(t,e,n){return Sc(t)?typeof e=="function"?W({},n,{queryKey:t,queryFn:e}):W({},e,{queryKey:t}):t}function sr(t,e,n){return Sc(t)?[W({},e,{queryKey:t}),n]:[t||{},e]}function cO(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function Pm(t,e){var n=t.active,r=t.exact,s=t.fetching,i=t.inactive,o=t.predicate,a=t.queryKey,l=t.stale;if(Sc(a)){if(r){if(e.queryHash!==xh(a,e.options))return!1}else if(!Bl(e.queryKey,a))return!1}var c=cO(n,i);if(c==="none")return!1;if(c!=="all"){var u=e.isActive();if(c==="active"&&!u||c==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof s=="boolean"&&e.isFetching()!==s||o&&!o(e))}function Dm(t,e){var n=t.exact,r=t.fetching,s=t.predicate,i=t.mutationKey;if(Sc(i)){if(!e.options.mutationKey)return!1;if(n){if(Lr(e.options.mutationKey)!==Lr(i))return!1}else if(!Bl(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||s&&!s(e))}function xh(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||Lr;return n(t)}function Lr(t){var e=Ul(t);return uO(e)}function uO(t){return JSON.stringify(t,function(e,n){return Dd(n)?Object.keys(n).sort().reduce(function(r,s){return r[s]=n[s],r},{}):n})}function Bl(t,e){return F_(Ul(t),Ul(e))}function F_(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!F_(t[n],e[n])}):!1}function jl(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||Dd(t)&&Dd(e)){for(var r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),i=s.length,o=n?[]:{},a=0,l=0;l<i;l++){var c=n?l:s[l];o[c]=jl(t[c],e[c]),o[c]===t[c]&&a++}return r===i&&a===r?t:o}return e}function dO(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function Dd(t){if(!$m(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!$m(n)||!n.hasOwnProperty("isPrototypeOf"))}function $m(t){return Object.prototype.toString.call(t)==="[object Object]"}function Sc(t){return typeof t=="string"||Array.isArray(t)}function fO(t){return new Promise(function(e){setTimeout(e,t)})}function Fm(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function L_(){if(typeof AbortController=="function")return new AbortController}var hO=function(t){qo(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(s){var i;if(!Vl&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},n.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(s){this.focused=s,s&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(s){s()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Go),ji=new hO,pO=function(t){qo(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(s){var i;if(!Vl&&((i=window)!=null&&i.addEventListener)){var o=function(){return s()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}},n.setEventListener=function(s){var i,o=this;this.setup=s,(i=this.cleanup)==null||i.call(this),this.cleanup=s(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(s){this.online=s,s&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(s){s()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Go),ja=new pO;function mO(t){return Math.min(1e3*Math.pow(2,t),3e4)}function zl(t){return typeof(t==null?void 0:t.cancel)=="function"}var V_=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function za(t){return t instanceof V_}var U_=function(e){var n=this,r=!1,s,i,o,a;this.abort=e.abort,this.cancel=function(f){return s==null?void 0:s(f)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,h){o=f,a=h});var l=function(h){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(h),i==null||i(),o(h))},c=function(h){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(h),i==null||i(),a(h))},u=function(){return new Promise(function(h){i=h,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){i=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},d=function f(){if(!n.isResolved){var h;try{h=e.fn()}catch(p){h=Promise.reject(p)}s=function(m){if(!n.isResolved&&(c(new V_(m)),n.abort==null||n.abort(),zl(h)))try{h.cancel()}catch{}},n.isTransportCancelable=zl(h),Promise.resolve(h).then(l).catch(function(p){var m,_;if(!n.isResolved){var g=(m=e.retry)!=null?m:3,v=(_=e.retryDelay)!=null?_:mO,w=typeof v=="function"?v(n.failureCount,p):v,E=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,p);if(r||!E){c(p);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,p),fO(w).then(function(){if(!ji.isFocused()||!ja.isOnline())return u()}).then(function(){r?c(p):f()})}})}};d()},gO=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var s;this.transactions++;try{s=r()}finally{this.transactions--,this.transactions||this.flush()}return s},e.schedule=function(r){var s=this;this.transactions?this.queue.push(r):Fm(function(){s.notifyFn(r)})},e.batchCalls=function(r){var s=this;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];s.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,s=this.queue;this.queue=[],s.length&&Fm(function(){r.batchNotifyFn(function(){s.forEach(function(i){r.notifyFn(i)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),Re=new gO,B_=console;function Wl(){return B_}function vO(t){B_=t}var yO=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var s;this.options=W({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(s=this.options.cacheTime)!=null?s:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),Pd(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,s){var i,o,a=this.state.data,l=lO(r,a);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,a,l)?l=a:this.options.structuralSharing!==!1&&(l=jl(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt}),l},e.setState=function(r,s){this.dispatch({type:"setState",state:r,setStateOptions:s})},e.cancel=function(r){var s,i=this.promise;return(s=this.retryer)==null||s.cancel(r),i?i.then(st).catch(st):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!$_(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,s=this.observers.find(function(i){return i.shouldFetchOnReconnect()});s&&s.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(s){return s!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,s){var i=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var u=this.observers.find(function(v){return v.options.queryFn});u&&this.setOptions(u.options)}var d=Ul(this.queryKey),f=L_(),h={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:function(){if(f)return i.abortSignalConsumed=!0,f.signal}});var p=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(h)):Promise.reject("Missing queryFn")},m={fetchOptions:s,options:this.options,queryKey:d,state:this.state,fetchFn:p,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var _;(_=this.options.behavior)==null||_.onFetch(m)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=m.fetchOptions)==null?void 0:a.meta)){var g;this.dispatch({type:"fetch",meta:(g=m.fetchOptions)==null?void 0:g.meta})}return this.retryer=new U_({fn:m.fetchFn,abort:f==null||(l=f.abort)==null?void 0:l.bind(f),onSuccess:function(w){i.setData(w),i.cache.config.onSuccess==null||i.cache.config.onSuccess(w,i),i.cacheTime===0&&i.optionalRemove()},onError:function(w){za(w)&&w.silent||i.dispatch({type:"error",error:w}),za(w)||(i.cache.config.onError==null||i.cache.config.onError(w,i),Wl().error(w)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var s=this;this.state=this.reducer(this.state,r),Re.batch(function(){s.observers.forEach(function(i){i.onQueryUpdate(r)}),s.cache.notify({query:s,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var s=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",o=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof s<"u";return{data:s,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,s){var i,o;switch(s.type){case"failed":return W({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return W({},r,{isPaused:!0});case"continue":return W({},r,{isPaused:!1});case"fetch":return W({},r,{fetchFailureCount:0,fetchMeta:(i=s.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return W({},r,{data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=s.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=s.error;return za(a)&&a.revert&&this.revertState?W({},this.revertState):W({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return W({},r,{isInvalidated:!0});case"setState":return W({},r,s.state);default:return r}},t}(),_O=function(t){qo(e,t);function e(r){var s;return s=t.call(this)||this,s.config=r||{},s.queries=[],s.queriesMap={},s}var n=e.prototype;return n.build=function(s,i,o){var a,l=i.queryKey,c=(a=i.queryHash)!=null?a:xh(l,i),u=this.get(c);return u||(u=new yO({cache:this,queryKey:l,queryHash:c,options:s.defaultQueryOptions(i),state:o,defaultOptions:s.getQueryDefaults(l),meta:i.meta}),this.add(u)),u},n.add=function(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"queryAdded",query:s}))},n.remove=function(s){var i=this.queriesMap[s.queryHash];i&&(s.destroy(),this.queries=this.queries.filter(function(o){return o!==s}),i===s&&delete this.queriesMap[s.queryHash],this.notify({type:"queryRemoved",query:s}))},n.clear=function(){var s=this;Re.batch(function(){s.queries.forEach(function(i){s.remove(i)})})},n.get=function(s){return this.queriesMap[s]},n.getAll=function(){return this.queries},n.find=function(s,i){var o=sr(s,i),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return Pm(a,l)})},n.findAll=function(s,i){var o=sr(s,i),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return Pm(a,l)}):this.queries},n.notify=function(s){var i=this;Re.batch(function(){i.listeners.forEach(function(o){o(s)})})},n.onFocus=function(){var s=this;Re.batch(function(){s.queries.forEach(function(i){i.onFocus()})})},n.onOnline=function(){var s=this;Re.batch(function(){s.queries.forEach(function(i){i.onOnline()})})},e}(Go),wO=function(){function t(n){this.options=W({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||bO(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(s){return s!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(st).catch(st)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,s,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){s=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(s,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(s,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(s,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:s}),s}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),Wl().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,s;return this.retryer=new U_({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(s=this.options.retry)!=null?s:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var s=this;this.state=EO(this.state,r),Re.batch(function(){s.observers.forEach(function(i){i.onMutationUpdate(r)}),s.mutationCache.notify(s)})},t}();function bO(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function EO(t,e){switch(e.type){case"failed":return W({},t,{failureCount:t.failureCount+1});case"pause":return W({},t,{isPaused:!0});case"continue":return W({},t,{isPaused:!1});case"loading":return W({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return W({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return W({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return W({},t,e.state);default:return t}}var SO=function(t){qo(e,t);function e(r){var s;return s=t.call(this)||this,s.config=r||{},s.mutations=[],s.mutationId=0,s}var n=e.prototype;return n.build=function(s,i,o){var a=new wO({mutationCache:this,mutationId:++this.mutationId,options:s.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?s.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(a),a},n.add=function(s){this.mutations.push(s),this.notify(s)},n.remove=function(s){this.mutations=this.mutations.filter(function(i){return i!==s}),s.cancel(),this.notify(s)},n.clear=function(){var s=this;Re.batch(function(){s.mutations.forEach(function(i){s.remove(i)})})},n.getAll=function(){return this.mutations},n.find=function(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(function(i){return Dm(s,i)})},n.findAll=function(s){return this.mutations.filter(function(i){return Dm(s,i)})},n.notify=function(s){var i=this;Re.batch(function(){i.listeners.forEach(function(o){o(s)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var s=this.mutations.filter(function(i){return i.state.isPaused});return Re.batch(function(){return s.reduce(function(i,o){return i.then(function(){return o.continue().catch(st)})},Promise.resolve())})},e}(Go);function CO(){return{onFetch:function(e){e.fetchFn=function(){var n,r,s,i,o,a,l=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,c=(s=e.fetchOptions)==null||(i=s.meta)==null?void 0:i.fetchMore,u=c==null?void 0:c.pageParam,d=(c==null?void 0:c.direction)==="forward",f=(c==null?void 0:c.direction)==="backward",h=((o=e.state.data)==null?void 0:o.pages)||[],p=((a=e.state.data)==null?void 0:a.pageParams)||[],m=L_(),_=m==null?void 0:m.signal,g=p,v=!1,w=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},E=function(k,L,I,V){return g=V?[L].concat(g):[].concat(g,[L]),V?[I].concat(k):[].concat(k,[I])},b=function(k,L,I,V){if(v)return Promise.reject("Cancelled");if(typeof I>"u"&&!L&&k.length)return Promise.resolve(k);var O={queryKey:e.queryKey,signal:_,pageParam:I,meta:e.meta},M=w(O),$=Promise.resolve(M).then(function(H){return E(k,I,H,V)});if(zl(M)){var U=$;U.cancel=M.cancel}return $},S;if(!h.length)S=b([]);else if(d){var x=typeof u<"u",C=x?u:Lm(e.options,h);S=b(h,x,C)}else if(f){var A=typeof u<"u",N=A?u:xO(e.options,h);S=b(h,A,N,!0)}else(function(){g=[];var F=typeof e.options.getNextPageParam>"u",k=l&&h[0]?l(h[0],0,h):!0;S=k?b([],F,p[0]):Promise.resolve(E([],p[0],h[0]));for(var L=function(O){S=S.then(function(M){var $=l&&h[O]?l(h[O],O,h):!0;if($){var U=F?p[O]:Lm(e.options,M);return b(M,F,U)}return Promise.resolve(E(M,p[O],h[O]))})},I=1;I<h.length;I++)L(I)})();var R=S.then(function(F){return{pages:F,pageParams:g}}),T=R;return T.cancel=function(){v=!0,m==null||m.abort(),zl(S)&&S.cancel()},R}}}}function Lm(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function xO(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var TO=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new _O,this.mutationCache=n.mutationCache||new SO,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=ji.subscribe(function(){ji.isFocused()&&ja.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=ja.subscribe(function(){ji.isFocused()&&ja.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,s;(r=this.unsubscribeFocus)==null||r.call(this),(s=this.unsubscribeOnline)==null||s.call(this)},e.isFetching=function(r,s){var i=sr(r,s),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(W({},r,{fetching:!0})).length},e.getQueryData=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(s){var i=s.queryKey,o=s.state,a=o.data;return[i,a]})},e.setQueryData=function(r,s,i){var o=Ba(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(s,i)},e.setQueriesData=function(r,s,i){var o=this;return Re.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,s,i)]})})},e.getQueryState=function(r,s){var i;return(i=this.queryCache.find(r,s))==null?void 0:i.state},e.removeQueries=function(r,s){var i=sr(r,s),o=i[0],a=this.queryCache;Re.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,s,i){var o=this,a=sr(r,s,i),l=a[0],c=a[1],u=this.queryCache,d=W({},l,{active:!0});return Re.batch(function(){return u.findAll(l).forEach(function(f){f.reset()}),o.refetchQueries(d,c)})},e.cancelQueries=function(r,s,i){var o=this,a=sr(r,s,i),l=a[0],c=a[1],u=c===void 0?{}:c;typeof u.revert>"u"&&(u.revert=!0);var d=Re.batch(function(){return o.queryCache.findAll(l).map(function(f){return f.cancel(u)})});return Promise.all(d).then(st).catch(st)},e.invalidateQueries=function(r,s,i){var o,a,l,c=this,u=sr(r,s,i),d=u[0],f=u[1],h=W({},d,{active:(o=(a=d.refetchActive)!=null?a:d.active)!=null?o:!0,inactive:(l=d.refetchInactive)!=null?l:!1});return Re.batch(function(){return c.queryCache.findAll(d).forEach(function(p){p.invalidate()}),c.refetchQueries(h,f)})},e.refetchQueries=function(r,s,i){var o=this,a=sr(r,s,i),l=a[0],c=a[1],u=Re.batch(function(){return o.queryCache.findAll(l).map(function(f){return f.fetch(void 0,W({},c,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),d=Promise.all(u).then(st);return c!=null&&c.throwOnError||(d=d.catch(st)),d},e.fetchQuery=function(r,s,i){var o=Ba(r,s,i),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,s,i){return this.fetchQuery(r,s,i).then(st).catch(st)},e.fetchInfiniteQuery=function(r,s,i){var o=Ba(r,s,i);return o.behavior=CO(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,s,i){return this.fetchInfiniteQuery(r,s,i).then(st).catch(st)},e.cancelMutations=function(){var r=this,s=Re.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(s).then(st).catch(st)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,s){var i=this.queryDefaults.find(function(o){return Lr(r)===Lr(o.queryKey)});i?i.defaultOptions=s:this.queryDefaults.push({queryKey:r,defaultOptions:s})},e.getQueryDefaults=function(r){var s;return r?(s=this.queryDefaults.find(function(i){return Bl(r,i.queryKey)}))==null?void 0:s.defaultOptions:void 0},e.setMutationDefaults=function(r,s){var i=this.mutationDefaults.find(function(o){return Lr(r)===Lr(o.mutationKey)});i?i.defaultOptions=s:this.mutationDefaults.push({mutationKey:r,defaultOptions:s})},e.getMutationDefaults=function(r){var s;return r?(s=this.mutationDefaults.find(function(i){return Bl(r,i.mutationKey)}))==null?void 0:s.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var s=W({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!s.queryHash&&s.queryKey&&(s.queryHash=xh(s.queryKey,s)),s},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:W({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),NO=function(t){qo(e,t);function e(r,s){var i;return i=t.call(this)||this,i.client=r,i.options=s,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(s),i}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Vm(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return $d(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return $d(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(s,i){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(s),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&Um(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(i),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},n.getOptimisticResult=function(s){var i=this.client.defaultQueryObserverOptions(s),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(s,i){var o=this,a={},l=function(u){o.trackedProps.includes(u)||o.trackedProps.push(u)};return Object.keys(s).forEach(function(c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:function(){return l(c),s[c]}})}),(i.useErrorBoundary||i.suspense)&&l("error"),a},n.getNextResult=function(s){var i=this;return new Promise(function(o,a){var l=i.subscribe(function(c){c.isFetching||(l(),c.isError&&(s!=null&&s.throwOnError)?a(c.error):o(c))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(s){return this.fetch(W({},s,{meta:{refetchPage:s==null?void 0:s.refetchPage}}))},n.fetchOptimistic=function(s){var i=this,o=this.client.defaultQueryObserverOptions(s),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return i.createResult(a,o)})},n.fetch=function(s){var i=this;return this.executeFetch(s).then(function(){return i.updateResult(),i.currentResult})},n.executeFetch=function(s){this.updateQuery();var i=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(i=i.catch(st)),i},n.updateStaleTimeout=function(){var s=this;if(this.clearStaleTimeout(),!(Vl||this.currentResult.isStale||!Pd(this.options.staleTime))){var i=$_(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){s.currentResult.isStale||s.updateResult()},o)}},n.computeRefetchInterval=function(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1},n.updateRefetchInterval=function(s){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=s,!(Vl||this.options.enabled===!1||!Pd(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||ji.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(s,i){var o=this.currentQuery,a=this.options,l=this.currentResult,c=this.currentResultState,u=this.currentResultOptions,d=s!==o,f=d?s.state:this.currentQueryInitialState,h=d?this.currentResult:this.previousQueryResult,p=s.state,m=p.dataUpdatedAt,_=p.error,g=p.errorUpdatedAt,v=p.isFetching,w=p.status,E=!1,b=!1,S;if(i.optimisticResults){var x=this.hasListeners(),C=!x&&Vm(s,i),A=x&&Um(s,o,i,a);(C||A)&&(v=!0,m||(w="loading"))}if(i.keepPreviousData&&!p.dataUpdateCount&&(h!=null&&h.isSuccess)&&w!=="error")S=h.data,m=h.dataUpdatedAt,w=h.status,E=!0;else if(i.select&&typeof p.data<"u")if(l&&p.data===(c==null?void 0:c.data)&&i.select===this.selectFn)S=this.selectResult;else try{this.selectFn=i.select,S=i.select(p.data),i.structuralSharing!==!1&&(S=jl(l==null?void 0:l.data,S)),this.selectResult=S,this.selectError=null}catch(T){Wl().error(T),this.selectError=T}else S=p.data;if(typeof i.placeholderData<"u"&&typeof S>"u"&&(w==="loading"||w==="idle")){var N;if(l!=null&&l.isPlaceholderData&&i.placeholderData===(u==null?void 0:u.placeholderData))N=l.data;else if(N=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof N<"u")try{N=i.select(N),i.structuralSharing!==!1&&(N=jl(l==null?void 0:l.data,N)),this.selectError=null}catch(T){Wl().error(T),this.selectError=T}typeof N<"u"&&(w="success",S=N,b=!0)}this.selectError&&(_=this.selectError,S=this.selectResult,g=Date.now(),w="error");var R={status:w,isLoading:w==="loading",isSuccess:w==="success",isError:w==="error",isIdle:w==="idle",data:S,dataUpdatedAt:m,error:_,errorUpdatedAt:g,failureCount:p.fetchFailureCount,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:v,isRefetching:v&&w!=="loading",isLoadingError:w==="error"&&p.dataUpdatedAt===0,isPlaceholderData:b,isPreviousData:E,isRefetchError:w==="error"&&p.dataUpdatedAt!==0,isStale:Th(s,i),refetch:this.refetch,remove:this.remove};return R},n.shouldNotifyListeners=function(s,i){if(!i)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var c=a==="tracked"?this.trackedProps:a;return Object.keys(s).some(function(u){var d=u,f=s[d]!==i[d],h=c==null?void 0:c.some(function(m){return m===u}),p=l==null?void 0:l.some(function(m){return m===u});return f&&!p&&(!c||h)})},n.updateResult=function(s){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!dO(this.currentResult,i)){var o={cache:!0};(s==null?void 0:s.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(W({},o,s))}},n.updateQuery=function(){var s=this.client.getQueryCache().build(this.client,this.options);if(s!==this.currentQuery){var i=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),s.addObserver(this))}},n.onQueryUpdate=function(s){var i={};s.type==="success"?i.onSuccess=!0:s.type==="error"&&!za(s.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},n.notify=function(s){var i=this;Re.batch(function(){s.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):s.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),s.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),s.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},e}(Go);function AO(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Vm(t,e){return AO(t,e)||t.state.dataUpdatedAt>0&&$d(t,e,e.refetchOnMount)}function $d(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Th(t,e)}return!1}function Um(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Th(t,n)}function Th(t,e){return t.isStaleByTime(e.staleTime)}var kO=py.unstable_batchedUpdates;Re.setBatchNotifyFunction(kO);var MO=console;vO(MO);var Bm=pe.createContext(void 0),j_=pe.createContext(!1);function z_(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Bm),window.ReactQueryClientContext):Bm}var RO=function(){var e=pe.useContext(z_(pe.useContext(j_)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},OO=function(e){var n=e.client,r=e.contextSharing,s=r===void 0?!1:r,i=e.children;pe.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=z_(s);return pe.createElement(j_.Provider,{value:s},pe.createElement(o.Provider,{value:n},i))};function IO(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var PO=pe.createContext(IO()),DO=function(){return pe.useContext(PO)};function $O(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function FO(t,e){var n=pe.useRef(!1),r=pe.useState(0),s=r[1],i=RO(),o=DO(),a=i.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=Re.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Re.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Re.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=pe.useState(function(){return new e(i,a)}),c=l[0],u=c.getOptimisticResult(a);if(pe.useEffect(function(){n.current=!0,o.clearReset();var d=c.subscribe(Re.batchCalls(function(){n.current&&s(function(f){return f+1})}));return c.updateResult(),function(){n.current=!1,d()}},[o,c]),pe.useEffect(function(){c.setOptions(a,{listeners:!1})},[a,c]),a.suspense&&u.isLoading)throw c.fetchOptimistic(a).then(function(d){var f=d.data;a.onSuccess==null||a.onSuccess(f),a.onSettled==null||a.onSettled(f,null)}).catch(function(d){o.clearReset(),a.onError==null||a.onError(d),a.onSettled==null||a.onSettled(void 0,d)});if(u.isError&&!o.isReset()&&!u.isFetching&&$O(a.suspense,a.useErrorBoundary,[u.error,c.getCurrentQuery()]))throw u.error;return a.notifyOnChangeProps==="tracked"&&(u=c.trackResult(u,a)),u}function LO(t,e,n){var r=Ba(t,e,n);return FO(r,NO)}function VO({size:t="md"}){return D.jsx("div",{className:"flex justify-center items-center h-screen",children:D.jsx("div",{className:qe("animate-spin ${spinnerSizeClass}",{"h-5 w-5":t==="sm","h-12 w-12":t==="md","h-24 w-24":t==="lg"}),children:D.jsx(UO,{className:"w-full h-full"})})})}function UO(t){return D.jsxs("svg",{...t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"6"}),D.jsx("line",{x1:"12",x2:"12",y1:"18",y2:"22"}),D.jsx("line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76"}),D.jsx("line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07"}),D.jsx("line",{x1:"2",x2:"6",y1:"12",y2:"12"}),D.jsx("line",{x1:"18",x2:"22",y1:"12",y2:"12"}),D.jsx("line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24"}),D.jsx("line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93"})]})}/**
 * @remix-run/router v1.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},To.apply(this,arguments)}var cr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cr||(cr={}));const jm="popstate";function BO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Fd("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:W_(s)}return zO(e,n,null,t)}function We(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jO(){return Math.random().toString(36).substr(2,8)}function zm(t,e){return{usr:t.state,key:t.key,idx:e}}function Fd(t,e,n,r){return n===void 0&&(n=null),To({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mi(e):e,{state:n,key:e&&e.key||r||jO()})}function W_(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function zO(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=cr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(To({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=cr.Pop;let _=u(),g=_==null?null:_-c;c=_,l&&l({action:a,location:m.location,delta:g})}function f(_,g){a=cr.Push;let v=Fd(m.location,_,g);n&&n(v,_),c=u()+1;let w=zm(v,c),E=m.createHref(v);try{o.pushState(w,"",E)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(E)}i&&l&&l({action:a,location:m.location,delta:1})}function h(_,g){a=cr.Replace;let v=Fd(m.location,_,g);n&&n(v,_),c=u();let w=zm(v,c),E=m.createHref(v);o.replaceState(w,"",E),i&&l&&l({action:a,location:m.location,delta:0})}function p(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof _=="string"?_:W_(_);return We(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let m={get action(){return a},get location(){return t(s,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(jm,d),l=_,()=>{s.removeEventListener(jm,d),l=null}},createHref(_){return e(s,_)},createURL:p,encodeLocation(_){let g=p(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(_){return o.go(_)}};return m}var Wm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wm||(Wm={}));function WO(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?mi(e):e,s=H_(r.pathname||"/",n);if(s==null)return null;let i=q_(t);qO(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=eI(i[a],rI(s));return o}function q_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(We(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=zr([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(We(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),q_(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:ZO(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of G_(i.path))s(i,o,l)}),e}function G_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=G_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function qO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GO=/^:[\w-]+$/,HO=3,QO=2,KO=1,YO=10,XO=-2,qm=t=>t==="*";function ZO(t,e){let n=t.split("/"),r=n.length;return n.some(qm)&&(r+=XO),e&&(r+=QO),n.filter(s=>!qm(s)).reduce((s,i)=>s+(GO.test(i)?HO:i===""?KO:YO),r)}function JO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function eI(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=tI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;i.push({params:r,pathname:zr([s,u.pathname]),pathnameBase:uI(zr([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=zr([s,u.pathnameBase]))}return i}function tI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let m=a[d]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return h&&!p?c[f]=void 0:c[f]=sI(p||"",f),c},{}),pathname:i,pathnameBase:o,pattern:t}}function nI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Nh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function rI(t){try{return decodeURI(t)}catch(e){return Nh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function sI(t,e){try{return decodeURIComponent(t)}catch(n){return Nh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function H_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?mi(t):t;return{pathname:n?n.startsWith("/")?n:oI(n,e):e,search:dI(r),hash:fI(s)}}function oI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lI(t,e){let n=aI(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cI(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=mi(t):(s=To({},t),We(!s.pathname||!s.pathname.includes("?"),hu("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),hu("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),hu("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=iI(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const zr=t=>t.join("/").replace(/\/\/+/g,"/"),uI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Q_=["post","put","patch","delete"];new Set(Q_);const pI=["get",...Q_];new Set(pI);/**
 * React Router v6.21.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function No(){return No=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},No.apply(this,arguments)}const Ah=y.createContext(null),mI=y.createContext(null),Cc=y.createContext(null),xc=y.createContext(null),gi=y.createContext({outlet:null,matches:[],isDataRoute:!1}),K_=y.createContext(null);function Tc(){return y.useContext(xc)!=null}function kh(){return Tc()||We(!1),y.useContext(xc).location}function Y_(t){y.useContext(Cc).static||y.useLayoutEffect(t)}function gI(){let{isDataRoute:t}=y.useContext(gi);return t?kI():vI()}function vI(){Tc()||We(!1);let t=y.useContext(Ah),{basename:e,future:n,navigator:r}=y.useContext(Cc),{matches:s}=y.useContext(gi),{pathname:i}=kh(),o=JSON.stringify(lI(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return Y_(()=>{a.current=!0}),y.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=cI(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:zr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,t])}function yI(t,e){return _I(t,e)}function _I(t,e,n,r){Tc()||We(!1);let{navigator:s}=y.useContext(Cc),{matches:i}=y.useContext(gi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=kh(),u;if(e){var d;let _=typeof e=="string"?mi(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||We(!1),u=_}else u=c;let f=u.pathname||"/",h=l==="/"?f:f.slice(l.length)||"/",p=WO(t,{pathname:h}),m=CI(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:zr([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:zr([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r);return e&&m?y.createElement(xc.Provider,{value:{location:No({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:cr.Pop}},m):m}function wI(){let t=AI(),e=hI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const bI=y.createElement(wI,null);class EI extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(gi.Provider,{value:this.props.routeContext},y.createElement(K_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SI(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(Ah);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(gi.Provider,{value:e},r)}function CI(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));u>=0||We(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let h,p=!1,m=null,_=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||bI,l&&(c<0&&f===0?(MI("route-fallback",!1),p=!0,_=null):c===f&&(p=!0,_=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),v=()=>{let w;return h?w=m:p?w=_:d.route.Component?w=y.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,y.createElement(SI,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?y.createElement(EI,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var X_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(X_||{}),ql=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ql||{});function xI(t){let e=y.useContext(Ah);return e||We(!1),e}function TI(t){let e=y.useContext(mI);return e||We(!1),e}function NI(t){let e=y.useContext(gi);return e||We(!1),e}function Z_(t){let e=NI(),n=e.matches[e.matches.length-1];return n.route.id||We(!1),n.route.id}function AI(){var t;let e=y.useContext(K_),n=TI(ql.UseRouteError),r=Z_(ql.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function kI(){let{router:t}=xI(X_.UseNavigateStable),e=Z_(ql.UseNavigateStable),n=y.useRef(!1);return Y_(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,No({fromRouteId:e},i)))},[t,e])}const Gm={};function MI(t,e,n){!e&&!Gm[t]&&(Gm[t]=!0)}function J_(t){We(!1)}function RI(t){let{basename:e="/",children:n=null,location:r,navigationType:s=cr.Pop,navigator:i,static:o=!1,future:a}=t;Tc()&&We(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:No({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=mi(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=r,m=y.useMemo(()=>{let _=H_(u,l);return _==null?null:{location:{pathname:_,search:d,hash:f,state:h,key:p},navigationType:s}},[l,u,d,f,h,p,s]);return m==null?null:y.createElement(Cc.Provider,{value:c},y.createElement(xc.Provider,{children:n,value:m}))}function OI(t){let{children:e,location:n}=t;return yI(Ld(e),n)}new Promise(()=>{});function Ld(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,Ld(r.props.children,i));return}r.type!==J_&&We(!1),!r.props.index||!r.props.children||We(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ld(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.21.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const II="startTransition",Hm=cg[II];function PI(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=BO({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=y.useCallback(d=>{c&&Hm?Hm(()=>l(d)):l(d)},[l,c]);return y.useLayoutEffect(()=>o.listen(u),[o,u]),y.createElement(RI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Qm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qm||(Qm={}));var Km;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Km||(Km={}));async function DI(t,e){return t?aO(t,e):oO()}function $I(){let t=localStorage.getItem("userId");console.log("Existing User ID: ",t),t||(t=crypto.randomUUID(),console.log("Generating new User ID:",t),localStorage.setItem("userId",t));const e=kh(),n=gI(),r=new URLSearchParams(e.search).get("pattern"),s=r?["pattern",r]:"unratedPattern",{data:i,isLoading:o,isError:a,error:l}=LO(s,()=>DI(r||"",t),{staleTime:0,retry:!1}),[c,u]=y.useState(!1);return console.log(i),y.useEffect(()=>{if(i!=null&&i.pattern){const{pattern_id:d}=i.pattern;n(`?pattern=${d}`)}},[n,i]),o?D.jsx(dm,{children:D.jsx(VO,{})}):D.jsx(dm,{children:D.jsx(sO,{pattern:(i==null?void 0:i.pattern)||iO})})}const ew=y.forwardRef((t,e)=>y.createElement(Be.span,W({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),tw="ToastProvider",[Mh,FI,LI]=Vf("Toast"),[nw,XP]=ii("Toast",[LI]),[VI,Nc]=nw(tw),rw=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,u]=y.useState(0),d=y.useRef(!1),f=y.useRef(!1);return y.createElement(Mh.Provider,{scope:e},y.createElement(VI,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>u(h=>h+1),[]),onToastRemove:y.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f},o))};rw.propTypes={label(t){if(t.label&&typeof t.label=="string"&&!t.label.trim()){const e=`Invalid prop \`label\` supplied to \`${tw}\`. Expected non-empty \`string\`.`;return new Error(e)}return null}};const UI="ToastViewport",BI=["F8"],Vd="toast.viewportPause",Ud="toast.viewportResume",jI=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=BI,label:s="Notifications ({hotkey})",...i}=t,o=Nc(UI,n),a=FI(n),l=y.useRef(null),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=at(e,d,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;y.useEffect(()=>{const _=g=>{var v;r.every(E=>g[E]||g.code===E)&&((v=d.current)===null||v===void 0||v.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),y.useEffect(()=>{const _=l.current,g=d.current;if(p&&_&&g){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(Vd);g.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(Ud);g.dispatchEvent(S),o.isClosePausedRef.current=!1}},E=S=>{!_.contains(S.relatedTarget)&&w()},b=()=>{_.contains(document.activeElement)||w()};return _.addEventListener("focusin",v),_.addEventListener("focusout",E),_.addEventListener("pointermove",v),_.addEventListener("pointerleave",b),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{_.removeEventListener("focusin",v),_.removeEventListener("focusout",E),_.removeEventListener("pointermove",v),_.removeEventListener("pointerleave",b),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[p,o.isClosePausedRef]);const m=y.useCallback(({tabbingDirection:_})=>{const v=a().map(w=>{const E=w.ref.current,b=[E,...sP(E)];return _==="forwards"?b:b.reverse()});return(_==="forwards"?v.reverse():v).flat()},[a]);return y.useEffect(()=>{const _=d.current;if(_){const g=v=>{const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const C=document.activeElement,A=v.shiftKey;if(v.target===_&&A){var b;(b=c.current)===null||b===void 0||b.focus();return}const T=m({tabbingDirection:A?"backwards":"forwards"}),F=T.findIndex(k=>k===C);if(pu(T.slice(F+1)))v.preventDefault();else{var S,x;A?(S=c.current)===null||S===void 0||S.focus():(x=u.current)===null||x===void 0||x.focus()}}};return _.addEventListener("keydown",g),()=>_.removeEventListener("keydown",g)}},[a,m]),y.createElement(sS,{ref:l,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"}},p&&y.createElement(Ym,{ref:c,onFocusFromOutsideViewport:()=>{const _=m({tabbingDirection:"forwards"});pu(_)}}),y.createElement(Mh.Slot,{scope:n},y.createElement(Be.ol,W({tabIndex:-1},i,{ref:f}))),p&&y.createElement(Ym,{ref:u,onFocusFromOutsideViewport:()=>{const _=m({tabbingDirection:"backwards"});pu(_)}}))}),zI="ToastFocusProxy",Ym=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Nc(zI,n);return y.createElement(ew,W({"aria-hidden":!0,tabIndex:0},s,{ref:e,style:{position:"fixed"},onFocus:o=>{var a;const l=o.relatedTarget;!((a=i.viewport)!==null&&a!==void 0&&a.contains(l))&&r()}}))}),Ac="Toast",WI="toast.swipeStart",qI="toast.swipeMove",GI="toast.swipeCancel",HI="toast.swipeEnd",QI=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Ff({prop:r,defaultProp:s,onChange:i});return y.createElement(li,{present:n||a},y.createElement(sw,W({open:a},o,{ref:e,onClose:()=>l(!1),onPause:Ct(t.onPause),onResume:Ct(t.onResume),onSwipeStart:J(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:J(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:J(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:J(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})))}),[KI,YI]=nw(Ac,{onClose(){}}),sw=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...p}=t,m=Nc(Ac,n),[_,g]=y.useState(null),v=at(e,k=>g(k)),w=y.useRef(null),E=y.useRef(null),b=s||m.duration,S=y.useRef(0),x=y.useRef(b),C=y.useRef(0),{onToastAdd:A,onToastRemove:N}=m,R=Ct(()=>{var k;(_==null?void 0:_.contains(document.activeElement))&&((k=m.viewport)===null||k===void 0||k.focus()),o()}),T=y.useCallback(k=>{!k||k===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(R,k))},[R]);y.useEffect(()=>{const k=m.viewport;if(k){const L=()=>{T(x.current),c==null||c()},I=()=>{const V=new Date().getTime()-S.current;x.current=x.current-V,window.clearTimeout(C.current),l==null||l()};return k.addEventListener(Vd,I),k.addEventListener(Ud,L),()=>{k.removeEventListener(Vd,I),k.removeEventListener(Ud,L)}}},[m.viewport,b,l,c,T]),y.useEffect(()=>{i&&!m.isClosePausedRef.current&&T(b)},[i,b,m.isClosePausedRef,T]),y.useEffect(()=>(A(),()=>N()),[A,N]);const F=y.useMemo(()=>_?lw(_):null,[_]);return m.viewport?y.createElement(y.Fragment,null,F&&y.createElement(XI,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},F),y.createElement(KI,{scope:n,onClose:R},ri.createPortal(y.createElement(Mh.ItemSlot,{scope:n},y.createElement(rS,{asChild:!0,onEscapeKeyDown:J(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||R(),m.isFocusedToastEscapeKeyDownRef.current=!1})},y.createElement(Be.li,W({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection},p,{ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:J(t.onKeyDown,k=>{k.key==="Escape"&&(a==null||a(k.nativeEvent),k.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:J(t.onPointerDown,k=>{k.button===0&&(w.current={x:k.clientX,y:k.clientY})}),onPointerMove:J(t.onPointerMove,k=>{if(!w.current)return;const L=k.clientX-w.current.x,I=k.clientY-w.current.y,V=!!E.current,O=["left","right"].includes(m.swipeDirection),M=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,$=O?M(0,L):0,U=O?0:M(0,I),H=k.pointerType==="touch"?10:2,ae={x:$,y:U},le={originalEvent:k,delta:ae};V?(E.current=ae,Ea(qI,d,le,{discrete:!1})):Xm(ae,m.swipeDirection,H)?(E.current=ae,Ea(WI,u,le,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(L)>H||Math.abs(I)>H)&&(w.current=null)}),onPointerUp:J(t.onPointerUp,k=>{const L=E.current,I=k.target;if(I.hasPointerCapture(k.pointerId)&&I.releasePointerCapture(k.pointerId),E.current=null,w.current=null,L){const V=k.currentTarget,O={originalEvent:k,delta:L};Xm(L,m.swipeDirection,m.swipeThreshold)?Ea(HI,h,O,{discrete:!0}):Ea(GI,f,O,{discrete:!0}),V.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})))),m.viewport))):null});sw.propTypes={type(t){if(t.type&&!["foreground","background"].includes(t.type)){const e=`Invalid prop \`type\` supplied to \`${Ac}\`. Expected \`foreground | background\`.`;return new Error(e)}return null}};const XI=t=>{const{__scopeToast:e,children:n,...r}=t,s=Nc(Ac,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return nP(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:y.createElement(Wy,{asChild:!0},y.createElement(ew,r,i&&y.createElement(y.Fragment,null,s.label," ",n)))},ZI=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.createElement(Be.div,W({},r,{ref:e}))}),JI=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.createElement(Be.div,W({},r,{ref:e}))}),eP="ToastAction",iw=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n?y.createElement(aw,{altText:n,asChild:!0},y.createElement(ow,W({},r,{ref:e}))):null});iw.propTypes={altText(t){return t.altText?null:new Error(`Missing prop \`altText\` expected on \`${eP}\``)}};const tP="ToastClose",ow=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=YI(tP,n);return y.createElement(aw,{asChild:!0},y.createElement(Be.button,W({type:"button"},r,{ref:e,onClick:J(t.onClick,s.onClose)})))}),aw=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return y.createElement(Be.div,W({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},s,{ref:e}))});function lw(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),rP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...lw(r))}}),e}function Ea(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Lf(s,i):s.dispatchEvent(i)}const Xm=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function nP(t=()=>{}){const e=Ct(t);Kr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function rP(t){return t.nodeType===t.ELEMENT_NODE}function sP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pu(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}const iP=rw,cw=jI,uw=QI,dw=ZI,fw=JI,hw=iw,pw=ow,oP=iP,mw=y.forwardRef(({className:t,...e},n)=>D.jsx(cw,{ref:n,className:qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));mw.displayName=cw.displayName;const aP=vy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gw=y.forwardRef(({className:t,variant:e,...n},r)=>D.jsx(uw,{ref:r,className:qe(aP({variant:e}),t),...n}));gw.displayName=uw.displayName;const lP=y.forwardRef(({className:t,...e},n)=>D.jsx(hw,{ref:n,className:qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));lP.displayName=hw.displayName;const vw=y.forwardRef(({className:t,...e},n)=>D.jsx(pw,{ref:n,className:qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:D.jsx(lE,{className:"h-4 w-4"})}));vw.displayName=pw.displayName;const yw=y.forwardRef(({className:t,...e},n)=>D.jsx(dw,{ref:n,className:qe("text-sm font-semibold",t),...e}));yw.displayName=dw.displayName;const _w=y.forwardRef(({className:t,...e},n)=>D.jsx(fw,{ref:n,className:qe("text-sm opacity-90",t),...e}));_w.displayName=fw.displayName;const cP=1,uP=1e6;let mu=0;function dP(){return mu=(mu+1)%Number.MAX_SAFE_INTEGER,mu.toString()}const gu=new Map,Zm=t=>{if(gu.has(t))return;const e=setTimeout(()=>{gu.delete(t),zi({type:"REMOVE_TOAST",toastId:t})},uP);gu.set(t,e)},fP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,cP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Zm(n):t.toasts.forEach(r=>{Zm(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Wa=[];let qa={toasts:[]};function zi(t){qa=fP(qa,t),Wa.forEach(e=>{e(qa)})}function hP({...t}){const e=dP(),n=s=>zi({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>zi({type:"DISMISS_TOAST",toastId:e});return zi({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function pP(){const[t,e]=y.useState(qa);return y.useEffect(()=>(Wa.push(e),()=>{const n=Wa.indexOf(e);n>-1&&Wa.splice(n,1)}),[t]),{...t,toast:hP,dismiss:n=>zi({type:"DISMISS_TOAST",toastId:n})}}function mP(){const{toasts:t}=pP();return D.jsxs(oP,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return D.jsxs(gw,{...i,children:[D.jsxs("div",{className:"grid gap-1",children:[n&&D.jsx(yw,{children:n}),r&&D.jsx(_w,{children:r})]}),s,D.jsx(vw,{})]},e)}),D.jsx(mw,{})]})}const gP=new TO;function vP(){return D.jsx(Qb,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:D.jsxs(OO,{client:gP,children:[D.jsx(PI,{children:D.jsx(OI,{children:D.jsx(J_,{path:"/",element:D.jsx($I,{})})})}),D.jsx(mP,{})]})})}vu.createRoot(document.getElementById("root")).render(D.jsx(pe.StrictMode,{children:D.jsx(vP,{})}));
